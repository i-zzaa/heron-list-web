import{r as n,R as Ka}from"./react.2fd4c9ce.js";import{c as Wa}from"./react-dom.64e71150.js";import{a as Za}from"./axios.d349c3b3.js";import{j as e,a as p,F as B,b as Xa,m as et,c as at,d as tt,e as st,f as nt}from"./@fullcalendar.702266e6.js";import{B as ua,N as ot}from"./react-router-dom.dc59d84e.js";import{T as it,P as rt,A as $e,a as qe,D as Be,C as re,b as ma,I as Ue,c as lt,d as ct,e as dt,L as pt,M as ut,f as fa,g as mt,h as ft,S as gt,i as ga,j as ye,K as xt,k as Ye}from"./primereact.a90c733e.js";import{h as H}from"./moment.9709ab41.js";import{c as he}from"./clsx.09c75e33.js";import{L as ht}from"./react-lottie-player.706222cc.js";import{C as oe,u as Ee}from"./react-hook-form.2c9e29ae.js";import{e as xa,f as He,d as vt}from"./react-router.4450ca87.js";import{u as we,w as bt}from"./xlsx.86b9426e.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.d1fbb2c2.js";import"./form-data.d1f94bc2.js";import"./tslib.75aab73a.js";import"./rrule.c22110f0.js";import"./@remix-run.f7ecdf14.js";import"./react-transition-group.8d6420ed.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./lottie-web.1f2cebb8.js";import"./rfdc.0929fce7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerpolicy&&(d.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?d.credentials="include":i.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function t(i){if(i.ep)return;i.ep=!0;const d=o(i);fetch(i.href,d)}})();const xe=Za.create({baseURL:"https://api-multialcance.online/",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:"web"}}),sa=(a,s)=>{xe.interceptors.request.use(async o=>(o.url.endsWith("login")||(o.headers.Authorization=`Bearer ${a}`,o.headers.login=s),o),o=>Promise.reject(o))},ae=async(a,s)=>{var i;const o=s?`?${s}`:"",t=await xe(`${a}/dropdown${o}`);return t.status===200?((i=t.data)==null?void 0:i.data)||t.data:[]},We=async(a,s)=>await xe.post(a,s),ie=async(a,s)=>await xe.put(a,s),yt=async a=>await xe.delete(`${a}`),ue=async a=>{const s=await xe(a);return s.status===200?s.data:[]},Ct=async(a,s)=>await xe(`${a}/${s}`),Ne=async(a,s,o)=>{const t=o?`?${o}`:"";return await xe.post(`${a}/filtro${t}`,s)},Et="secretaria",Qe="developer",At="coordenador",St="coordenador-terapeuta",ha="terapeuta",va=n.exports.createContext({}),Tt=({children:a})=>{const{perfil:s}=_e(),[o,t]=n.exports.useState([]),i=l=>{t(l)};n.exports.useMemo(async()=>{const l=sessionStorage.getItem("auth"),m=(l?JSON.parse(l):[]).permissoes||await ue("permissao");t(m)},[]),n.exports.useEffect(()=>{o.length},[]);const d=(l="")=>{switch(!0){case!s:throw new Error("Voce n\xE3o tem permissao");case l==="*":return!0;default:return!!(o.length&&o.includes(l.toUpperCase())||s===Qe)}};return e(va.Provider,{value:{hasPermition:d,perfil:s,permissions:o,setPermissionsLogin:i},children:a})},te=()=>n.exports.useContext(va),It="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",ba=n.exports.createContext({}),wt=({children:a})=>{const[s,o]=n.exports.useState("hidden"),[t,i]=n.exports.useState(),[d,l]=n.exports.useState(""),[x,m]=n.exports.useState({type:"info",title:"",message:"",open:!1}),h=E=>{switch(E){case"success":i(e("i",{className:"pi pi-check-circle"}));break;case"failure":i(e("i",{className:"pi pi-times-circle"}));break;case"warning":i(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":i(e("i",{className:"pi pi-info-circle"}));break;default:i(e("i",{className:"pi pi-undo"}));break}},g=E=>{switch(E){case"success":l("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":l("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":l("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":l("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:l("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},I=({type:E,message:T,title:c,open:y})=>{h(E),g(E),m({type:E,message:T,title:c,open:y}),o(y?"block":"hidden"),setTimeout(()=>{o("hidden")},3e3)};return e(ba.Provider,{value:{renderToast:I},children:p(B,{children:[a,p("div",{className:`${It} ${s} ${d}`,role:"alert",children:[t,p("span",{children:[e("span",{className:"font-medium",children:"   "+x.title})," "+x.message]})]})]})})};function de(){return n.exports.useContext(ba)}const Ze=n.exports.createContext({}),Nt=({children:a})=>{const[s,o]=n.exports.useState(),[t,i]=n.exports.useState(""),{setPermissionsLogin:d}=te(),{renderToast:l}=de();n.exports.useEffect(()=>{const g=sessionStorage.getItem("token"),I=sessionStorage.getItem("auth"),E=sessionStorage.getItem("perfil")||"";if(g&&I){const T=JSON.parse(I);o(T),i(E),sa(g,T.login)}},[]);const x=async g=>{var I;try{const T=(await xe.post("/login",{...g,password:parseInt(g.password)})).data,c=(T==null?void 0:T.user)||T.data,y=(T==null?void 0:T.accessToken)||T.data.accessToken,r=(I=c.perfil)!=null&&I.nome?c.perfil.nome.toLowerCase():c.perfil.toLowerCase();sessionStorage.setItem("token",y),sessionStorage.setItem("auth",JSON.stringify(c)),sessionStorage.setItem("perfil",r),c.permissoes.length&&d&&d(c.permissoes),i(r),o(c),await sa(y,c.login),l({type:"success",title:" ",message:T.message,open:!0})}catch(E){m(E)}},m=g=>{const I=g!=null&&g.data?g==null?void 0:g.data.message:"Usu\xE1rio n\xE3o encontrado!";l({type:"failure",title:g.status,message:I,open:!0})},h=()=>{o(void 0),sessionStorage.clear()};return e(Ze.Provider,{value:{signed:Boolean(s),user:s,Login:x,Logout:h,perfil:t},children:a})},_e=()=>n.exports.useContext(Ze),_t="/assets/logo-lg.ee70d40f.jpg";function W({icon:a,size:s="full",type:o="primary",color:t="white",text:i,loading:d,onClick:l}){return e(it,{icon:a,loading:d,label:s==="icon"?"":i,onClick:l,className:he(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":o==="primary","bg-yellow-400 hover:bg-violet-800":o==="second","bg-transparent hover:bg-transparent":o==="transparent","text-white":t==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":t==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":t==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":t==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":t==="violet","w-full":s==="full","sm:w-2/5 w-full":s==="md"})})}H.locale("pt-br");const Dt={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},na={TO:"bg-to",FONO:"bg-fono",PSICO:"bg-psico",PSICOPEDAG:"bg-psico-pdeg"},Ft={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},oa=a=>a.charAt(0).toUpperCase()+a.slice(1),ya=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(s=>{const o=Dt[s.textContent.toUpperCase()],t=Ft[s.textContent.toUpperCase()];s.style.background=o,s.style.color=t})},0)},ia=a=>H(a).format("DD/MM/YYYY"),kt=a=>(H.locale("pt-br"),H(a).format("YYYY-MM-DD")),Lt=a=>H(a).add(1,"days").format("YYYY-MM-DD"),ra=(a,s)=>{const o=H(a);return H(s).diff(o,"weeks")+1},Ca=["Segunda-feira","Terca-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xE1bado"],Ot=a=>{const s=H(a),o=Number(s.day()-1);return`${Ca[o]}, ${s.format("ll")}`},ze=a=>{var s;return{id:a.id,nome:a.nome,dataNascimento:a.dataNascimento,telefone:a.telefone,responsavel:a.responsavel,carteirinha:a.carteirinha,periodoId:a.vaga.periodo,convenioId:a.convenio,statusId:a.status,dataContato:a.vaga.dataContato,dataVoltouAba:(s=a==null?void 0:a.vaga)==null?void 0:s.dataVoltouAba,sessao:a==null?void 0:a.sessao,vagaId:a.vaga.id,especialidades:a.vaga.especialidades.map(o=>({nome:o.especialidade.nome,id:o.especialidade.id})),tipoSessaoId:a.tipoSessao,observacao:a.vaga.observacao}},Ea=(a,s)=>H(new Date(a,s-1,1)).format("YYYY-MM-DD"),Aa=(a,s)=>H(new Date(a,s,0)).format("YYYY-MM-DD"),Pt=a=>{const s=H.duration(a);return`${s.hours().toString().padStart(2,"0")}:${s.minutes().toString().padStart(2,"0")}:${s.seconds().toString().padStart(2,"0")}`},pe=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),la=a=>H(a).isBefore(new Date);const Rt=({list:a,onChange:s,selected:o})=>{const[t,i]=n.exports.useState(a),[d,l]=n.exports.useState([]),x=h=>{i(h.source),l(h.target),s(h.target)};return n.exports.useEffect(()=>{if(o.length){const h=a.filter(I=>!o.includes(I.id)),g=a.filter(I=>o.includes(I.id));i(h),l(g)}},[]),e("div",{className:"picklist-demo mb-8",children:e("div",{className:"card",children:e(rt,{source:t,target:d,itemTemplate:h=>e("div",{className:"product-item",children:p("div",{className:"product-list-detail",children:[e("span",{className:"text-sm text-gray-800",children:h.descricao}),e("h5",{className:" product-category text-xs text-gray-400",children:h.cod})]})}),sourceHeader:"Permiss\xF5es",targetHeader:"Selecionados",showSourceControls:!1,showTargetControls:!1,sourceStyle:{height:"342px"},targetStyle:{height:"342px"},onChange:x,filterBy:"descricao",sourceFilterPlaceholder:"Pesquisar",targetFilterPlaceholder:"Pesquisar"})})})},$t=({value:a,onChange:s,control:o})=>{const t={"08:00":!1,"09:00":!1,"10:00":!1,"11:00":!1,"12:00":!1,"13:00":!1,"14:00":!1,"15:00":!1,"16:00":!1,"17:00":!1,"18:00":!1,"19:00":!1,"20:00":!1},i=Object.keys(a).length?a:{"Segunda-feira":t,"Terca-feira":t,"Quarta-feira":t,"Quinta-feira":t,"Sexta-feira":t,S\u00E1bado:t},[d,l]=n.exports.useState(i),x=m=>Object.keys(d[m]).map(h=>e(K,{labelText:h,id:m+h,type:"switch",control:o,value:d[m][h],onChange:g=>{const I={...d};I[m][h]=g,l(I),s(I)},customCol:"w-24 font-inter"},m+h));return p("div",{className:"card p-fluid",children:[e("h5",{className:"text-md my-2 text-gray-800 font-bold ",children:"Hor\xE1rio de trabalho da terapeuta"}),e($e,{children:Object.keys(d).map(m=>e(qe,{header:m,tabIndex:m,children:x(m)},m))})]})},qt=({value:a,onChange:s,type:o})=>{const[t,i]=n.exports.useState(a),d=o==="sessao"?[{field:"especialidade",header:"Especialidade"},{field:"valor",header:"Valor"},{field:"km",header:"KM"}]:[{field:"funcao",header:"Fun\xE7\xE3o"},{field:"valor",header:"Valor"},{field:"tipo",header:"Tipo Comiss\xE3o"}],l=m=>{switch(m.field){case"valor":return m.rowData.tipo==="Fixo"||o==="sessao"?e(Ue,{onValueChange:h=>{const g=[...t];g[m.rowIndex].valor=pe.format(h.target.value),i(g)},mode:"currency",currency:"BRL",locale:"pt-BR",className:"font-inter"}):e(Ue,{onValueChange:h=>{const g=[...t];g[m.rowIndex].valor=h.target.value,i(g)},suffix:"%",className:"font-inter"});case"km":return e("input",{type:"number",onInput:h=>{const g=[...t];g[m.rowIndex].km=h.target.value,i(g)}});case"tipo":return e(ma,{virtualScrollerOptions:{itemSize:38},options:[{id:"fixo",nome:"Fixo"},{id:"porcentagem",nome:"%"}],onChange:h=>{const g=[...t];g[m.rowIndex].tipo=h.target.value.nome,i(g)},optionLabel:"nome"});default:return m.value}},x=m=>{m.field==="especialidade"||m.field==="funcao"||s(t)};return n.exports.useEffect(()=>{i(a)},[a]),p("div",{className:"card p-fluid",children:[e("h5",{className:"text-md my-2 text-gray-800 font-bold ",children:"Infoma\xE7\xF5es das sess\xF5es"}),e(Be,{value:t,editMode:"cell",className:"editable-cells-table font-inter",responsiveLayout:"scroll",children:d.map(({field:m,header:h})=>e(re,{field:m,header:h,style:{width:"25%"},onCellEditComplete:x,editor:g=>l(g)},m))})]})};function K({onChange:a,value:s,labelText:o,id:t,type:i,customClass:d,options:l,customCol:x,validate:m,errors:h,control:g,disabled:I,hidden:E}){const T=()=>{switch(i){case"select":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e(ma,{value:s||c.value,virtualScrollerOptions:{itemSize:38},options:l,onChange:y=>(a&&a(y.value),c.onChange(y.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:I})});case"multiselect":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e(ut,{disabled:I,id:c.id,display:"chip",optionLabel:"nome",filter:!0,value:s||c.value,onChange:y=>{ya(),a&&a(y.value),c.onChange(y.value)},options:l})});case"list":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e(pt,{value:c.value,options:l,onChange:y=>c.onChange(y.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e("textarea",{id:c.id,...c,value:s||c.value,className:d,placeholder:c.placeholder,disabled:I})});case"switch":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>p("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[p("span",{className:"col-span-4 text-violet-800",children:[" ",o," "]}),e("div",{className:"col-span-2",children:e(dt,{checked:s||c.value,color:"#685ec5",value:s,disabled:I,onChange:y=>{c.onChange(y.target.value),a&&a(y.target.value)}})})]})});case"tel":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e(ct,{disabled:I,value:s||c.value,type:i,className:"inputAnimado font-inter font-light"+d,mask:"(99) 9999-9999",onChange:y=>c.onChange(y.value)},c.id)});case"checkbox":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>p(B,{children:[e(lt,{checked:s,type:i,className:"inputAnimado "+d,onChange:y=>{c.onChange(y.target.checked),a&&a(y.target.checked)}}),p("span",{className:"col-span-4 text-violet-800",children:[" ",o," "]})]})});case"time":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>n.exports.createElement("input",{id:c.id,...c,value:s||c.value,key:c.id,type:i,className:"inputAnimado font-inter "+d,disabled:I,onInput:y=>{c.onChange(y),a&&a(y)}})});case"price":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e("div",{className:"inputAnimado font-inter "+d,id:c.id,children:p("div",{className:"p-inputgroup",children:[e(Ue,{value:s||c.value,disabled:I,onInput:y=>{c.onChange(y),a&&a(y)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>n.exports.createElement("input",{disabled:I,id:c.id,...c,value:s||c.value,key:c.id,type:i,className:"inputAnimado "+d,autoComplete:"off",min:(m==null?void 0:m.min)&&m.min,onInput:y=>{c.onChange(y),a&&a(y)}})});case"picker":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e(Rt,{list:l,selected:s,onChange:y=>{c.onChange(y),a&&a(y)}})});case"dataTable":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e($t,{value:s,control:g,onChange:y=>{c.onChange(y),a&&a(y)}})});case"dataTableSessaoHeron":return e(oe,{name:t,control:g,rules:m,render:({field:c})=>e(qt,{value:s,type:t,onChange:y=>{c.onChange(y),a&&a(y)}})});default:return e(oe,{name:t,control:g,rules:m,render:({field:c})=>n.exports.createElement("input",{disabled:I,id:c.id,...c,value:s||c.value,key:c.id,type:i,className:"inputAnimado "+d,autoComplete:"off",onInput:y=>{c.onChange(y),a&&a(y)}})})}};return p("div",{className:he("label-float",{"my-5":!x,hidden:E&&E},x),children:[T(),i!=="switch"&&i!=="checkbox"&&p("label",{children:[" ",o," "]}),h&&h[t]&&e("p",{className:"text-xs text-red-400 text-end",children:h[t].message})]})}function Xe({size:a="md",color:s="gray-dark",children:o}){return e("span",{className:he("font-bold",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"}),children:o})}function ge({size:a="md",color:s="gray-dark",text:o,display:t="grid",subtext:i,icon:d,className:l}){return p("div",{className:he("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-red-900":s==="red","text-black":s==="black"},l),children:[d&&e("div",{className:"flex items-center",children:e("i",{className:d})}),p("span",{className:t,children:[o,"\xA0",p("strong",{className:"font-inter",children:[" ",i]})]})]})}function le({children:a,legend:s}){return e("fieldset",{className:"px-8 items-center bg-white rounded-lg border border-gray-200 shadow-md mt-4 ",children:e("div",{className:"py-4",children:a})})}function Vt({onSubmit:a,control:s,loading:o}){return p("div",{className:"grid grid-cols-12 items-center gap-1",children:[e(K,{labelText:"Search",id:"search",type:"text",customCol:"col-span-11",control:s}),e("div",{className:"mt-4",children:e(W,{text:"Buscar",icon:"pi pi-search",type:"primary",size:"icon",onClick:a,loading:o})})]})}function zt({onClick:a,onSubmit:s,textButton:o,iconButton:t,control:i,loading:d,screen:l}){const{hasPermition:x}=te();return p("div",{className:"grid grid-cols-8 gap-2 justify-between",children:[e("form",{action:"#",onSubmit:s,className:"col-span-8 sm:col-span-7",children:e(Vt,{onSubmit:s,control:i,loading:!!d})}),p("div",{className:"col-span-8 sm:col-span-1",children:[x(`${l}_BOTAO_CADASTRAR`)?e("div",{className:"sm:hidden ",children:e(W,{text:o,icon:t,type:"primary",size:"full",onClick:a})}):null,x(`${l}_BOTAO_CADASTRAR`)?e("div",{className:"hidden sm:block mt-5 text-end",children:e(W,{text:o,icon:t,type:"primary",size:"icon",onClick:a})}):null]})]})}function ce({title:a,children:s,open:o,width:t="50vw",onClose:i}){return e(fa,{header:a,modal:!0,visible:o,onHide:i,breakpoints:{"960px":"75vw"},style:{width:t},children:s})}function Ae({title:a,message:s,icon:o,onAccept:t,onReject:i,open:d,onClose:l,rejectLabel:x="N\xE3o",acceptLabel:m="Sim"}){return e(mt,{visible:d,onHide:l,message:s,header:a,icon:o,accept:t,reject:i,acceptLabel:m,rejectLabel:x})}const jt="text-sm items-center flex text-white py-2 px-6 rounded-full cursor-not-allowed cursor-pointer opacity-25 disabled:opacity-100 ";function Sa({onClick:a,type:s,disabled:o}){return e("button",{onClick:a,className:he(jt,{"bg-to":s.toUpperCase()==="TO","bg-fono":s.toUpperCase()==="FONO","bg-psico":s.toUpperCase()==="PSICO","bg-black":s.toUpperCase()==="PSICOPEDAG"}),disabled:!o,children:s.toUpperCase()})}function fe({size:a="md",color:s="gray-dark",text:o,className:t}){return e("span",{className:he("font-normal tracking-wider",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"},t),children:o})}function Ta({onClickEdit:a,onClickTrash:s,onClickReturn:o,positionActions:t="left",actionEdit:i,actionTrash:d,actionReturn:l,screen:x}){const{hasPermition:m}=te();return e("div",{className:he("",{"flex justify-start":t==="left","text-right":t==="right"}),children:p(B,{children:[i&&m(`${x}_LISTA_BOTAO_EDITAR`)&&e(W,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:a}),d&&m(`${x}_LISTA_BOTAO_EXCLUIR`)&&e(W,{text:"Trash",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:s}),l&&m(`${x}_LISTA_BOTAO_RETORNAR`)&&e(W,{text:"Return",icon:"pi pi-replay",type:"transparent",color:"yellow",size:"icon",onClick:o})]})})}function ca({onClick:a,textButtonFooter:s,iconButtonFooter:o,sizeButtonFooter:t,typeButtonFooter:i}){return s===""||s===void 0?e(B,{}):p(B,{children:[e("div",{className:"hidden sm:block",children:e(W,{text:s,icon:o,type:i,size:t,onClick:a})}),e("div",{className:"sm:hidden  flex-1",children:e(W,{text:s,icon:o,type:i,size:"full",onClick:a})})]})}function Mt({children:a,textButtonFooter:s,iconButtonFooter:o,typeButtonFooter:t,isDevolutiva:i,sizeButtonFooter:d,onClick:l,onClickLink:x}){return p("div",{className:"w-full text-center bg-white overflow-hidden",children:[a,p("div",{className:"flex text-sm  text-gray-400 mt-4 sm:m-0 justify-end gap-2",children:[i&&ca({textButtonFooter:"Retornar",iconButtonFooter:"pi pi-sync",typeButtonFooter:"second",sizeButtonFooter:d,onClick:x||(()=>{})}),ca({textButtonFooter:s,iconButtonFooter:o,typeButtonFooter:t,sizeButtonFooter:d,onClick:l})]})]})}function Gt({textPrimaryLeft:a,textPrimaryRight:s,textSecondLeft:o,onClickLink:t,onClick:i,textButtonFooter:d,iconButtonFooter:l,typeButtonFooter:x,sizeButtonFooter:m,onClickEdit:h,onClickTrash:g,onClickReturn:I,positionActions:E="right",actionEdit:T,actionTrash:c,actionReturn:y,screen:r}){return e(Ve.Root,{textButtonFooter:d,iconButtonFooter:l,typeButtonFooter:x,sizeButtonFooter:m,onClick:i,children:p(B,{children:[p("div",{className:"grid grid-cols-5 justify-between text-base font-medium text-gray-800 mt-4",children:[p("div",{className:"col-span-4 grid sm:grid-cols-2 gap-2 sm:justify-between text-left",children:[e(fe,{text:a,size:"md",color:"violet"}),e(fe,{text:s,size:"sm",color:"gray"}),e("span",{})]}),Ta({onClickEdit:h,onClickTrash:g,onClickReturn:I,positionActions:E,actionEdit:T,actionTrash:c,actionReturn:y,screen:r})]}),o&&p("div",{className:"mt-1  flex items-center gap-2",children:[e("i",{className:"pi pi-user text-sm text-gray-400 "}),e(fe,{text:o,size:"xs",color:"gray"})]})]})})}function Yt({textPrimaryLeft:a,textPrimaryCenter:s,textPrimaryRight:o,textSecondLeft:t,textSecondRight:i,textSecondCenter:d,textFooter:l,tags:x,onClickEdit:m,onClickTrash:h,onClickReturn:g,onClick:I,onClickLink:E,textButtonFooter:T,iconButtonFooter:c,typeButtonFooter:y,sizeButtonFooter:r,isDevolutiva:L,actionEdit:O,actionTrash:q,actionReturn:A,positionActions:C="left",children:f,screen:_}){const{hasPermition:$}=te(),F=()=>e("div",{className:"text-right flex gap-1 h-8 justify-end",children:x==null?void 0:x.map(V=>e(Sa,{onClick:$(`${_}_LISTA_TAG_ESPECIALIDADES`)?E:void 0,type:V.type,disabled:_==="FILA_DEVOLUTIVA"||_==="CADASTRO_PACIENTES"?!1:V==null?void 0:V.disabled},V.type))});return e(Ve.Root,{textButtonFooter:T,iconButtonFooter:c,typeButtonFooter:y,isDevolutiva:L,sizeButtonFooter:r,onClick:I,onClickLink:E,children:p(B,{children:[p("div",{className:"grid grid-rows-2 sm:grid-cols-2 mb-4 sm:mb-0 h-12 mt-6",children:[_!=="FILA_DEVOLUTIVA"?Ta({onClickEdit:m,onClickTrash:h,onClickReturn:g,positionActions:C,actionEdit:O,actionTrash:q,actionReturn:A,screen:_}):e("div",{}),F()]}),p("div",{children:[p("div",{className:"flex items-end gap-2 sm:gap-8 text-left ",children:[e(fe,{text:a,size:"lg",color:"violet"}),e(fe,{className:"font-inter",text:s,size:"sm",color:"gray-dark"}),e(fe,{className:"font-inter",text:o,size:"sm",color:"gray-dark"})]}),p("div",{className:"mt-1 grid sm:flex items-center sm:gap-2 justify-between font-light text-left",children:[e("div",{className:"flex justify-center items-center ",children:e(fe,{text:t,size:"md",color:"gray-dark"})}),$(`${_}_LISTA_TEXT_TELEFONE`)?p("div",{className:"flex items-center gap-2 p-2 font-sans text-left",children:[e("i",{className:"pi pi-phone text-gray-400 text-xs"}),e(fe,{text:d,size:"md",color:"gray-dark",className:"font-inter"})]}):e(B,{}),e(fe,{text:i,size:"md",color:"gray-dark",className:"font-inter"})]}),e("div",{className:"mt-2",children:f}),p("div",{className:"mt-4 flex items-center gap-2 text-ellipsis overflow-hidden",children:[e(ft,{target:".obs",mouseTrack:!0,className:"w-2/4 sm:w-1/4"}),e("p",{className:" text-gray-800  text-sm justify-start text-start obs text-ellipsis overflow-hidden","data-pr-tooltip":l,children:l})]})]})]})})}const Ve={Root:Mt,Simples:Gt,Complete:Yt};function Je(){return p("div",{className:"uppercase flex items-center gap-4 m-auto mt-2",children:[e("i",{className:"pi pi-folder-open"}),e(Xe,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const Ia="Comp 1",wa="",Na=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],_a=0,Da=1080,Fa=1920,ka={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},La="5.7.4",Oa=30,Pa=180,Ra=0,$a=[],Bt={nm:Ia,mn:wa,layers:Na,ddd:_a,h:Da,w:Fa,meta:ka,v:La,fr:Oa,op:Pa,ip:Ra,assets:$a},Ut=Object.freeze(Object.defineProperty({__proto__:null,nm:Ia,mn:wa,layers:Na,ddd:_a,h:Da,w:Fa,meta:ka,v:La,fr:Oa,op:Pa,ip:Ra,assets:$a,default:Bt},Symbol.toStringTag,{value:"Module"}));function Ke(){return e("div",{className:"flex items-center justify-center",children:e(ht,{loop:!0,animationData:Ut,play:!0,style:{width:200,height:200}})})}var k=(a=>(a.queue_avaliation="queue_avaliation",a.avaliation="avaliation",a.queue_devolutiva="queue_devolutiva",a.devolutiva="devolutiva",a.queue_therapy="queue_therapy",a.therapy="therapy",a.crud_therapy="crud_therapy",a))(k||{});const qa=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data do Contato",id:"dataContato",name:"dataContato",type:"date",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Per\xEDodo",id:"periodoId",name:"periodos",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-3"},{labelText:"Tipo Sess\xE3o",id:"tipoSessaoId",name:"tipoSessao",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Prioridade",id:"statusId",name:"status",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}],Ht=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data Contato",id:"dataVoltouAba",name:"dataVoltouAba",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Per\xEDodo",id:"periodoId",name:"periodos",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-4"},{labelText:"Prioridade",id:"statusId",name:"status",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}],Qt=[{permission:"CADASTRO_PACIENTES",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],Jt=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-3"},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}];function De({type:a="simples",iconButtonFooter:s,textButtonFooter:o,onClickLink:t,onClick:i,onClickEdit:d,onClickTrash:l,onClickReturn:x,items:m,screen:h,loading:g=!1}){const{hasPermition:I}=te(),E=r=>{var O;if(!r.status||r.statusPacienteCod===k.crud_therapy)return null;const L=`${(O=r.status)==null?void 0:O.nome}`;switch(L){case"Urgente":return e(ge,{text:"Prioridade: ",subtext:p("strong",{className:"text-red-900  px-1 flex",children:[L,p("span",{className:"flex h-2 w-2 relative",children:[e("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-900"})]})]}),size:"sm",color:"gray-dark",display:"flex"});case"Padr\xE3o":return e(ge,{text:"Prioridade: ",subtext:"Padr\xE3o",size:"sm",color:"gray-dark",display:"flex"});case"Voltou ABA":return e(ge,{text:"Prioridade: ",subtext:"Voltou ABA",size:"sm",color:"gray-dark",display:"flex"})}},T=()=>m.map(r=>{var C,f;const L=(r==null?void 0:r.nome)||(r==null?void 0:r.casa),O=((C=r==null?void 0:r.perfil)==null?void 0:C.nome.toUpperCase())||(r==null?void 0:r.sala)||((f=r==null?void 0:r.especialidade)==null?void 0:f.nome),q=(r==null?void 0:r.login)||"",A=!!(r!=null&&r.ativo);return e(Ve.Simples,{textPrimaryLeft:L,textPrimaryRight:O,textSecondLeft:q,onClickLink:()=>t(r),onClick:()=>i(r),textButtonFooter:o,iconButtonFooter:s,typeButtonFooter:"second",sizeButtonFooter:"sm",onClickEdit:()=>d(r),onClickTrash:()=>l(r),onClickReturn:()=>x(r),actionEdit:A,actionTrash:A,actionReturn:!A,screen:h},(r==null?void 0:r.login)||r.id)}),c=()=>m.map(r=>{var Q,U,w,j,J,R,G,Y;const L=r==null?void 0:r.nome,O=r==null?void 0:r.idade,q=r!=null&&r.responsavel?`Respons\xE1vel: ${r.responsavel}`:"",A=r==null?void 0:r.telefone;let C=r!=null&&r.convenio?r==null?void 0:r.convenio.nome:"";const f=(Q=r==null?void 0:r.vaga)==null?void 0:Q.observacao,_=!!(r!=null&&r.disabled);let $;const F={text:"",icon:"",type:"second",size:"md"};let V=!1;if(h!=="CADASTRO_PACIENTES")switch(!0){case(r.vaga.naFila&&r.statusPacienteCod!==k.queue_devolutiva&&r.statusPacienteCod!==k.devolutiva&&I(`${h}_LISTA_BOTAO_AGENDAR`)):F.text="Agendar",F.icon="pi pi-calendar-minus",F.type="primary",F.size="md",$="agendar";break;case(h!=="FILA_DEVOLUTIVA"&&!r.vaga.naFila&&I(`${h}_LISTA_BOTAO_RETORNAR_AGENDAR`)):F.text="Retornar",F.icon="pi pi-sync",F.type="second",F.size="md",$="retornar";break;case(h==="FILA_DEVOLUTIVA"&&r.statusPacienteCod===k.queue_devolutiva):F.text="Devolutiva",F.icon="pi pi-check-circle",F.type="primary",F.size="md",$="devolutiva",V=!0;break;case(r.statusPacienteCod===k.devolutiva&&!r.naFila):F.text="Voltou ABA",F.icon="pi pi-file-export",F.type="primary",F.size="md",$="voltou_aba";break}const Z=r==null?void 0:r.vaga.especialidades.map(X=>({type:X.especialidade.nome,disabled:X.agendado}));return e(Ve.Complete,{textPrimaryLeft:L,textPrimaryCenter:O,textSecondLeft:q,textSecondCenter:A,textPrimaryRight:e(ge,{text:"Carteirinha: ",subtext:r.carteirinha,size:"sm",color:"gray-dark",display:"flex"}),textSecondRight:C,textFooter:f,onClick:()=>i({item:r,typeButtonFooter:$}),textButtonFooter:F.text,iconButtonFooter:F.icon,typeButtonFooter:F.type,isDevolutiva:V,tags:Z,onClickLink:()=>t(r),sizeButtonFooter:"sm",onClickEdit:()=>d(r),onClickTrash:()=>l(r),onClickReturn:()=>x({item:r,typeButtonFooter:$}),actionEdit:!_,actionTrash:!_,actionReturn:_,screen:h,children:!r.emAtendimento&&p("div",{className:"flex justify-between",children:[p("div",{className:"sm:flex items-center sm:gap-4",children:[k.crud_therapy!==(r==null?void 0:r.statusPacienteCod)&&p(B,{children:[e(ge,{text:"Per\xEDodo: ",subtext:(w=(U=r==null?void 0:r.vaga)==null?void 0:U.periodo)==null?void 0:w.nome,size:"sm",color:"gray-dark",display:"flex"}),e(ge,{text:"Tipo: ",subtext:(j=r==null?void 0:r.tipoSessao)==null?void 0:j.nome,size:"sm",color:"gray-dark",display:"flex"})]}),E(r),((J=r.vaga)==null?void 0:J.dataDevolutiva)&&e(ge,{className:"font-inter",text:"Devolutiva:",subtext:ia((R=r.vaga)==null?void 0:R.dataDevolutiva),size:"sm",color:"gray-dark",display:"flex"})]}),((G=r==null?void 0:r.vaga)==null?void 0:G.dataContato)&&e("div",{className:"text-end",children:e(ge,{className:"font-inter",text:"Inclus\xE3o: ",subtext:ia((Y=r==null?void 0:r.vaga)==null?void 0:Y.dataContato),size:"sm",color:"gray-dark",display:"flex"})})]})},r.id)}),y=()=>g?e(Ke,{}):m.length?e("ul",{className:"-my-6 divide-y divide-gray-200 grid gap-4 items-center",children:a==="simples"?T():c()}):e(Je,{});return e("div",{className:"pointer-events-auto flex-1",children:e("div",{className:"flex flex-col  bg-white ",children:e("div",{className:he("flex-1  overflow-y-auto py-6",{"flex  justify-center":!m.length}),children:e("div",{className:"",children:e("div",{className:"flow-root",children:y()})})})})})}function Ce({id:a,legend:s,fields:o,screen:t,loading:i,nameButton:d,dropdown:l,onSubmit:x,onInclude:m,onReset:h}){const{setValue:g,handleSubmit:I,control:E,reset:T}=Ee(),{hasPermition:c}=te(),y=()=>{T(),h()},r=L=>{L.devolutiva&&(g("naFila",!0),L.naFila=!0),x(L)};return n.exports.useEffect(()=>{c(`${t}_FILTRO_SELECT_AGENDADOS`)||g("naFila",!0)}),e($e,{children:e(qe,{header:s,tabIndex:0,children:p("form",{id:a,action:"#",onSubmit:I(r),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:o.map(L=>c(L.permission)&&e(K,{labelText:L.labelText,id:L.id,type:L.type,customCol:L.customCol,control:E,options:L.type==="select"?l[L.name]:void 0},L.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:p(B,{children:[m&&c(`${t}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(W,{text:d||"Cadastrar",icon:"pi pi-user-plus",type:"primary",size:"sm",onClick:m})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:p(B,{children:[c(`${t}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(W,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:y})}),c(`${t}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(W,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:i,onClick:()=>I(r)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:p(B,{children:[c(`${t}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(W,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:y})}),c(`${t}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(W,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:i,onClick:()=>I(r)})})]})})]})})]})})})}function Kt({heading:a}){return p("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:_t})}),e(Xe,{size:"lg",children:a})]})}const Wt=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],Zt=[{permission:"FILA_AVALIACAO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Tipo sess\xE3o",id:"tipoSessoes",name:"tipoSessao",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_INATIVOS",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],Xt=[{permission:"FILA_AVALIACAO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Tipo sess\xE3o",id:"tipoSessoes",name:"tipoSessao",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Devolutiva Agendadas",id:"isDevolutiva",name:"isDevolutiva",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],es=[{permission:"FILA_TERAPIA_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_AGENDADOS",labelText:"Agendados",id:"naFila",name:"naFila",customCol:"col-span-3 sm:col-span-2",type:"switch",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_INATIVOS",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-3 sm:col-span-1",type:"switch",singleSelect:!1}],as=[{labelText:"Nome",id:"nome",name:"nome",type:"text",customCol:"col-span-6 sm:col-span-6",validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Login",id:"login",name:"login",type:"text",customCol:"col-span-6 sm:col-span-3",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o, ex.: nome.sobrenome"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Perfil",id:"perfilId",name:"perfies",type:"select",customCol:"col-span-6 sm:col-span-3",validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Permiss\xE3o",id:"permissoesId",name:"permissoes",type:"picker",customCol:"col-span-6 sm:col-span-6 mt-8"},{labelText:"Especialidade",id:"especialidadeId",name:"especialidades",type:"select",customCol:"col-span-6 sm:col-span-3",hidden:!0},{labelText:"Fun\xE7\xE3o",id:"funcoesId",name:"funcoes",type:"multiselect",customCol:"col-span-6 sm:col-span-3",hidden:!0},{labelText:"",id:"comissao",name:"comissao",type:"dataTableSessaoHeron",customCol:"col-span-6 sm:col-span-6 mb-8",hidden:!0},{labelText:"",id:"cargaHoraria",name:"cargaHoraria",type:"dataTable",customCol:"col-span-6 sm:col-span-6 mb-12",hidden:!0}],ts=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"Nome",customCol:"col-span-6 sm:col-span-6",type:"text",validate:{required:!0}},{labelText:"Especialidade",labelFor:"especialidades",id:"especialidadeId",name:"especialidades",autoComplete:"especialidades",isRequired:!1,placeholder:"Especialidades",customCol:"col-span-6",type:"select",singleSelect:!1}],ss=[{labelText:"Casa",labelFor:"casa",id:"casa",name:"casa",autoComplete:"casa",isRequired:!0,placeholder:"Casa",customCol:"col-span-6",type:"text",validate:{required:!0}},{labelText:"Sala",labelFor:"sala",id:"sala",name:"sala",autoComplete:"sala",isRequired:!0,placeholder:"Sala",customCol:"col-span-6",type:"text",validate:{required:!0}}],ns=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}}],os=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}}],is=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}},{labelText:"Cobrar",id:"cobrar",name:"cobrar",customCol:"col-span-1",type:"switch",validate:{required:!1}}],rs=[{permission:"AGENDA_FILTRO_SELECT_PACIENTE",labelText:"Pacientes",labelFor:"pacientes",id:"pacienteId",name:"pacientes",autoComplete:"paciente",isRequired:!1,placeholder:"Paciente",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"AGENDA_FILTRO_SELECT_TERAPEUTAS",labelText:"Terapeutas",labelFor:"terapeutas",id:"terapeutaId",name:"terapeutas",autoComplete:"terapeuta",isRequired:!1,placeholder:"terapeuta",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1,hidden:!0},{permission:"AGENDA_FILTRO_SELECT_STATUS_EVENTOS",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"AGENDA_FILTRO_SELECT_MODALIDADE",labelText:"Modalidade",labelFor:"modalidades",id:"modalidadeId",name:"modalidades",autoComplete:"modalidade",isRequired:!1,placeholder:"modalidade",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1}],ls={usuariosFields:as,funcaoFields:ts,localidadeFields:ss,modalidadeFields:ns,frequenciaFields:os,statusEventosFields:is},Va=Wt,cs={};Va.forEach(a=>cs[a.id]="");function ds(){const a={username:"",password:""},[s,o]=n.exports.useState(!1),[t,i]=n.exports.useState(!1),{renderToast:d}=de(),{handleSubmit:l,formState:{errors:x},setValue:m,watch:h,control:g}=Ee({defaultValues:a}),{Login:I}=_e(),E=async({username:c,password:y})=>{i(!0);try{await I({username:c,password:y}),i(!1)}catch{i(!1),d({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},T=async c=>{o(c),localStorage.setItem("rememberCheck",JSON.stringify(c)),c?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:h("username"),password:h("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return n.exports.useEffect(()=>{const c=localStorage.getItem("rememberLogin");if(c){const{username:y,password:r}=JSON.parse(c);o(!0),m("username",y),m("password",r)}},[]),p("form",{className:"mt-8 space-y-6",onSubmit:l(E),children:[e("div",{children:Va.map(c=>e(K,{id:c.id,type:c.type,labelText:c.labelText,control:g,validate:c.validate,errors:x},c.id))}),e(K,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:g,onChange:T,value:s}),e(W,{text:"Entrar",type:"primary",size:"full",onClick:l(E),loading:t})]})}const ps="@heron-list/web",us="0.9.0-beta.15",ms="module",fs="heroku-20",gs={dev:"vite --port=3000 --host",start:"node serve.js",preview:"vite preview",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},xs={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},hs={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},vs={name:ps,version:us,private:!0,type:ms,stack:fs,scripts:gs,dependencies:xs,devDependencies:hs};function da(){const[a,s]=n.exports.useState(""),o=n.exports.useCallback(async()=>{const{data:t}=await ue("/");s(`vers\xE3o frontend: ${vs.version} - ${t}`)},[]);return n.exports.useEffect(()=>{o()},[o]),p(B,{children:[e(Kt,{heading:"Fila de Espera"}),e(ds,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:a})})]})}const bs=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(ua,{children:p(xa,{children:[e(He,{path:"/",element:e(da,{})}),e(He,{path:"*",element:e(da,{})})]})})})}),ys=({children:a})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"pb-6 px-1 sm:px-8 lg:px-4 my-4",children:a})}),ea=n.exports.createContext({}),Cs=({children:a})=>{const[s,o]=n.exports.useState(!1);return e(ea.Provider,{value:{open:s,setOpen:o},children:a})},Es=()=>{var I;const{Logout:a}=_e(),{hasPermition:s,permissions:o}=te(),{open:t,setOpen:i}=n.exports.useContext(ea),[d,l]=n.exports.useState([]),{user:x,perfil:m}=n.exports.useContext(Ze),h=vt(),g=()=>{const E=Ja.filter(T=>s(T.path)&&T.path!=="*");l(E)};return n.exports.useEffect(()=>{g()},[o]),p("aside",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:`fixed border-box shadow-3xl ${t?"w-36":"w-12"} h-[98vh] mt-[1vh] ml-1 rounded-3xl  bg-primary duration-700`,children:[t?e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-20 "}):e("div",{className:"bg-logo-mini bg-no-repeat bg-cover h-12 w-12 duration-700"}),p("div",{className:"border-y border-primary-text my-6 py-2",children:[p("h3",{className:"text-primary-text text-center font-light text-sm  duration-1000",children:[" ",t?x.nome:(I=x==null?void 0:x.nome)==null?void 0:I.charAt(0)]}),t&&p("h3",{className:"text-gray-200 text-center font-light text-xs  duration-1000",children:[" ",oa(m)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:d.map(E=>{const T=h.pathname.startsWith(E.path);return e("li",{className:`${T?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700`,children:p(ot,{to:E.path,className:"grid grid-cols-3 items-center text-sm px-4 py-4 ",children:[e("i",{className:E.icon}),t&&e("span",{className:"duration-700",children:oa(E.path)})]})},E.path)})}),e("i",{onClick:a,className:`pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 ${t?" left-[4rem]":" left-6"}`})]})},za=n.exports.createContext({}),As=({children:a})=>{const{perfil:s}=te(),o=[{nome:"S",value:1},{nome:"T",value:2},{nome:"Q",value:3},{nome:"Q",value:4},{nome:"S",value:5},{nome:"S",value:6}],t=n.exports.useCallback(async w=>await ae("paciente",`statusPacienteCod=${w}`),[]),i=n.exports.useCallback(async w=>await ae(`paciente-terapeuta?terapeutaId=${w}`),[]),d=n.exports.useMemo(async()=>await ae("especialidade"),[]),l=n.exports.useCallback(async()=>await ae("status-eventos"),[]),x=n.exports.useCallback(async w=>await ae("modalidade",`statusPacienteCod=${w}`),[]),m=n.exports.useCallback(async()=>await ae("frequencia"),[]),h=n.exports.useCallback(async()=>await ae("localidade"),[]),g=n.exports.useCallback(async()=>await ae("funcao"),[]),I=n.exports.useMemo(async()=>await ae("perfil"),[]),E=n.exports.useCallback(async()=>await ae("periodo"),[]),T=n.exports.useCallback(async w=>await ae(`status?statusPacienteCod=${w}`),[]),c=n.exports.useCallback(async()=>await ae("tipo-sessao"),[]),y=n.exports.useCallback(async(w,j)=>await ae("paciente/especialidade",`pacienteId=${w}&statusPacienteCod=${j}`),[]),r=n.exports.useCallback(async w=>await ae("especialidade-funcao",`especialidade=${w}`),[]),L=n.exports.useCallback(async w=>await ae("terapeuta/especialidade",`especialidade=${w}`),[]),O=n.exports.useCallback(async w=>await ae("funcao/terapeuta",`terapeutaId=${w}`),[]),q=n.exports.useMemo(async()=>await ae("convenio"),[]),A=n.exports.useMemo(async()=>await ae("permissao"),[]),C=async()=>await ae("terapeuta"),f=async()=>await ae("intervalo"),_=async w=>({pacientes:await t(w),statusEventos:await l(),modalidades:await x(w),frequencias:await m(),localidades:await h(),funcoes:await g(),terapeutas:await C(),especialidades:await d,intervalos:await f(),diasFrequencia:o}),$=async(w,j)=>({pacientes:await t(w),statusEventos:await l(),modalidades:await x(w),frequencias:await m(),localidades:await h(),funcoes:await g(),terapeutas:await C(),especialidades:await y(j,w),intervalos:await f(),diasFrequencia:o}),F=async w=>({pacientes:await t(w),convenios:await q,especialidades:await d,tipoSessao:await c(),periodos:await E(),status:await T(w)}),V=async w=>({pacientes:await t(w),statusEventos:await l(),modalidades:await x(w),terapeutas:await C(),especialidades:await d,convenios:await q,tipoSessao:await c(),status:await T(w)}),Z=async w=>{let j;if(s===At||s===St||s===ha){const R=await sessionStorage.getItem("auth"),G=JSON.parse(R);j=await i(G.id)}else j=await t(w);return{pacientes:j,statusEventos:await l(),modalidades:await x(w),terapeutas:await C()}},Q=async w=>({terapeutas:await C(),pacientes:await t(w),statusEventos:await l()}),U=async()=>({funcoes:await g(),especialidades:await d,perfies:await I,permissoes:await A});return e(za.Provider,{value:{renderPacientes:t,renderStatusEventos:l,renderModalidade:x,renderFrequencia:m,renderLocalidade:h,renderFuncao:g,renderTerapeutas:C,renderDropdownCalendario:_,renderDropdownCrud:U,renderEspecialidadeFuncao:r,renderEspecialidadeTerapeuta:L,renderTerapeutaFuncao:O,renderDropdownPatientCrud:V,renderPacienteEspecialidade:y,renderDropdownQueue:F,renderDropdownQueueCalendar:$,renderDropdownCalendar:Z,renderDropdownFinancial:Q},children:a})};function ve(){return n.exports.useContext(za)}function Fe({totalPages:a,currentPage:s,onChange:o}){const[t,i]=n.exports.useState(s||1);return p("div",{className:"flex items-center justify-center p-2 gap-2 mt-1",children:[e("button",{onClick:()=>{i(t-1),o(t-1)},disabled:t===1,className:"bg-transparent w-12 h-12 cursor-pointer hover:scale-110 duration-700 text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:text-slate-200",children:e("i",{className:"pi pi-arrow-circle-left"})}),p("span",{className:"text-primary font-inter",children:[t," de ",a]}),e("button",{onClick:()=>{i(t+1),o(t+1)},disabled:t===a,className:"bg-transparent w-12 h-12 cursor-pointer hover:scale-110 duration-700 text-primary  disabled:opacity-30 disabled:cursor-not-allowed disabled:text-slate-200",children:e("i",{className:"pi pi-arrow-circle-right"})})]})}function Re({namelist:a,onClick:s,iconButtonFooter:o,textButtonFooter:t,screen:i}){const[d,l]=n.exports.useState([]),[x,m]=n.exports.useState({pageSize:0,totalPage:0}),[h,g]=n.exports.useState({}),[I,E]=n.exports.useState([]),[T,c]=n.exports.useState(!1),[y,r]=n.exports.useState(!1),[L,O]=n.exports.useState(!0),[q,A]=n.exports.useState(!1),[C,f]=n.exports.useState(!1),_=["especialidadeId","funcoesId","comissao","cargaHoraria"],[$,F]=n.exports.useState([]),[V,Z]=n.exports.useState({}),[Q,U]=n.exports.useState([]),[w,j]=n.exports.useState([]),{renderDropdownCrud:J,renderEspecialidadeFuncao:R}=ve(),{renderToast:G}=de(),{handleSubmit:Y,control:X,formState:{errors:u},setValue:M,unregister:b,reset:v}=Ee(),z=n.exports.useCallback(async(S=1,N=10)=>{A(!0);try{const P=await ue(`${a}?page=${S}&pageSize=${N}`);l(P.data),m(P.pagination),A(!1)}catch{A(!1)}T&&c(!1)},[]),ee=async S=>{try{if(S.search===void 0||S.search===""){z();return}A(!0);const N=await Ct(a,S.search),P=N.status===200?N.data:[];l(P),A(!1)}catch(N){A(!1),Te(N)}},se=async S=>{try{A(!0);let N;const P={...S};Object.keys(S).forEach(ne=>{if(ne.indexOf("Id")!==-1){if(!S[ne]||typeof S[ne][0]=="number"){delete P[ne];return}Array.isArray(S[ne])&&S[ne].length?P[ne]=P[ne].map(Se=>Se.id):P[ne]=S[ne].id}}),delete P.search,y?(P.id=h.id,N=await ie(a,P)):N=await We(a,P),v(),z(),r(!1),c(!1),G({type:"success",title:"",message:N.data.message,open:!0})}catch({message:N}){G({type:"failure",title:"401",message:`${N}`,open:!0}),A(!1);return}},me=async()=>{try{await ie(a,h),z(),f(!1),G({type:"success",title:" Sucesso!! ",message:"Atualizado com sucesso!",open:!0})}catch(S){Te(S)}},Te=({data:S})=>{G({type:"failure",title:"401",message:(S==null?void 0:S.message)||"N\xE3o foi poss\xEDvel realizar!",open:!0})},Ge=async(S,N)=>{switch(N){case"perfilId":const P=S.nome!=="Terapeuta"&&S.nome!=="Coordenador-terapeuta";O(P),P||b(_,{keepDirtyValues:!0});break;case"especialidadeId":M("funcoesId",[]);const ne=await R(S==null?void 0:S.nome);j({...w,funcoes:ne});break;case"cargaHoraria":Z(S),M("cargaHoraria",S);break;case"funcoesId":const Se=S.map(Pe=>({funcao:Pe.nome,funcaoId:Pe.id,valor:pe.format(80),tipo:"Fixo"}));M("comissao",Se),F(Se)}},Le=(S,N)=>{switch(a){case"usuarios":Ge(S,N);break}},Ie=n.exports.useCallback(async()=>{const S=await J();j(S)},[]),Oe=S=>{switch(S.type){case"select":case"multiselect":case"picker":return w[S.name]}},D=S=>{switch(S.type){case"picker":return I;case"dataTableSessaoHeron":return $;case"dataTable":return V}};return n.exports.useLayoutEffect(()=>{Ie()},[Ie]),n.exports.useEffect(()=>{let S=`${a}Fields`;a==="status-eventos"&&(S="statusEventosFields");const N=ls[S],P={};N.forEach(ne=>P[ne.id]=""),U(N)},[]),n.exports.useEffect(()=>{z()},[z]),n.exports.useEffect(()=>{b(_,{keepDirtyValues:!0})},[]),p(B,{children:[e(zt,{onClick:()=>{v(),r(!1),c(!0)},onSubmit:Y(ee),textButton:"Cadastrar usu\xE1rio",iconButton:"pi pi-plus",control:X,loading:q,screen:i}),p(le,{children:[e(De,{loading:q,screen:i,type:"simples",onClickTrash:S=>{S.ativo=!1,g(S),f(!0)},onClickEdit:S=>{const N={...S};Z({}),F([]),Object.keys(N).forEach(P=>{typeof N[P]=="object"&&!Array.isArray(N[P])&&P!=="terapeuta"&&P!=="cargaHoraria"&&P.indexOf("Id")===-1&&(N[`${P}Id`]=N[P],P=`${P}Id`),P==="cargaHoraria"&&Z(N.cargaHoraria),P==="comissao"&&F(N.comissao),M(P,N[P])}),r(!0),g(N),c(!0),a==="usuarios"&&E(N.permissoesId),N.hasOwnProperty("terapeuta")&&(N==null?void 0:N.terapeuta)!==null?O(!1):(O(!0),b(_,{keepDirtyValues:!0}))},onClick:S=>s(S.id),items:d,iconButtonFooter:o,textButtonFooter:t,onClickLink:()=>{},onClickReturn:S=>{S.ativo=!0,r(!0),se(S)}}),x.totalPages>1&&e(Fe,{totalPages:x.totalPages,currentPage:x.currentPage,onChange:z})]}),e(ce,{title:"Cadastro",open:T,width:a==="usuarios"?"75vw":"50vw",onClose:()=>{c(!1),v()},children:p("form",{onSubmit:Y(se),action:"#",className:"grid gap-6",children:[e("div",{className:"grid grid-cols-6 items-center gap-2",children:Q.map(S=>e(K,{labelText:S.labelText,id:S.id,type:S.type,options:Oe(S),validate:S.validate?S.validate:!L&&{required:"Campo obrigat\xF3rio!"},errors:u,control:X,onChange:N=>Le(N,S.id),hidden:a==="usuarios"&&S.hidden&&L,value:D(S),customCol:S.customCol},S.id))}),e(W,{text:y?"Atualizar":"Cadastrar",type:y?"second":"primary",size:"full",onClick:Y(se),loading:q})]})}),e(Ae,{onAccept:me,onReject:()=>f(!1),onClose:()=>f(!1),title:"Desativar",message:"Deseja realmente desativar?",icon:"pi pi-exclamation-triangle",open:C})]})}const je=({especialidades:a,onSubmit:s})=>{const{handleSubmit:o,formState:{errors:t},control:i,setValue:d}=Ee(),l=x=>{const m=[],h=[];return Object.keys(x).map(g=>{x[g]?m.push(parseInt(g)):h.push(parseInt(g))}),s(m,h)};return p("form",{action:"#",onSubmit:o(l),id:"form-cadastro-patient",children:[e("div",{className:"grid  justify-evenly",children:e("div",{className:" mb-10",children:a.map(x=>(d(`${x.especialidade.id}`,x.agendado),e(K,{labelText:x.especialidade.nome,id:`${x.especialidade.id}`,type:"switch",errors:t,control:i,customCol:"teste "},x.especialidade.id)))})}),e(W,{text:"Agendado",type:"primary",size:"full",onClick:o(l)})]})},Ss=({title:a,options:s,control:o,id:t,rules:i,disabled:d})=>e("div",{children:p("div",{className:"card",children:[e(fe,{size:"sm",color:"violet",text:a}),e(oe,{name:t,control:o,rules:i,render:({field:l})=>e(gt,{value:l.value,options:s,onChange:l.onChange,optionLabel:"nome",multiple:!0,disabled:d})})]})});H.locale("pt-br");const ke=({value:a,onClose:s,isEdit:o,statusPacienteCod:t})=>{const{hasPermition:i}=te(),[d,l]=n.exports.useState(!1),[x,m]=n.exports.useState(!1),[h,g]=n.exports.useState(!1),[I,E]=n.exports.useState(!1),[T,c]=n.exports.useState(!1),[y,r]=n.exports.useState(!1),[L,O]=n.exports.useState(!1),[q,A]=n.exports.useState([]),{renderToast:C}=de(),[f,_]=n.exports.useState([]),[$,F]=n.exports.useState([]),[V,Z]=n.exports.useState(H(new Date)),{renderDropdownQueueCalendar:Q,renderDropdownCalendario:U,renderEspecialidadeTerapeuta:w,renderTerapeutaFuncao:j,renderPacienteEspecialidade:J}=ve(),R=a||{dataInicio:"",dataFim:"",start:"",end:"",paciente:"",especialidade:"",modalidade:"",terapeuta:"",funcao:"",localidade:"",frequencia:"",statusEventos:"",diasFrequencia:[],observacao:""},{getValues:G,setValue:Y,unregister:X,handleSubmit:u,watch:M,formState:{errors:b},control:v,trigger:z}=Ee({defaultValues:R}),ee=async(D,S)=>{m(!1);try{if(JSON.stringify(a)===JSON.stringify(D)){C({type:"warning",title:"401",message:"N\xE3o houve altera\xE7\xE3o no evento!",open:!0});return}l(!0);let N;o?(D.id=a.id,D.changeAll=S,N=await ie("evento",D)):N=await We("evento",D),s(D),C({type:"success",title:"",message:N.data.message,open:!0}),l(!1)}catch({message:N}){C({type:"failure",title:"401",message:`${N}`,open:!0}),l(!1);return}},se=D=>{o&&D.frequencia.nome==="Recorrente"?(D.dataAtual=a.dataAtual,F(D),m(!0)):ee(D,null)},me=async(D,S,N="")=>{let P=[];switch(S){case"paciente-especialidade":P=await J(D,t),_({...f,especialidades:P}),Y(`funcao${N}`,[]);break;case"especialidade-terapeuta":P=await w(D),_({...f,[`terapeutas${N}`]:P}),Y(`funcao${N}`,[]);break;case"terapeuta-funcao":P=await j(D),_({...f,[`funcoes${N}`]:P});break}},Te=(D="",S=null)=>(S&&Y(`especialidade${D}`,{id:S.especialidade.id,nome:S.especialidade.nome}),p(B,{children:[e(K,{labelText:"Especialidade",id:`especialidade${D}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:f==null?void 0:f.especialidades,onChange:N=>me(N.nome,"especialidade-terapeuta",D),validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_ESPECIALIDADE")}),e(K,{labelText:"Terapeuta",id:`terapeuta${D}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:S?S.terapeutas:f.terapeutas,onChange:N=>me(N.id,"terapeuta-funcao",D),validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_TERAPEUTA")}),e(K,{labelText:"Fun\xE7\xE3o",id:`funcao${D}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:f[`funcoes${D}`],validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_FUNCAO")})]})),Ge=n.exports.useCallback(async()=>{let D=[];switch(t){case k.therapy:D=await U(t);break;case k.queue_avaliation:D=await Q(t,a.paciente.id),Le();break;case k.queue_devolutiva:D=await Q(t,a.paciente.id),Oe();break;case k.queue_therapy:D=await Q(t,a.paciente.id),Y("modalidade",D.modalidades[0]);break;default:D=await Q(t,a.paciente.id);break}if(_(D),o){const S=H(a.dataAtual),N=Number(S.day());Y("diasFrequencia",[N])}},[]),Le=()=>{E(!0),Y("modalidade",{id:1,nome:"Avalia\xE7\xE3o"}),Y("frequencia",{id:2,nome:"Recorrente"}),Y("intervalo",{id:1,nome:"Todas Semanas"}),g(!0)},Ie=async(D,S)=>{const N=await ue(`/paciente/especialidades?statusPacienteCod=${S}&pacienteId=${D}`);A(N),O(!0)},Oe=()=>{Y("modalidade",{id:2,nome:"Devolutiva"}),g(!1),c(!0),X(["frequencia","intervalo","especialidade"],{keepDirtyValues:!0})};return n.exports.useEffect(()=>{Ge()},[]),n.exports.useEffect(()=>{a!=null&&a.isExterno&&r(!0)},[]),n.exports.useEffect(()=>{t===k.queue_devolutiva&&Ie(a.paciente.id,t)},[T]),n.exports.useEffect(()=>{var D,S;o&&((D=a==null?void 0:a.frequencia)==null?void 0:D.nome)==="Recorrente"&&(g(!0),Y("dataInicio",a.dataAtual)),o&&((S=a==null?void 0:a.mododalidade)==null?void 0:S.nome)==="Avalia\xE7\xE3o"&&E(!0)},[]),p(B,{children:[p("form",{action:"#",onSubmit:u(se),id:"form-cadastro-agendamento",children:[p("div",{className:"grid grid-cols-6 gap-4 mb-8 overflow-y-auto",children:[e(K,{labelText:"Modalidade",id:"modalidade",type:"select",customCol:`col-span-6 ${I||o?"sm:col-span-2":"sm:col-span-3"}`,errors:b,control:v,options:f==null?void 0:f.modalidades,onChange:D=>{z("dataFim",{shouldFocus:!0}),c(D.nome==="Devolutiva"),D.nome==="Avalia\xE7\xE3o"&&Le(),D.nome==="Devolutiva"&&Oe()},validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_MODALIDADE")}),e(K,{labelText:"Data",id:"dataInicio",type:"date",customCol:`col-span-6 font-inter font-light ${I||o?"sm:col-span-2":"sm:col-span-3"}`,errors:b,control:v,onChange:()=>{const D=G("frequencia");if(D&&(D==null?void 0:D.nome)==="Recorrente"){const S=G("dataInicio"),N=H(S),P=Number(N.day());Y("diasFrequencia",[P]),Z(N.add(1,"days"))}},validate:{required:!0,min:H(new Date).format("YYYY-MM-DD")},disabled:!i("AGENDA_EVENTO_EDITAR_DATA_INICIO")}),I&&e(K,{labelText:"Data Final",id:"dataFim",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",errors:b,control:v,validate:{min:V.format("YYYY-MM-DD")},disabled:!i("AGENDA_EVENTO_EDITAR_DATA_FIM")}),e(K,{labelText:"Horario Inicial",id:"start",type:"time",customCol:`col-span-6 ${h?"sm:col-span-3":"sm:col-span-2"}`,errors:b,control:v,onChange:D=>{var aa,ta;const S=G("start"),P=H.duration(S).add(1,"hours"),ne=((aa=P==null?void 0:P._data)==null?void 0:aa.hours).toLocaleString("pt-Br",{minimumIntegerDigits:2,useGrouping:!1}),Se=((ta=P==null?void 0:P._data)==null?void 0:ta.minutes).toLocaleString("pt-Br",{minimumIntegerDigits:2,useGrouping:!1}),Pe=`${ne}:${Se}`;Y("end",Pe)},validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_HORA_INICIO")}),e(K,{labelText:"Horario Final",id:"end",type:"time",customCol:`col-span-6 ${h?"sm:col-span-3":"sm:col-span-2"}`,errors:b,control:v,validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_HORA_FIM")}),!T&&(!a||a.id===a.groupId)&&e(K,{labelText:"Frequ\xEAncia",id:"frequencia",type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:f==null?void 0:f.frequencias,onChange:D=>{if(g(D.nome==="Recorrente"),D.nome==="Recorrente"){const S=G("dataInicio"),N=H(S),P=Number(N.day());Y("diasFrequencia",[P])}},validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_FREQUENCIA")||o}),h&&e(K,{labelText:"Intervalo",id:"intervalo",type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:f==null?void 0:f.intervalos,validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_INTERVALO")||o}),h&&e("div",{className:"col-span-6 sm:col-span-2",children:e(Ss,{id:"diasFrequencia",title:"Dias da semana",options:f==null?void 0:f.diasFrequencia,control:v,rules:{required:!!G("frequencias")},disabled:!i("AGENDA_EVENTO_EDITAR_DIAS_FREQUENCIA")||o})}),e("div",{className:"col-span-6"}),e("div",{className:"col-span-6",children:e(Xe,{size:"md",color:"violet",children:"Informa\xE7\xF5es Para Consulta"})}),e(K,{labelText:"Paciente",id:"paciente",type:"select",customCol:"col-span-6 sm:col-span-6",errors:b,control:v,options:f==null?void 0:f.pacientes,onChange:D=>{T?Ie(D.id,t):(me(D.id,"paciente-especialidade"),O(!1))},validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_PACIENTE")}),T&&L?q.map((D,S)=>Te(`${S}`,D)):Te(),e(K,{labelText:"Local Externo?",id:"isExterno",type:"switch",customCol:"col-span-6 sm:col-span-1",errors:b,control:v,disabled:!i("AGENDA_EVENTO_EDITAR_LOCALIDADE"),onChange:D=>{r(D)}}),y&&e(K,{labelText:"km",id:"km",type:"number",customCol:"col-span-6 sm:col-span-1 font-inter font-light",errors:b,control:v,disabled:!i("AGENDA_EVENTO_EDITAR_LOCALIDADE")}),e(K,{labelText:"Local",id:"localidade",type:"select",customCol:`col-span-6 sm:col-span-${y?"2":"3"}`,errors:b,control:v,options:f==null?void 0:f.localidades,validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_LOCALIDADE")}),e(K,{labelText:"Status Eventos",id:"statusEventos",type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:f==null?void 0:f.statusEventos,validate:{required:!0},disabled:!i("AGENDA_EVENTO_EDITAR_STATUS_EVENTOS")}),e(K,{labelText:"Observa\xE7\xE3o",id:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",errors:b,control:v,validate:{required:!1},disabled:!i("AGENDA_EVENTO_EDITAR_OBSERVACAO")})]}),i("AGENDA_EVENTO_BOTAO_ATUALIZAR_SALVAR")?e(W,{text:o?"Atualizar":"Agendar",type:o?"second":"primary",size:"full",onClick:u(se),loading:d}):null]}),e(Ae,{onAccept:()=>ee($,!0),onReject:()=>ee($,!1),onClose:()=>m(!1),title:"Evento(s)",message:"Alterar eventos futuros ou apenas o atual?",icon:"pi pi-exclamation-triangle",open:x,acceptLabel:"Atual e eventos futuros",rejectLabel:"Atual"})]})},Me=({onClose:a,dropdown:s,value:o,statusPacienteCod:t,fieldsCostant:i})=>{const[d,l]=n.exports.useState(!1),{renderToast:x}=de(),[m,h]=n.exports.useState(i),[g,I]=n.exports.useState([]),E=!!(o!=null&&o.nome),T=o||{},{reset:c,handleSubmit:y,formState:{errors:r},control:L,setValue:O}=Ee({defaultValues:T}),q=async C=>{l(!0);try{let f;const _=t===k.queue_avaliation?{...C,periodoId:C.periodoId.id,convenioId:C.convenioId.id,statusId:C.statusId.id,tipoSessaoId:C.tipoSessaoId.id,especialidades:C.especialidades.map($=>$.id),statusPacienteCod:t}:{...C,periodoId:C!=null&&C.periodoId?C==null?void 0:C.periodoId.id:3,convenioId:C.convenioId.id,statusId:C!=null&&C.statusId?C==null?void 0:C.statusId.id:1,tipoSessaoId:2,especialidades:C.especialidades.map($=>$.id),statusPacienteCod:t};return E?(_.id=o.id,f=await ie("paciente",_)):f=await We("paciente",_),c(),l(!1),x({type:"success",title:"",message:f==null?void 0:f.data.message,open:!0}),a()}catch(f){l(!1),x({type:"failure",title:f.status||"401",message:f.data.message||"Erro de conex\xE3o",open:!0})}},A=(C,f)=>{switch(f){case"especialidades":const _=C.map($=>({especialidade:$.nome,especialidadeId:$.id,valor:pe.format(200),km:0}));I(_),O("sessao",_);break}};return n.exports.useEffect(()=>{o!=null&&o.nome&&ya(),o!=null&&o.sessao&&I(o.sessao)},[o]),n.exports.useEffect(()=>{const C=i,f={};C.forEach(_=>f[_.id]=""),h(C)},[]),p("form",{action:"#",onSubmit:y(q),id:"form-cadastro-patient",children:[e("div",{className:"grid grid-cols-6 gap-2 mb-4 min-h-[300px] overflow-y-auto",children:m.map(C=>e(K,{labelText:C.labelText,id:C.id,type:C.type,customCol:C.customCol,errors:r,validate:C.validate,value:C.id==="sessao"?g:null,control:L,onChange:f=>A(f,C.id),options:C.type==="select"||C.type==="multiselect"?s[C.name]:void 0},C.id))}),e(W,{text:E?"Atualizar":"Cadastrar",type:E?"second":"primary",size:"full",onClick:y(q),loading:d})]})},ja=Qt,Ts={};ja.forEach(a=>Ts[a.id]="");function Is(){var b;const a="CADASTRO_PACIENTES",{hasPermition:s}=te(),[o,t]=n.exports.useState(ja),[i,d]=n.exports.useState([]),[l,x]=n.exports.useState(),[m,h]=n.exports.useState(),[g,I]=n.exports.useState({}),[E,T]=n.exports.useState({pageSize:10,totalPages:0,currentPage:1}),[c,y]=n.exports.useState(!1),[r,L]=n.exports.useState(!1),[O,q]=n.exports.useState(!1),[A,C]=n.exports.useState(!1),[f,_]=n.exports.useState(!1),[$,F]=n.exports.useState([]),{renderDropdownQueue:V,renderPacientes:Z}=ve(),{renderToast:Q}=de(),U=n.exports.useCallback(async()=>{try{_(!0),d([]);const v=await ue(`paciente?statusPacienteCod=${k.crud_therapy}&page=${E.currentPage}&pageSize=${E.pageSize}`);d(v.data),T(v.pagination),_(!1)}catch{_(!1),Q({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),w=async()=>{C(!1);try{const v=await ie("paciente/desabilitar",{id:l.id,disabled:!l.disabled});J({disabled:l.disabled}),Q({type:"success",title:v.data.message,message:v.data.data,open:!0})}catch{Q({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},j=async v=>{T(v),J()},J=async(v=g)=>{_(!0),I(v);try{const z={disabled:v.disabled===void 0?!1:v.disabled,statusPacienteCod:k.crud_therapy};delete v.disabled,await Object.keys(v).map(se=>{var me;z[se]=((me=v[se])==null?void 0:me.id)||void 0});const ee=await Ne("paciente",z,`page=${E.currentPage}&pageSize=${E.pageSize}`);d(ee.data.data||ee.data),T(ee.pagination||ee.data.pagination),_(!1)}catch{_(!1),Q({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},R=async(v,z,ee)=>{try{await ie(v,z),q(!1),J()}catch({response:se}){Q({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},G=async({item:v,typeButtonFooter:z})=>{switch(z){case"agendar":x(v),Y(v),L(!0);break;case"devolutiva":const ee={id:v.vaga.id,devolutiva:!v.vaga.devolutiva};R("vagas/devolutiva",ee,{naFila:!1,devolutiva:v.vaga.devolutiva});break;default:if(v.vaga.especialidades.length===1){const se=v.vaga.especialidades[0],me={statusPacienteCod:k.crud_therapy,pacienteId:v.id,vagaId:v.vaga.id,id:v.vaga.id,agendar:se.agendado?[]:[se.especialidadeId],desagendar:se.agendado?[se.especialidadeId]:[]};R("vagas/agendar",me,{naFila:!v.vaga.naFila})}else x(v),Y(v),q(!0),L(!0);break}},Y=v=>{const z={paciente:{nome:v.nome,id:v.id}};x(v),h(z)},X=(v,z)=>{const ee={pacienteId:l.id,vagaId:l.vaga.id,id:l.vaga.id,agendar:v,desagendar:z,statusPacienteCod:k.crud_therapy};q(!1),R("vagas/agendar",ee,{naFila:!l.vaga.naFila})},u=v=>{const z=ze(v);x(z),y(!0)},M=n.exports.useCallback(async()=>{const v=await V(k.crud_therapy);F(v)},[]);return n.exports.useEffect(()=>{s("CADASTRO_PACIENTES_FILTRO_SELECT_AGENDADOS")?U():J({naFila:!0,disabled:!1}),M()},[U]),p("div",{className:"grid",children:[e(Ce,{id:"form-filter-patient",legend:"Filtro",fields:o,screen:a,onSubmit:J,onReset:U,loading:f,dropdown:$,onInclude:()=>{x(null),y(!0)}}),p(le,{children:[e(De,{loading:f,type:"complete",items:i,screen:a,onClick:G,onClickLink:v=>{x(v),q(!0)},onClickTrash:v=>{x(v),C(!0)},onClickEdit:u,onClickReturn:({item:v})=>{x(v),C(!0)}}),E.totalPages>1&&e(Fe,{totalPages:E.totalPages,currentPage:E.currentPage,onChange:j})]}),e(ce,{title:"Cadastro de Paciente",open:c,onClose:()=>y(!1),children:e(Me,{onClose:async()=>{const v=await Z(k.crud_therapy);F({...$,pacientes:v}),U(),y(!1)},dropdown:$,value:l,statusPacienteCod:k.crud_therapy,fieldsCostant:Jt})}),r&&e(ce,{title:"Agendamento",open:r,onClose:()=>L(!1),width:"80vw",children:e(ke,{value:m,isEdit:!1,statusPacienteCod:k.crud_therapy,onClose:async v=>{R("vagas/agendar/especialidade",{vagaId:l.vaga.id,especialidadeId:v.especialidade.id,statusPacienteCod:k.crud_therapy,pacienteId:v.paciente.id},{naFila:!l.vaga.naFila}),U(),L(!1)}})}),e(ce,{title:"Selecione a(s) especialidade(s) agendada(s)",open:O,onClose:()=>q(!1),children:e(je,{onSubmit:X,especialidades:(b=l==null?void 0:l.vaga)==null?void 0:b.especialidades})}),e(Ae,{title:"",onAccept:w,onReject:()=>C(!1),onClose:()=>C(!1),message:`Deseja realmente ${l!=null&&l.disabled?"ativar":"inativar"} o paciente ${l==null?void 0:l.nome}?`,icon:"pi pi-exclamation-triangle",open:A})]})}const ws=()=>{const{renderToast:a}=de(),{hasPermition:s}=te(),o=async t=>{try{const{message:i}=await ue(`/usuarios/reset-senha/${t}`);a({type:"success",title:"",message:i,open:!0})}catch({message:i}){a({type:"failure",title:"401",message:`${i}`,open:!0});return}};return e("div",{className:"card",children:p(ga,{className:"tabview-custom",children:[s("CADASTRO_PACIENTES")?e(ye,{header:"Pacientes",leftIcon:"pi pi-user",children:e(Is,{})}):e(B,{}),s("CADASTRO_USUARIOS")?e(ye,{header:"Usu\xE1rios",leftIcon:"pi pi-user",children:e(Re,{screen:"CADASTRO_USUARIOS",namelist:"usuarios",onClick:o,iconButtonFooter:"pi pi-sync",textButtonFooter:"Reset de senha"})}):e(B,{}),s("CADASTRO_STATUS_EVENTOS")?e(ye,{header:"Status eventos",leftIcon:"pi pi-calendar-plus",children:e(Re,{screen:"CADASTRO_STATUS_EVENTOS",namelist:"status-eventos",onClick:()=>{}})}):e(B,{}),s("CADASTRO_FUNCAO")?e(ye,{header:"Fun\xE7\xE3o",leftIcon:"pi pi-slack",children:e(Re,{screen:"CADASTRO_FUNCAO",namelist:"funcao",onClick:()=>{}})}):e(B,{}),s("CADASTRO_LOCALIDADE")?e(ye,{header:"Localidade",leftIcon:"pi pi-map-marker",children:e(Re,{screen:"CADASTRO_LOCALIDADE",namelist:"localidade",onClick:()=>{}})}):e(B,{})]})})};function pa(){const[a,s]=n.exports.useState(),[o,t]=n.exports.useState(!1),{renderToast:i}=de(),{reset:d,handleSubmit:l,formState:{errors:x},control:m}=Ee(),h=()=>{const I=sessionStorage.getItem("auth"),E=JSON.parse(I);s(E)},g=async I=>{t(!0);try{I.id=a.login;const{data:E}=await ie("/usuarios/reset-senha",I);t(!1),d(),i({type:"success",title:"",message:E.message,open:!0})}catch({message:E}){i({type:"failure",title:"401",message:`${E}`,open:!0}),d();return}};return n.exports.useEffect(()=>{h()},[]),e(B,{children:e(le,{children:p("div",{className:"grid sm:grid-cols-2",children:[e(ge,{text:a==null?void 0:a.nome,subtext:a==null?void 0:a.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),p("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(K,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:x,validate:{required:!0},control:m}),e("div",{className:" mt-4 ",children:e(W,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:l(g)})})]})]})})})}const Ma=Zt,Ns={};Ma.forEach(a=>Ns[a.id]="");function _s(){var X;const{hasPermition:a}=te(),[s,o]=n.exports.useState([]),[t,i]=n.exports.useState(),[d,l]=n.exports.useState(),[x,m]=n.exports.useState({}),[h,g]=n.exports.useState({currentPage:1,pageSize:10,totalPages:0}),[I,E]=n.exports.useState(!1),[T,c]=n.exports.useState(!1),[y,r]=n.exports.useState(!1),[L,O]=n.exports.useState(!1),[q,A]=n.exports.useState(!1),[C,f]=n.exports.useState([]),{renderDropdownQueue:_,renderPacientes:$}=ve(),{renderToast:F}=de(),V=n.exports.useCallback(async()=>{A(!0);try{A(!0),o([]);const u=await ue(`paciente?statusPacienteCod=${k.queue_avaliation}&page=${h.currentPage}&pageSize=${h.pageSize}`);o(u.data),g(u.pagination),A(!1)}catch({message:u}){A(!1),F({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),Z=async()=>{O(!1);try{const u=await ie("paciente/desabilitar",{id:t.id,disabled:!t.disabled});U({disabled:t.disabled}),F({type:"success",title:u.data.message,message:u.data.data,open:!0})}catch{F({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},Q=async u=>{g(u),U()},U=async(u=x)=>{A(!0),m(u);try{const M={naFila:u.naFila===void 0?!0:!u.naFila,disabled:u.disabled===void 0?!1:u.disabled,statusPacienteCod:k.queue_avaliation};delete u.naFila,delete u.disabled,await Object.keys(u).map(v=>{var z;M[v]=((z=u[v])==null?void 0:z.id)||void 0});const b=await Ne("paciente",M,`page=${h.currentPage}&pageSize=${h.pageSize}`);b.data.data||b.data?(o(b.data.data||b.data),g(b.pagination||b.data.pagination)):o([]),A(!1)}catch{A(!1),F({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},w=async(u,M,b)=>{try{await ie(u,M),r(!1),U()}catch({response:v}){A(!1),F({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},j=async({item:u,typeButtonFooter:M})=>{switch(M){case"agendar":i(u),J(u),c(!0);break;default:if(u.vaga.especialidades.length===1){const b=u.vaga.especialidades[0],v={statusPacienteCod:k.queue_avaliation,pacienteId:u.id,vagaId:u.vaga.id,id:u.vaga.id,agendar:b.agendado?[]:[b.especialidadeId],desagendar:b.agendado?[b.especialidadeId]:[]};w("vagas/agendar",v,{naFila:!u.vaga.naFila})}else i(u),J(u),r(!0),c(!0);break}},J=u=>{const M={paciente:{nome:u.nome,id:u.id}};i(u),l(M)},R=(u,M)=>{const b={pacienteId:t.id,vagaId:t.vaga.id,id:t.vaga.id,agendar:u,desagendar:M,statusPacienteCod:k.queue_avaliation};r(!1),w("vagas/agendar",b,{naFila:!t.vaga.naFila})},G=u=>{const M=ze(u);i(M),E(!0)},Y=n.exports.useCallback(async()=>{const u=await _(k.queue_avaliation);f(u)},[]);return n.exports.useEffect(()=>{a("FILA_AVALIACAO_FILTRO_SELECT_AGENDADOS")?V():U({naFila:!0}),Y()},[V]),p("div",{className:"grid",children:[e(Ce,{id:"form-filter-patient",legend:"Filtro",fields:Ma,screen:"FILA_AVALIACAO",onSubmit:U,onReset:V,loading:q,dropdown:C,onInclude:()=>{i(null),E(!0)}}),p(le,{children:[e(De,{loading:q,type:"complete",items:s,screen:"FILA_AVALIACAO",onClick:j,onClickLink:u=>{i(u),r(!0)},onClickTrash:u=>{i(u),O(!0)},onClickEdit:G,onClickReturn:({item:u})=>{i(u),O(!0)}}),h.totalPages>1&&e(Fe,{totalPages:h.totalPages,currentPage:h.currentPage,onChange:Q})]}),e(ce,{title:"Cadastro de Paciente",open:I,onClose:()=>E(!1),children:e(Me,{onClose:async()=>{const u=await $(k.queue_avaliation);f({...C,pacientes:u}),V(),E(!1)},dropdown:C,value:t,statusPacienteCod:k.queue_avaliation,fieldsCostant:qa})}),T&&e(ce,{title:"Agendamento",open:T,onClose:()=>c(!1),width:"80vw",children:e(ke,{value:d,isEdit:!1,statusPacienteCod:k.queue_avaliation,onClose:async u=>{w("vagas/agendar/especialidade",{vagaId:t.vaga.id,especialidadeId:u.especialidade.id,statusPacienteCod:k.queue_avaliation,pacienteId:u.paciente.id},{naFila:!t.vaga.naFila}),V(),c(!1)}})}),e(ce,{title:"Selecione a(s) especialidade(s) agendada(s)",open:y,onClose:()=>r(!1),children:e(je,{onSubmit:R,especialidades:(X=t==null?void 0:t.vaga)==null?void 0:X.especialidades})}),e(Ae,{title:"",onAccept:Z,onReject:()=>O(!1),onClose:()=>O(!1),message:`Deseja realmente ${t!=null&&t.disabled?"ativar":"inativar"} o paciente ${t==null?void 0:t.nome}?`,icon:"pi pi-exclamation-triangle",open:L})]})}const Ga=Xt,Ds={};Ga.forEach(a=>Ds[a.id]="");function Fs(){var X;const{hasPermition:a}=te(),[s,o]=n.exports.useState([]),[t,i]=n.exports.useState([]),[d,l]=n.exports.useState(),[x,m]=n.exports.useState({}),[h,g]=n.exports.useState({currentPage:1,pageSize:10,totalPages:0}),[I,E]=n.exports.useState(!1),[T,c]=n.exports.useState(!1),[y,r]=n.exports.useState(!1),[L,O]=n.exports.useState(!1),[q,A]=n.exports.useState(!1),[C,f]=n.exports.useState([]),{renderDropdownQueue:_,renderPacientes:$}=ve(),{renderToast:F}=de(),V=n.exports.useCallback(async()=>{try{A(!0),o([]);const u=await ue(`paciente?statusPacienteCod=${k.queue_devolutiva}&page=${h.currentPage}&pageSize=${h.pageSize}`);o(u.data),g(u.pagination),A(!1)}catch{A(!1),F({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),Z=async()=>{O(!1);try{const u=await ie("paciente/desabilitar",{id:t.id,disabled:!t.disabled});U({disabled:t.disabled}),F({type:"success",title:u.data.message,message:u.data.data,open:!0})}catch{F({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},Q=async u=>{g(u),U()},U=async(u=x)=>{A(!0),m(u);const M={naFila:u.naFila===void 0?!0:!u.naFila,isDevolutiva:u.isDevolutiva===void 0?!1:u.isDevolutiva,disabled:u.disabled===void 0?!1:u.disabled,statusPacienteCod:k.queue_devolutiva};delete u.naFila,delete u.disabled,delete u.isDevolutiva,await Object.keys(u).map(v=>{var z;M[v]=((z=u[v])==null?void 0:z.id)||void 0});const b=await Ne("paciente",M,`page=${h.currentPage}&pageSize=${h.pageSize}`);o(b.data.data||b.data),g(b.pagination||b.data.pagination),A(!1)},w=async(u,M,b)=>{try{await ie(u,M),r(!1),U()}catch({response:v}){F({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},j=async({item:u,typeButtonFooter:M})=>{switch(M){case"devolutiva":i(u),J(u),c(!0);break;case"voltou_aba":i(u),G(u);break;default:if(u.vaga.especialidades.length===1){const b=u.vaga.especialidades[0],v={statusPacienteCod:k.queue_devolutiva,pacienteId:u.id,vagaId:u.vaga.id,id:u.vaga.id,agendar:b.agendado?[]:[b.especialidadeId],desagendar:b.agendado?[b.especialidadeId]:[]};w("vagas/agendar",v,{naFila:!u.vaga.naFila})}else i(u),J(u),r(!0),c(!0);break}},J=u=>{const M={paciente:{nome:u.nome,id:u.id}};i(u),l(M)},R=(u,M)=>{const b={pacienteId:t.id,vagaId:t.vaga.id,id:t.vaga.id,agendar:u,desagendar:M,statusPacienteCod:k.queue_devolutiva};r(!1),w("vagas/agendar",b,{naFila:!t.vaga.naFila})},G=u=>{const M=ze(u);i(M),E(!0)},Y=n.exports.useCallback(async()=>{const u=await _(k.queue_devolutiva);f(u)},[]);return n.exports.useEffect(()=>{a("FILA_AVALIACAO_FILTRO_SELECT_AGENDADOS")?V():U({naFila:!0}),Y()},[V]),p("div",{className:"grid",children:[e(Ce,{id:"form-filter-patient",legend:"Filtro",fields:Ga,screen:"FILA_DEVOLUTIVA",onSubmit:U,onReset:V,loading:q,dropdown:C}),p(le,{children:[e(De,{loading:q,type:"complete",items:s,screen:"FILA_DEVOLUTIVA",onClick:j,onClickLink:u=>{i(u),r(!0)},onClickTrash:u=>{i(u),O(!0)},onClickEdit:G,onClickReturn:u=>{i(u),O(!0)}}),h.totalPages>1&&e(Fe,{totalPages:h.totalPages,currentPage:h.currentPage,onChange:Q})]}),e(ce,{title:"Cadastro de Paciente",open:I,onClose:()=>E(!1),children:e(Me,{onClose:async()=>{const u=await $(k.queue_devolutiva);f({...C,pacientes:u}),V(),E(!1)},dropdown:C,value:t,statusPacienteCod:k.queue_devolutiva,fieldsCostant:qa})}),T&&e(ce,{title:"Agendamento",open:T,onClose:()=>c(!1),width:"80vw",children:e(ke,{value:d,isEdit:!1,statusPacienteCod:k.queue_devolutiva,onClose:async u=>{const b=Object.keys(u).map(v=>{if(v.includes("especialidade"))return u[v].id}).filter(v=>v!==void 0);w("vagas/agendar/especialidade",{vagaId:t.vaga.id,especialidades:b,statusPacienteCod:k.queue_devolutiva,pacienteId:u.paciente.id},{naFila:!t.vaga.naFila}),V(),c(!1)}})}),e(ce,{title:"Selecione a(s) especialidade(s) agendada(s)",open:y,onClose:()=>r(!1),children:e(je,{onSubmit:R,especialidades:(X=t==null?void 0:t.vaga)==null?void 0:X.especialidades})}),e(Ae,{title:"",onAccept:Z,onReject:()=>O(!1),onClose:()=>O(!1),message:`Deseja realmente ${t!=null&&t.disabled?"ativar":"inativar"} o paciente ${t==null?void 0:t.nome}?`,icon:"pi pi-exclamation-triangle",open:L})]})}const Ya=es,ks={};Ya.forEach(a=>ks[a.id]="");function Ls(){var M;const{hasPermition:a}=te(),[s,o]=n.exports.useState(Ya),[t,i]=n.exports.useState([]),[d,l]=n.exports.useState(),[x,m]=n.exports.useState(),[h,g]=n.exports.useState({}),[I,E]=n.exports.useState({currentPage:1,pageSize:10,totalPages:0}),[T,c]=n.exports.useState(!1),[y,r]=n.exports.useState(!1),[L,O]=n.exports.useState(!1),[q,A]=n.exports.useState(!1),[C,f]=n.exports.useState(!1),[_,$]=n.exports.useState([]),{renderDropdownQueue:F,renderPacientes:V}=ve(),{renderToast:Z}=de(),Q=n.exports.useCallback(async()=>{try{f(!0),i([]);const b=await ue(`paciente?statusPacienteCod=${k.queue_therapy}&page=1&pageSize=10`);i(b.data),E(b.pagination),f(!1)}catch{f(!1),Z({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),U=async()=>{A(!1);try{const b=await ie("paciente/desabilitar",{id:d.id,disabled:!d.disabled});j({disabled:d.disabled}),Z({type:"success",title:b.data.message,message:b.data.data,open:!0})}catch{Z({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},w=async b=>{E(b),j()},j=async(b=h)=>{f(!0),g(b);try{f(!0);const v={naFila:b.naFila===void 0?!0:!b.naFila,disabled:b.disabled===void 0?!1:b.disabled};v.statusPacienteCod=v.naFila?k.queue_therapy:k.therapy,delete b.naFila,delete b.disabled,await Object.keys(b).map(ee=>{var se;v[ee]=((se=b[ee])==null?void 0:se.id)||void 0});const z=await Ne("paciente",v,`page=${I.currentPage}&pageSize=${I.pageSize}`);i(z.data.data||z.data),E(z.pagination||z.data.pagination),f(!1)}catch{f(!1),Z({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},J=async(b,v,z)=>{try{await ie(b,v),O(!1),j(z)}catch({response:ee}){Z({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},R=async({item:b,typeButtonFooter:v})=>{switch(v){case"agendar":l(b),G(b),r(!0);break;default:if(b.vaga.especialidades.length===1){const z=b.vaga.especialidades[0],ee={statusPacienteCod:k.queue_therapy,pacienteId:b.id,vagaId:b.vaga.id,id:b.vaga.id,agendar:z.agendado?[]:[z.especialidadeId],desagendar:z.agendado?[z.especialidadeId]:[]};J("vagas/agendar",ee,{naFila:!b.vaga.naFila})}else l(b),G(b),O(!0),r(!0);break}},G=b=>{const v={paciente:{nome:b.nome,id:b.id}};l(b),m(v)},Y=(b,v)=>{const z={statusPacienteCod:k.queue_therapy,pacienteId:d.id,vagaId:d.vaga.id,id:d.vaga.id,agendar:b,desagendar:v};O(!1),J("vagas/agendar",z,{naFila:!d.vaga.naFila})},X=b=>{const v=ze(b);l(v),c(!0)},u=n.exports.useCallback(async()=>{const b=await F(k.queue_therapy);$(b)},[]);return n.exports.useEffect(()=>{a("FILA_TERAPIA_FILTRO_SELECT_AGENDADOS")?Q():j({naFila:!0}),u()},[Q]),p("div",{className:"grid",children:[e(Ce,{id:"form-filter-patient",legend:"Filtro",fields:s,screen:"FILA_TERAPIA",onSubmit:j,onReset:Q,loading:C,dropdown:_,onInclude:()=>{l(null),c(!0)}}),p(le,{children:[e(De,{loading:C,type:"complete",items:t,screen:"FILA_TERAPIA",onClick:R,onClickLink:b=>{l(b),O(!0)},onClickTrash:b=>{l(b),A(!0)},onClickEdit:X,onClickReturn:b=>{l(b),A(!0)}}),I.totalPages>1&&e(Fe,{totalPages:I.totalPages,currentPage:I.currentPage,onChange:w})]}),e(ce,{title:"Cadastro de Paciente",open:T,onClose:()=>c(!1),children:e(Me,{onClose:async()=>{const b=await V(k.queue_therapy);$({..._,pacientes:b}),Q(),c(!1)},dropdown:_,value:d,statusPacienteCod:k.queue_therapy,fieldsCostant:Ht})}),y&&e(ce,{title:"Agendamento",open:y,onClose:()=>r(!1),width:"80vw",children:e(ke,{value:x,isEdit:!1,statusPacienteCod:k.queue_therapy,onClose:async b=>{J("vagas/agendar/especialidade",{vagaId:d.vaga.id,especialidadeId:b.especialidade.id,statusPacienteCod:k.queue_therapy,pacienteId:b.paciente.id},{naFila:!d.vaga.naFila}),Q(),r(!1)}})}),e(ce,{title:"Selecione a(s) especialidade(s) agendada(s)",open:L,onClose:()=>O(!1),children:e(je,{onSubmit:Y,especialidades:(M=d==null?void 0:d.vaga)==null?void 0:M.especialidades})}),e(Ae,{title:"",onAccept:U,onReject:()=>A(!1),onClose:()=>A(!1),message:`Deseja realmente ${d!=null&&d.disabled?"ativar":"inativar"} o paciente ${d==null?void 0:d.nome}?`,icon:"pi pi-exclamation-triangle",open:q})]})}function Os(){const{hasPermition:a}=te();return e("div",{className:"card",children:(()=>p(xt,{className:"tabview-custom",children:[a("FILA_AVALIACAO")?e(Ye,{header:"Avaliac\xE3o",leftIcon:"pi pi-user",children:e(_s,{})}):e(B,{}),a("FILA_DEVOLUTIVA")?e(Ye,{header:"Devolutiva",leftIcon:"pi pi-user",children:e(Fs,{})}):e(B,{}),a("FILA_TERAPIA")?e(Ye,{header:"Terapia",leftIcon:"pi pi-user",children:e(Ls,{})}):e(B,{})]}))()})}const Ps=({events:a,openModalEdit:s,eventMouseEnter:o,onNext:t,onPrev:i,dateClick:d})=>{const l=n.exports.useRef(null),x=(m,h)=>{const g=h==="prev";let I=m.getCurrentData().currentViewType,E,T,c,y,r,L,O=m.getCurrentData().dateProfile.activeRange.end;switch(I){case"dayGridMonth":return E=g?O.getMonth()-1:O.getMonth()+1,T=O.getFullYear(),c=Ea(T,E),y=Aa(T,E),{type:"dayGridMonth",start:c,end:y};case"timeGridWeek":case"listWeek":r=m.getCurrentData().dateProfile.activeRange.start,L=m.getCurrentData().dateProfile.activeRange.end;const q=H(m.getCurrentData().dateProfile.activeRange.start),A=H(m.getCurrentData().dateProfile.activeRange.end);return c=g?q.subtract(7,"days"):q.add(7,"days"),y=g?A.subtract(7,"days"):A.add(7,"days"),{type:"timeGridWeek",start:c.format("YYYY-MM-DD"),end:y.format("YYYY-MM-DD")};case"timeGridDay":return r=g?H(O).subtract(1,"days"):H(O).add(1,"days"),L=g?H(O):H(O).add(2,"days"),{type:"timeGridDay",start:r.format("YYYY-MM-DD"),end:L.format("YYYY-MM-DD")}}};return n.exports.useEffect(()=>{if(l.current){const m=document.querySelector("#root > div > div.min-h-full.overflow-hidden.bg-background.h-screen.w-full > main > div > div > div > fieldset > div > div > div > div > div");m.style.height="calc(100vh - 250px)",m.style.overflow="hidden"}},[]),e("div",{children:e("div",{className:"card text-sm font-inter",children:e(Xa,{plugins:[et,at,tt,st,nt],hiddenDays:[0],slotLabelInterval:"5vw",slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotDuration:"00:20:00",slotMinTime:"08:00:00",slotMaxTime:"20:00:00",allDaySlot:!1,locale:"pt",navLinks:!0,timeZone:"America/Sao_Paulo",initialView:"timeGridWeek",events:a,headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},ref:l,eventClick:s,dayMaxEventRows:!0,views:{timeGrid:{dayMaxEventRows:8}},businessHours:{daysOfWeek:[1,2,3,4,5,6],startTime:"08:00",endTime:"20:00"},buttonText:{month:"M\xEAs",week:"Semana",day:"Dia",list:"Lista"},dateClick:({date:m})=>d(Lt(m)),eventMouseEnter:o,eventContent:m=>{},customButtons:{prev:{text:"prev",click:m=>{const h=l.current&&l.current.getApi();let g=x(h,"prev");i(g),h&&h.prev()}},next:{text:"next",click:m=>{const h=l.current&&l.current.getApi();let g=x(h,"next");t(g),h&&h.next()}}}})})})};var be=(a=>(a.atendido="Atendido",a.atestado="Atestado",a.livre="Livre",a))(be||{});const Rs=({evento:a,open:s,onClose:o,onEdit:t,onDelete:i,onClick:d,onClickSecond:l})=>{const[x,m]=n.exports.useState(!0),{hasPermition:h,perfil:g}=te(),I=T=>{let c=T.modalidade.nome;if(c!=="Avalia\xE7\xE3o"||!(T!=null&&T.dataInicio)||!(T!=null&&T.dataFim))return e("span",{children:c});const y=ra(T.dataInicio,T.dataAtual),r=ra(T.dataInicio,T.dataFim);return e(B,{children:p("span",{children:[c,e("span",{className:"font-inter ml-2",children:`${y}/${r}`})," "]})})},E=p("div",{className:"flex justify-between items-center gap-8",children:[a.paciente.nome!==be.livre?e(Sa,{type:a.especialidade.nome,disabled:!1}):e("div",{}),e("span",{children:a.paciente.nome}),p("div",{className:"flex mt-[-0.5rem]",children:[h("AGENDA_LISTA_EDITAR")?e("div",{children:x&&e(W,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:t})}):null,h("AGENDA_LISTA_EXCLUIR")&&(a==null?void 0:a.canDelete)?e("div",{children:x&&e(W,{text:"Edit",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:i})}):null]})]});return n.exports.useEffect(()=>{const T=H().format("YYYY-MM-DD");m(T<=a.dataAtual)}),e(fa,{header:E,visible:s,onHide:o,breakpoints:{"960px":"80vw"},children:p("div",{children:[p("p",{className:"flex gap-4 items-center justify-between",children:[I(a)," ",e("span",{children:a.statusEventos.nome})]}),e("br",{}),p("p",{className:"font-inter font-bold",children:[a.date," \u2022 ",`${a.start} at\xE9 ${a.end}`]}),a.frequencia.id!==1&&p("p",{children:[a.intervalo.nome," \u2022"," ",a==null?void 0:a.diasFrequencia.map(T=>Ca[T-1]).join("-")]}),e("br",{}),p("p",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-map-marker"}),a.localidade.nome,a.isExterno&&p("span",{className:"font-bold font-inter",children:[" ",`- ${a.km}km`," "]})]}),e("br",{}),a.observacao?p(B,{children:[p("p",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-bars"}),a.observacao]}),e("br",{})]}):null,p("p",{className:"flex gap-4 items-center ",children:[a.terapeuta.nome," ",e("i",{className:"pi pi-tag",children:" "})," ",a.funcao.nome]}),p("div",{className:"flex justify-between mt-8 gap-2",children:[(g===Qe||g===ha)&&a.statusEventos.nome!==be.atendido&&!la(a.date)&&a.paciente.nome!==be.livre?e(W,{text:"Atendido",icon:"pi pi-check",type:"primary",color:"white",size:"full",onClick:d}):null,(g==Qe||g===Et)&&la(a.date)&&a.paciente.nome!==be.livre&&a.statusEventos.nome!==be.atendido&&a.statusEventos.nome!==be.atestado?e(W,{text:"Atestado",icon:"pi pi-book",type:"second",color:"white",size:"full",onClick:l}):null]})]})})};var Ba=(a=>(a.terapeuta="terapeuta",a))(Ba||{});const Ua=rs,$s={};Ua.forEach(a=>$s[a.id]="");function qs(){const a=new Date,{perfil:s}=_e(),[o,t]=n.exports.useState([]),{hasPermition:i}=te(),[d,l]=n.exports.useState(!1),{renderToast:x}=de(),[m,h]=n.exports.useState([]),{renderDropdownCalendar:g,renderPacientes:I}=ve(),[E,T]=n.exports.useState(),[c,y]=n.exports.useState(!1),[r,L]=n.exports.useState(!1),[O,q]=n.exports.useState(!1),[A,C]=n.exports.useState(!1),[f,_]=n.exports.useState([]),[$,F]=n.exports.useState({start:Ea(a.getFullYear(),a.getMonth()+1),end:Aa(a.getFullYear(),a.getMonth()+1)});async function V(R=$){if(s.toLocaleLowerCase()===Ba.terapeuta.toLocaleLowerCase()){const G=await sessionStorage.getItem("auth"),Y=JSON.parse(G);w({terapeutaId:{id:Y.id}})}else{F({start:R.start,end:R.end});const G=await ue(`/evento/filter/${R.start}/${R.end}?${o.join("&")}`);_(G)}}async function Z(){try{await yt(`/evento?id=${E.id}`),V(),q(!1),x({type:"success",title:"",message:"Evento exclu\xEDdo com sucesso!",open:!0})}catch(R){console.error(R),x({type:"failure",title:"401",message:"Evento n\xE3o exclu\xEDdo!",open:!0})}}async function Q(){try{await ie("/evento/check",E),q(!1),x({type:"success",title:"",message:"Evento atualizado!",open:!0}),setTimeout(()=>{V()},1e3)}catch(R){console.error(R),x({type:"failure",title:"401",message:"Evento n\xE3o atualizado!",open:!0})}}async function U(){try{await ie("/evento/atestado",E),q(!1),x({type:"success",title:"",message:"Evento atualizado!",open:!0}),setTimeout(()=>{V()},1e3)}catch(R){console.error(R),x({type:"failure",title:"401",message:"Evento n\xE3o atualizado!",open:!0})}}async function w(R){try{const G=[];Object.keys(R).map(X=>{var u;(u=R[X])!=null&&u.id&&G.push(`${X}=${R[X].id}`)}),t(G);const Y=await ue(`/evento/filter/${$.start}/${$.end}?${G.join("&")}`);_(Y)}catch{l(!1)}}n.exports.useMemo(async()=>{const R=await g(k.therapy);h(R)},[]);const j=({event:R})=>{const G={id:Number(R.id),...R._def.extendedProps,...R._def.extendedProps.data,dataAtual:kt(R._instance.range.start),date:Ot(R._instance.range.start),groupId:R._def.groupId};T(G),q(!0)},J=()=>{q(!1),y(!0),L(!0)};return n.exports.useEffect(()=>{},[]),n.exports.useEffect(()=>{l(!0),V(),setTimeout(()=>{l(!1)},500)},[]),p("div",{className:"h-max-screen",children:[i("AGENDA_FILTRO_BOTAO_PESQUISAR")?e(Ce,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:Ua,onSubmit:w,onReset:V,screen:"AGENDA",loading:d,dropdown:m,onInclude:()=>{T(null),y(!0),L(!1)}}):e(B,{}),e(le,{children:e("div",{className:"flex-1",children:e(Ps,{openModalEdit:j,events:f,onNext:R=>V(R),onPrev:R=>V(R),dateClick:R=>{T({dataInicio:R}),y(!0),L(!1)}})})}),O&&e(Rs,{evento:E,open:O,onEdit:J,onDelete:()=>C(!0),onClose:()=>q(!1),onClick:Q,onClickSecond:U}),c&&i("AGENDA_FILTRO_BOTAO_CADASTRAR")?e(ce,{title:"Agendamento",open:c,onClose:()=>y(!1),width:"80vw",children:e(ke,{value:E,isEdit:r,screen:"calendar",statusPacienteCod:k.therapy,onClose:()=>{T(null),V(),y(!1)}})}):null,e(Ae,{onAccept:Z,onReject:()=>C(!1),onClose:()=>C(!1),title:"Evento(s)",message:"O evento exclu\xEDdo perder\xE1 todo hist\xF3rico. Deseja realmente exclui-lo?",icon:"pi pi-exclamation-triangle",open:A,acceptLabel:"Excluir",rejectLabel:"Cancelar"})]})}const Vs=[{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Terapeuta",id:"terapeutaId",name:"terapeutas",customCol:"col-span-6 sm:col-span-2",type:"select"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1}],zs=[{permission:"FINANCEIRO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacienteId",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1}],Ha=Vs,js={};Ha.forEach(a=>js[a.id]="");const Qa=zs,Ms={};Qa.forEach(a=>Ms[a.id]="");function Gs(){const[a,s]=n.exports.useState(!1),[o,t]=n.exports.useState([]);te();const{renderDropdownFinancial:i}=ve(),[d,l]=n.exports.useState([]),[x,m]=n.exports.useState({}),[h,g]=n.exports.useState({}),I=A=>(l([]),m({}),A),E=async(A,C)=>{s(!0);try{const f={};await Object.keys(A).map(F=>{var V;F.indexOf("Id")!==-1?f[F]=((V=A[F])==null?void 0:V.id)||void 0:f[F]=A[F]}),g({modulo:C,...A});const _=await Ne(`financeiro/${C}`,f),$=_.status===200&&(_==null?void 0:_.data)?_.data:[];m($.geral),l($.data),s(!1)}catch{s(!1)}},T=n.exports.useCallback(async()=>{const A=await i(k.therapy);t(A)},[]),c=A=>{const C=A.map(f=>f.valorTotal).reduce((f,_)=>f+=_);return pe.format(C)},y=A=>{const C=A.map(f=>f.horas).reduce((f,_)=>{const $=H.duration(f);return $.add(H.duration(_)),$});return Pt(C)},r=(A,C)=>p("span",{className:"",children:[p("span",{className:"image-text mr-24",children:[C," "]}),p("span",{className:"image-text mr-24",children:["Valor total:"," ",e("span",{className:"font-inter",children:c(A)})]}),p("span",{className:"image-text",children:["Total de Horas:"," ",e("span",{className:"font-inter",children:y(A)})]})]}),L=()=>{const A=we.book_new(),C=we.json_to_sheet([x]),f=[];Object.values(d).map(F=>f.push(...F));const _=we.json_to_sheet(f);we.book_append_sheet(A,C,"Geral"),we.book_append_sheet(A,_,"Detalhado");const $=`${x.nome} ${H(h.dataInicio).format("DD-MM-YYYY")} at\xE9 ${H(h.dataFim).format("DD-MM-YYYY")}.xlsx`;bt(A,$)},O=()=>p(B,{children:[e(Ce,{id:"form-filter-patient",legend:"Filtro",fields:Ha,screen:"FINANCEIRO",onSubmit:A=>E(A,"terapeuta"),onReset:()=>{},loading:a,dropdown:o}),!a&&Object.values(d).length?p("div",{className:"grid sm:grid-cols-3 sm:gap-2",children:[e(le,{children:p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-users"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:x.especialidade}),e("span",{className:"font-inter",children:x.nome})]})]})}),e(le,{children:p("div",{className:"flex gap-2 justify-around",children:[p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-stopwatch"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Horas"}),e("span",{className:"font-inter",children:x.horas})]})]}),p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-car"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"km"}),e("span",{className:"font-inter",children:x.valorKm})]})]})]})}),e(le,{children:p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-money-bill"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Total total"}),e("span",{className:"font-inter",children:pe.format(x.valorTotal)})]})]})})]}):null,e(le,{children:e("div",{className:"flex justify-center",children:a?e(Ke,{}):Object.keys(d).length?p("div",{className:"w-full text-md ",children:[e("div",{className:"sm:text-end mb-4",children:e(W,{text:"Download Excel",icon:"pi pi-download",type:"primary",size:"sm",onClick:L})}),e($e,{children:Object.keys(d).map((A,C)=>e(qe,{header:r(d[A],A),tabIndex:C,children:p(Be,{value:d[A],responsiveLayout:"scroll",children:[e(re,{sortable:!0,field:"data",header:"Data",body:({data:f})=>e("span",{className:"font-inter",children:f})}),e(re,{sortable:!0,field:"horas",header:"Tempo",body:({horas:f})=>e("span",{className:"font-inter",children:f})}),e(re,{sortable:!0,field:"status",header:"Status"}),e(re,{sortable:!0,field:"km",header:"km",body:f=>f.km==0?"-":f.km}),e(re,{sortable:!0,field:"valorKm",header:"ValorKm km",body:f=>f.valorKm==0?"-":pe.format(f.valorKm)}),e(re,{sortable:!0,field:"sessao",header:"Valor da Sess\xE3o",body:({sessao:f})=>e("span",{className:"font-inter",children:pe.format(f)})}),e(re,{sortable:!0,field:"valorSessao",header:"Comiss\xE3o",body:({valorSessao:f})=>e("span",{className:"font-inter",children:pe.format(f)})}),e(re,{sortable:!0,field:"valorTotal",header:"Valor Total",body:({valorTotal:f})=>e("span",{className:"font-inter",children:pe.format(f)})})]})},C))})]}):e("div",{className:"w-full flex items-center  justify-center",children:e(Je,{})})})})]}),q=()=>p(B,{children:[e(Ce,{id:"form-filter-patient",legend:"Filtro",fields:Qa,screen:"FINANCEIRO",onSubmit:A=>E(A,"paciente"),onReset:()=>{},loading:a,dropdown:o}),!a&&Object.keys(d).length?e(B,{children:p("div",{className:"grid sm:grid-cols-2 sm:gap-2",children:[e(le,{children:p("div",{className:"flex gap-2 justify-around",children:[p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-stopwatch"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Horas"}),e("span",{className:"font-inter",children:x.horas})]})]}),p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-car"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"km"}),e("span",{className:"font-inter",children:x.valorKm})]})]}),p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-money-bill"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Total total"}),e("span",{className:"font-inter",children:pe.format(x.valorTotal)})]})]})]})}),e(le,{children:e("div",{className:"flex flex-wrap gap-2 items-left",children:x.especialidadeSessoes&&Object.keys(x.especialidadeSessoes).map(A=>e(B,{children:p("div",{className:"flex gap-2 items-center",children:[e("div",{className:`h-2 w-2 rounded-full ${na[A.toUpperCase()]}`}),p("div",{className:"grid",children:[p("span",{children:[" ",A," "]}),p("span",{className:"font-inter",children:[" ",x.especialidadeSessoes[A]," "]})]})]})}))})})]})}):null,e(le,{children:a?e(Ke,{}):Object.keys(d).length?p("div",{className:"w-full ",children:[e("div",{className:"sm:text-end mb-4",children:e(W,{text:"Download Excel",icon:"pi pi-download",type:"primary",size:"sm",onClick:L})}),e($e,{activeIndex:0,children:Object.keys(d).map((A,C)=>e(qe,{header:r(d[A],A),tabIndex:C,children:p(Be,{value:d[A],responsiveLayout:"scroll",children:[e(re,{sortable:!0,field:"data",header:"Data",body:({data:f})=>e("span",{className:"font-inter",children:f})}),e(re,{sortable:!0,field:"status",header:"Status"}),e(re,{sortable:!0,field:"km",header:"km"}),e(re,{sortable:!0,field:"especialidade",header:"especialidade",body:({especialidade:f})=>p("div",{className:"flex gap-2 items-center",children:[e("div",{className:`h-2 w-2 rounded-full ${na[f.toUpperCase()]}`}),p("span",{children:[" ",f," "]})]})}),e(re,{sortable:!0,field:"sessao",header:"Valor da Sess\xE3o",body:({sessao:f})=>e("span",{className:"font-inter",children:pe.format(f)})})]})}))})]}):e("div",{className:"w-full flex items-center  justify-center",children:e(Je,{})})})]});return n.exports.useEffect(()=>{T()},[]),e("div",{className:"grid gap-8",children:p(ga,{className:"tabview-custom",onBeforeTabChange:A=>I(A),children:[e(ye,{header:"Terapeuta",leftIcon:"pi pi-user",children:O()}),e(ye,{header:"Paciente",leftIcon:"pi pi-user",children:q()})]})})}const Ja=[{path:"*",componentRoute:pa,icon:""},{path:"home",componentRoute:pa,icon:"pi pi-home"},{path:"cadastro",componentRoute:ws,icon:"pi pi-credit-card"},{path:"fila",componentRoute:Os,icon:"pi pi-sort-amount-down"},{path:"agenda",componentRoute:qs,icon:"pi pi-calendar"},{path:"financeiro",componentRoute:Gs,icon:"pi pi-money-bill"}],Ys=()=>{const{hasPermition:a}=te(),{open:s}=n.exports.useContext(ea);return p("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(Es,{}),e("main",{className:`${s?"ml-36":"ml-14"} p-4 duration-700`,children:e(xa,{children:Ja.map((t,i)=>e(He,{path:t.path,element:a(t.path)?e(ys,{children:e(t.componentRoute,{})}):null},i))})})]})};function Bs(){const{signed:a}=_e();return a?e(ua,{children:e(Tt,{children:e(As,{children:e(Cs,{children:e(Ys,{})})})})}):e(bs,{})}function Us(){return e("div",{className:"App",children:e(wt,{children:e(Nt,{children:e(Bs,{})})})})}Wa.createRoot(document.getElementById("root")).render(e(Ka.StrictMode,{children:e(Us,{})}));
