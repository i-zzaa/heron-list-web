import{r as s,R as Ja}from"./react.5e86ad27.js";import{c as Ka}from"./react-dom.9fb0e807.js";import{a as Za}from"./axios.d349c3b3.js";import{j as e,a as m,F as M,b as Xa,m as et,c as at,d as tt,e as st,f as ot}from"./@fullcalendar.58e5d780.js";import{B as ca,N as nt}from"./react-router-dom.a8674551.js";import{T as it,P as rt,A as Le,a as Re,D as Pe,C as te,b as da,I as Ye,c as lt,d as ct,e as dt,L as pt,M as ut,f as pa,g as mt,h as ft,S as ht,i as ua,j as xe,K as xt,k as Be}from"./primereact.0fb59a6d.js";import{h as B}from"./moment.9709ab41.js";import{c as fe}from"./clsx.09c75e33.js";import{L as gt}from"./react-lottie-player.db04bf0f.js";import{C as ne,u as ve}from"./react-hook-form.4e7bbe2b.js";import{e as ma,f as Ue,d as vt}from"./react-router.5207437a.js";import{B as bt,D as yt}from"./react-chartjs-2.fd4ce346.js";import{C as Ct,a as Et,L as At,b as St,p as Tt,c as It,A as wt}from"./chart.js.2222c2ea.js";import{u as me,w as fa}from"./xlsx.86b9426e.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.87d985fa.js";import"./form-data.d1f94bc2.js";import"./tslib.75aab73a.js";import"./rrule.c22110f0.js";import"./@remix-run.f7ecdf14.js";import"./react-transition-group.d7c59283.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./lottie-web.1f2cebb8.js";import"./rfdc.0929fce7.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function t(n){if(n.ep)return;n.ep=!0;const d=i(n);fetch(n.href,d)}})();const ue=Za.create({baseURL:"https://api-multialcance.online/",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:"web"}}),ea=(a,o)=>{ue.interceptors.request.use(async i=>(i.url.endsWith("login")||(i.headers.Authorization=`Bearer ${a}`,i.headers.login=o),i),i=>Promise.reject(i))},X=async(a,o)=>{var n;const i=o?`${a}?${o}`:a,t=await ue(`/dropdrown/${i}`);return t.status===200?((n=t.data)==null?void 0:n.data)||t.data:[]},We=async(a,o)=>await ue.post(a,o),ie=async(a,o)=>await ue.put(a,o),Nt=async a=>await ue.delete(`${a}`),se=async a=>{var i;const o=await ue(a);return o.status===200?((i=o.data)==null?void 0:i.data)||o.data:[]},_t=async(a,o)=>await ue(`${a}/${o}`),Se=async(a,o)=>await ue.post(`filtro/${a}`,o),Dt="secretaria",He="developer",Ft="coordenador",kt="coordenador-terapeuta",ha="terapeuta",xa=s.exports.createContext({}),Ot=({children:a})=>{const{perfil:o}=Te(),[i,t]=s.exports.useState([]),n=c=>{t(c)};s.exports.useMemo(async()=>{const c=sessionStorage.getItem("auth"),p=(c?JSON.parse(c):[]).permissoes||await se("permissao");t(p)},[]),s.exports.useEffect(()=>{i.length},[]);const d=(c="")=>{switch(!0){case!o:throw new Error("Voce n\xE3o tem permissao");case c==="*":return!0;default:return!!(i.length&&i.includes(c.toUpperCase())||o===He)}};return e(xa.Provider,{value:{hasPermition:d,perfil:o,permissions:i,setPermissionsLogin:n},children:a})},ee=()=>s.exports.useContext(xa),Lt="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",ga=s.exports.createContext({}),Rt=({children:a})=>{const[o,i]=s.exports.useState("hidden"),[t,n]=s.exports.useState(),[d,c]=s.exports.useState(""),[x,p]=s.exports.useState({type:"info",title:"",message:"",open:!1}),v=y=>{switch(y){case"success":n(e("i",{className:"pi pi-check-circle"}));break;case"failure":n(e("i",{className:"pi pi-times-circle"}));break;case"warning":n(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":n(e("i",{className:"pi pi-info-circle"}));break;default:n(e("i",{className:"pi pi-undo"}));break}},h=y=>{switch(y){case"success":c("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":c("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":c("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":c("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:c("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},T=({type:y,message:S,title:l,open:C})=>{v(y),h(y),p({type:y,message:S,title:l,open:C}),i(C?"block":"hidden"),setTimeout(()=>{i("hidden")},3e3)};return e(ga.Provider,{value:{renderToast:T},children:m(M,{children:[a,m("div",{className:`${Lt} ${o} ${d}`,role:"alert",children:[t,m("span",{children:[e("span",{className:"font-medium",children:"   "+x.title})," "+x.message]})]})]})})};function le(){return s.exports.useContext(ga)}const Je=s.exports.createContext({}),Pt=({children:a})=>{const[o,i]=s.exports.useState(),[t,n]=s.exports.useState(""),{setPermissionsLogin:d}=ee(),{renderToast:c}=le();s.exports.useEffect(()=>{const h=sessionStorage.getItem("token"),T=sessionStorage.getItem("auth"),y=sessionStorage.getItem("perfil")||"";if(h&&T){const S=JSON.parse(T);i(S),n(y),ea(h,S.login)}},[]);const x=async h=>{var T;try{ue.defaults.headers.device="web";const S=(await ue.post("/login",h)).data,l=(S==null?void 0:S.user)||S.data,C=(S==null?void 0:S.accessToken)||S.data.accessToken,r=(T=l.perfil)!=null&&T.nome?l.perfil.nome.toLowerCase():l.perfil.toLowerCase();sessionStorage.setItem("token",C),sessionStorage.setItem("auth",JSON.stringify(l)),sessionStorage.setItem("perfil",r),l.permissoes.length&&d&&d(l.permissoes),n(r),i(l),await ea(C,l.login),c({type:"success",title:" ",message:S.message,open:!0})}catch(y){p(y)}},p=h=>{var y;const T=h!=null&&h.data?(y=h==null?void 0:h.data)==null?void 0:y.message:"Usu\xE1rio n\xE3o encontrado!";c({type:"failure",title:h.status,message:T,open:!0})},v=()=>{i(void 0),sessionStorage.clear()};return e(Je.Provider,{value:{signed:Boolean(o),user:o,Login:x,Logout:v,perfil:t},children:a})},Te=()=>s.exports.useContext(Je),qt="/assets/logo-lg.ee70d40f.jpg";function U({icon:a,size:o="full",type:i="primary",color:t="white",text:n,loading:d,onClick:c}){return e(it,{icon:a,loading:d,label:o==="icon"?"":n,onClick:c,className:fe(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":i==="primary","bg-yellow-400 hover:bg-violet-800":i==="second","bg-transparent hover:bg-transparent":i==="transparent","text-white":t==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":t==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":t==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":t==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":t==="violet","w-full":o==="full","sm:w-2/5 w-full":o==="md"})})}B.locale("pt-br");const $t={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},aa={TO:"bg-to",FONO:"bg-fono",PSICO:"bg-psico",PSICOPEDAG:"bg-psico-pdeg"},Vt={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},ta=a=>a.charAt(0).toUpperCase()+a.slice(1),va=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(o=>{const i=$t[o.textContent.toUpperCase()],t=Vt[o.textContent.toUpperCase()];o.style.background=i,o.style.color=t})},0)},sa=a=>B(a).format("DD/MM/YYYY"),jt=a=>(B.locale("pt-br"),B(a).format("YYYY-MM-DD")),zt=a=>B(a).add(1,"days").format("YYYY-MM-DD"),oa=(a,o)=>{const i=B(a);return B(o).diff(i,"weeks")+1},ba=["Segunda-feira","Terca-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xE1bado"],Mt=a=>{const o=B(a),i=Number(o.day()-1);return`${ba[i]}, ${o.format("ll")}`},Ve=a=>{var o;return{id:a.id,nome:a.nome,dataNascimento:a.dataNascimento,telefone:a.telefone,responsavel:a.responsavel,carteirinha:a.carteirinha,periodoId:a.vaga.periodo,convenioId:a.convenio,statusId:a.status,dataContato:a.vaga.dataContato,dataVoltouAba:(o=a==null?void 0:a.vaga)==null?void 0:o.dataVoltouAba,sessao:a==null?void 0:a.sessao,vagaId:a.vaga.id,especialidades:a.vaga.especialidades.map(i=>({nome:i.especialidade.nome,id:i.especialidade.id})),tipoSessaoId:a.tipoSessao,observacao:a.vaga.observacao}},ya=(a,o)=>B(new Date(a,o-1,1)).format("YYYY-MM-DD"),Ca=(a,o)=>B(new Date(a,o,0)).format("YYYY-MM-DD"),Bt=a=>{const o=B.duration(a);return`${o.hours().toString().padStart(2,"0")}:${o.minutes().toString().padStart(2,"0")}:${o.seconds().toString().padStart(2,"0")}`},ce=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),na=a=>B(a).isBefore(new Date);const Gt=({list:a,onChange:o,selected:i})=>{const[t,n]=s.exports.useState(a),[d,c]=s.exports.useState([]),x=v=>{n(v.source),c(v.target),o(v.target)};return s.exports.useEffect(()=>{if(i.length){const v=a.filter(T=>!i.includes(T.id)),h=a.filter(T=>i.includes(T.id));n(v),c(h)}},[]),e("div",{className:"picklist-demo mb-8",children:e("div",{className:"card",children:e(rt,{source:t,target:d,itemTemplate:v=>e("div",{className:"product-item",children:m("div",{className:"product-list-detail",children:[e("span",{className:"text-sm text-gray-800",children:v.descricao}),e("h5",{className:" product-category text-xs text-gray-400",children:v.cod})]})}),sourceHeader:"Permiss\xF5es",targetHeader:"Selecionados",showSourceControls:!1,showTargetControls:!1,sourceStyle:{height:"342px"},targetStyle:{height:"342px"},onChange:x,filterBy:"descricao",sourceFilterPlaceholder:"Pesquisar",targetFilterPlaceholder:"Pesquisar"})})})},Yt=({value:a,onChange:o,control:i})=>{const t={"08:00":!1,"09:00":!1,"10:00":!1,"11:00":!1,"12:00":!1,"13:00":!1,"14:00":!1,"15:00":!1,"16:00":!1,"17:00":!1,"18:00":!1,"19:00":!1,"20:00":!1},n=Object.keys(a).length?a:{"Segunda-feira":t,"Terca-feira":t,"Quarta-feira":t,"Quinta-feira":t,"Sexta-feira":t,S\u00E1bado:t},[d,c]=s.exports.useState(n),x=p=>Object.keys(d[p]).map(v=>e(Q,{labelText:v,id:p+v,type:"switch",control:i,value:d[p][v],onChange:h=>{const T={...d};T[p][v]=h,c(T),o(T)},customCol:"w-24 font-inter"},p+v));return m("div",{className:"card p-fluid",children:[e("h5",{className:"text-md my-2 text-gray-800 font-bold ",children:"Hor\xE1rio de trabalho da terapeuta"}),e(Le,{children:Object.keys(d).map(p=>e(Re,{header:p,tabIndex:p,children:x(p)},p))})]})},Ut=({value:a,onChange:o,type:i})=>{const[t,n]=s.exports.useState(a),d=i==="sessao"?[{field:"especialidade",header:"Especialidade"},{field:"valor",header:"Valor"},{field:"km",header:"KM"}]:[{field:"funcao",header:"Fun\xE7\xE3o"},{field:"valor",header:"Valor"},{field:"tipo",header:"Tipo Comiss\xE3o"}],c=p=>{switch(p.field){case"valor":return p.rowData.tipo==="Fixo"||i==="sessao"?e(Ye,{onValueChange:v=>{const h=[...t];h[p.rowIndex].valor=ce.format(v.target.value),n(h)},mode:"currency",currency:"BRL",locale:"pt-BR",className:"font-inter"}):e(Ye,{onValueChange:v=>{const h=[...t];h[p.rowIndex].valor=v.target.value,n(h)},suffix:"%",className:"font-inter"});case"km":return e("input",{type:"number",onInput:v=>{const h=[...t];h[p.rowIndex].km=v.target.value,n(h)}});case"tipo":return e(da,{virtualScrollerOptions:{itemSize:38},options:[{id:"fixo",nome:"Fixo"},{id:"porcentagem",nome:"%"}],onChange:v=>{const h=[...t];h[p.rowIndex].tipo=v.target.value.nome,n(h)},optionLabel:"nome"});default:return p.value}},x=p=>{p.field==="especialidade"||p.field==="funcao"||o(t)};return s.exports.useEffect(()=>{n(a)},[a]),m("div",{className:"card p-fluid",children:[e("h5",{className:"text-md my-2 text-gray-800 font-bold ",children:"Infoma\xE7\xF5es das sess\xF5es"}),e(Pe,{value:t,editMode:"cell",className:"editable-cells-table font-inter",responsiveLayout:"scroll",children:d.map(({field:p,header:v})=>e(te,{field:p,header:v,style:{width:"25%"},onCellEditComplete:x,editor:h=>c(h)},p))})]})};function Q({onChange:a,value:o,labelText:i,id:t,type:n,customClass:d,options:c,customCol:x,validate:p,errors:v,control:h,disabled:T,hidden:y}){const S=()=>{switch(n){case"select":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e(da,{value:o||l.value,virtualScrollerOptions:{itemSize:38},options:c,onChange:C=>(a&&a(C.value),l.onChange(C.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:T})});case"multiselect":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e(ut,{disabled:T,id:l.id,display:"chip",optionLabel:"nome",filter:!0,value:o||l.value,onChange:C=>{va(),a&&a(C.value),l.onChange(C.value)},options:c})});case"list":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e(pt,{value:l.value,options:c,onChange:C=>l.onChange(C.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e("textarea",{id:l.id,...l,value:o||l.value,className:d,placeholder:l.placeholder,disabled:T})});case"switch":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>m("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[m("span",{className:"col-span-4 text-violet-800",children:[" ",i," "]}),e("div",{className:"col-span-2",children:e(dt,{checked:o||l.value,color:"#685ec5",value:o,disabled:T,onChange:C=>{l.onChange(C.target.value),a&&a(C.target.value)}})})]})});case"tel":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e(ct,{disabled:T,value:o||l.value,type:n,className:"inputAnimado font-inter font-light"+d,mask:"(99) 9999-9999",onChange:C=>l.onChange(C.value)},l.id)});case"checkbox":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>m(M,{children:[e(lt,{checked:o,type:n,className:"inputAnimado "+d,onChange:C=>{l.onChange(C.target.checked),a&&a(C.target.checked)}}),m("span",{className:"col-span-4 text-violet-800",children:[" ",i," "]})]})});case"time":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>s.exports.createElement("input",{id:l.id,...l,value:o||l.value,key:l.id,type:n,className:"inputAnimado font-inter "+d,disabled:T,onInput:C=>{l.onChange(C),a&&a(C)}})});case"price":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e("div",{className:"inputAnimado font-inter "+d,id:l.id,children:m("div",{className:"p-inputgroup",children:[e(Ye,{value:o||l.value,disabled:T,onInput:C=>{l.onChange(C),a&&a(C)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>s.exports.createElement("input",{disabled:T,id:l.id,...l,value:o||l.value,key:l.id,type:n,className:"inputAnimado "+d,autoComplete:"off",min:(p==null?void 0:p.min)&&p.min,onInput:C=>{l.onChange(C),a&&a(C)}})});case"picker":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e(Gt,{list:c,selected:o,onChange:C=>{l.onChange(C),a&&a(C)}})});case"dataTable":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e(Yt,{value:o,control:h,onChange:C=>{l.onChange(C),a&&a(C)}})});case"dataTableSessaoHeron":return e(ne,{name:t,control:h,rules:p,render:({field:l})=>e(Ut,{value:o,type:t,onChange:C=>{l.onChange(C),a&&a(C)}})});default:return e(ne,{name:t,control:h,rules:p,render:({field:l})=>s.exports.createElement("input",{disabled:T,id:l.id,...l,value:o||l.value,key:l.id,type:n,className:"inputAnimado "+d,autoComplete:"off",onInput:C=>{l.onChange(C),a&&a(C)}})})}};return m("div",{className:fe("label-float",{"my-5":!x,hidden:y&&y},x),children:[S(),n!=="switch"&&n!=="checkbox"&&m("label",{children:[" ",i," "]}),v&&v[t]&&e("p",{className:"text-xs text-red-400 text-end",children:v[t].message})]})}function je({size:a="md",color:o="gray-dark",children:i}){return e("span",{className:fe("font-bold",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":o==="white","text-gray-300":o==="gray-light","text-gray-400":o==="gray","text-gray-800":o==="gray-dark","text-violet-800":o==="violet","text-yellow-400":o==="yellow","text-black":o==="black"}),children:i})}function de({size:a="md",color:o="gray-dark",text:i,display:t="grid",subtext:n,icon:d,className:c}){return m("div",{className:fe("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":o==="white","text-gray-300":o==="gray-light","text-gray-400":o==="gray","text-gray-800":o==="gray-dark","text-violet-800":o==="violet","text-yellow-400":o==="yellow","text-red-900":o==="red","text-black":o==="black"},c),children:[d&&e("div",{className:"flex items-center",children:e("i",{className:d})}),m("span",{className:t,children:[i,"\xA0",m("strong",{children:[" ",n]})]})]})}function ae({children:a,legend:o}){return e("fieldset",{className:"px-8 items-center bg-white rounded-lg border border-gray-200 shadow-md mt-4 ",children:e("div",{className:"py-4",children:a})})}function Ht({onSubmit:a,control:o,loading:i}){return m("div",{className:"grid grid-cols-12 items-center gap-1",children:[e(Q,{labelText:"Search",id:"search",type:"text",customCol:"col-span-11",control:o}),e("div",{className:"mt-4",children:e(U,{text:"Buscar",icon:"pi pi-search",type:"primary",size:"icon",onClick:a,loading:i})})]})}function Qt({onClick:a,onSubmit:o,textButton:i,iconButton:t,control:n,loading:d,screen:c}){const{hasPermition:x}=ee();return m("div",{className:"grid grid-cols-8 gap-2 justify-between",children:[e("form",{action:"#",onSubmit:o,className:"col-span-8 sm:col-span-7",children:e(Ht,{onSubmit:o,control:n,loading:!!d})}),m("div",{className:"col-span-8 sm:col-span-1",children:[x(`${c}_BOTAO_CADASTRAR`)?e("div",{className:"sm:hidden ",children:e(U,{text:i,icon:t,type:"primary",size:"full",onClick:a})}):null,x(`${c}_BOTAO_CADASTRAR`)?e("div",{className:"hidden sm:block mt-5 text-end",children:e(U,{text:i,icon:t,type:"primary",size:"icon",onClick:a})}):null]})]})}function re({title:a,children:o,open:i,width:t="50vw",onClose:n}){return e(pa,{header:a,modal:!0,visible:i,onHide:n,breakpoints:{"960px":"75vw"},style:{width:t},children:o})}function be({title:a,message:o,icon:i,onAccept:t,onReject:n,open:d,onClose:c,rejectLabel:x="N\xE3o",acceptLabel:p="Sim"}){return e(mt,{visible:d,onHide:c,message:o,header:a,icon:i,accept:t,reject:n,acceptLabel:p,rejectLabel:x})}const Wt="text-sm items-center flex text-white py-2 px-6 rounded-full cursor-not-allowed cursor-pointer opacity-25 disabled:opacity-100 ";function Ea({onClick:a,type:o,disabled:i}){return e("button",{onClick:a,className:fe(Wt,{"bg-to":o.toUpperCase()==="TO","bg-fono":o.toUpperCase()==="FONO","bg-psico":o.toUpperCase()==="PSICO","bg-black":o.toUpperCase()==="PSICOPEDAG"}),disabled:!i,children:o.toUpperCase()})}function pe({size:a="md",color:o="gray-dark",text:i,className:t}){return e("span",{className:fe("font-normal tracking-wider",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":o==="white","text-gray-300":o==="gray-light","text-gray-400":o==="gray","text-gray-800":o==="gray-dark","text-violet-800":o==="violet","text-yellow-400":o==="yellow","text-black":o==="black"},t),children:i})}function Aa({onClickEdit:a,onClickTrash:o,onClickReturn:i,positionActions:t="left",actionEdit:n,actionTrash:d,actionReturn:c,screen:x}){const{hasPermition:p}=ee();return e("div",{className:fe("",{"flex justify-start":t==="left","text-right":t==="right"}),children:m(M,{children:[n&&p(`${x}_LISTA_BOTAO_EDITAR`)&&e(U,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:a}),d&&p(`${x}_LISTA_BOTAO_EXCLUIR`)&&e(U,{text:"Trash",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:o}),c&&p(`${x}_LISTA_BOTAO_RETORNAR`)&&e(U,{text:"Return",icon:"pi pi-replay",type:"transparent",color:"yellow",size:"icon",onClick:i})]})})}function ia({onClick:a,textButtonFooter:o,iconButtonFooter:i,sizeButtonFooter:t,typeButtonFooter:n}){return o===""||o===void 0?e(M,{}):m(M,{children:[e("div",{className:"hidden sm:block",children:e(U,{text:o,icon:i,type:n,size:t,onClick:a})}),e("div",{className:"sm:hidden  flex-1",children:e(U,{text:o,icon:i,type:n,size:"full",onClick:a})})]})}function Jt({children:a,textButtonFooter:o,iconButtonFooter:i,typeButtonFooter:t,isDevolutiva:n,sizeButtonFooter:d,onClick:c,onClickLink:x}){return m("div",{className:"w-full text-center bg-white overflow-hidden",children:[a,m("div",{className:"flex text-sm  text-gray-400 mt-4 sm:m-0 justify-end gap-2",children:[n&&ia({textButtonFooter:"Retornar",iconButtonFooter:"pi pi-sync",typeButtonFooter:"second",sizeButtonFooter:d,onClick:x||(()=>{})}),ia({textButtonFooter:o,iconButtonFooter:i,typeButtonFooter:t,sizeButtonFooter:d,onClick:c})]})]})}function Kt({textPrimaryLeft:a,textPrimaryRight:o,textSecondLeft:i,onClickLink:t,onClick:n,textButtonFooter:d,iconButtonFooter:c,typeButtonFooter:x,sizeButtonFooter:p,onClickEdit:v,onClickTrash:h,onClickReturn:T,positionActions:y="right",actionEdit:S,actionTrash:l,actionReturn:C,screen:r}){return e(qe.Root,{textButtonFooter:d,iconButtonFooter:c,typeButtonFooter:x,sizeButtonFooter:p,onClick:n,children:m(M,{children:[m("div",{className:"grid grid-cols-5 justify-between text-base font-medium text-gray-800 mt-4",children:[m("div",{className:"col-span-4 grid sm:grid-cols-2 gap-2 sm:justify-between text-left",children:[e(pe,{text:a,size:"md",color:"violet"}),e(pe,{text:o,size:"sm",color:"gray"}),e("span",{})]}),Aa({onClickEdit:v,onClickTrash:h,onClickReturn:T,positionActions:y,actionEdit:S,actionTrash:l,actionReturn:C,screen:r})]}),i&&m("div",{className:"mt-1  flex items-center gap-2",children:[e("i",{className:"pi pi-user text-sm text-gray-400 "}),e(pe,{text:i,size:"xs",color:"gray"})]})]})})}function Zt({textPrimaryLeft:a,textPrimaryCenter:o,textPrimaryRight:i,textSecondLeft:t,textSecondRight:n,textSecondCenter:d,textFooter:c,tags:x,onClickEdit:p,onClickTrash:v,onClickReturn:h,onClick:T,onClickLink:y,textButtonFooter:S,iconButtonFooter:l,typeButtonFooter:C,sizeButtonFooter:r,isDevolutiva:F,actionEdit:O,actionTrash:$,actionReturn:I,positionActions:E="left",children:u,screen:D}){const{hasPermition:k}=ee(),L=()=>e("div",{className:"text-right flex gap-1 h-8 justify-end",children:x==null?void 0:x.map(j=>e(Ea,{onClick:k(`${D}_LISTA_TAG_ESPECIALIDADES`)?y:void 0,type:j.type,disabled:D==="FILA_DEVOLUTIVA"||D==="CADASTRO_PACIENTES"?!1:j==null?void 0:j.disabled},j.type))});return e(qe.Root,{textButtonFooter:S,iconButtonFooter:l,typeButtonFooter:C,isDevolutiva:F,sizeButtonFooter:r,onClick:T,onClickLink:y,children:m(M,{children:[m("div",{className:"grid grid-rows-2 sm:grid-cols-2 mb-4 sm:mb-0 h-12 mt-6",children:[D!=="FILA_DEVOLUTIVA"?Aa({onClickEdit:p,onClickTrash:v,onClickReturn:h,positionActions:E,actionEdit:O,actionTrash:$,actionReturn:I,screen:D}):e("div",{}),L()]}),m("div",{children:[m("div",{className:"flex items-end gap-2 sm:gap-8 text-left ",children:[e(pe,{text:a,size:"lg",color:"violet"}),e(pe,{className:"font-inter",text:o,size:"sm",color:"gray-dark"}),e(pe,{className:"font-inter",text:i,size:"sm",color:"gray-dark"})]}),m("div",{className:"mt-1 grid sm:flex items-center sm:gap-2 justify-between font-light text-left",children:[e("div",{className:"flex justify-center items-center ",children:e(pe,{text:t,size:"md",color:"gray-dark"})}),k(`${D}_LISTA_TEXT_TELEFONE`)?m("div",{className:"flex items-center gap-2 p-2 font-sans text-left",children:[e("i",{className:"pi pi-phone text-gray-400 text-xs"}),e(pe,{text:d,size:"md",color:"gray-dark",className:"font-inter"})]}):e(M,{}),e(pe,{text:n,size:"md",color:"gray-dark",className:"font-inter"})]}),e("div",{className:"mt-2",children:u}),m("div",{className:"mt-4 flex items-center gap-2 text-ellipsis overflow-hidden",children:[e(ft,{target:".obs",mouseTrack:!0,className:"w-2/4 sm:w-1/4"}),e("p",{className:" text-gray-800  text-sm justify-start text-start obs text-ellipsis overflow-hidden","data-pr-tooltip":c,children:c})]})]})]})})}const qe={Root:Jt,Simples:Kt,Complete:Zt};function $e(){return m("div",{className:"uppercase flex items-center gap-4 m-auto mt-2",children:[e("i",{className:"pi pi-folder-open"}),e(je,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const Sa="Comp 1",Ta="",Ia=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],wa=0,Na=1080,_a=1920,Da={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},Fa="5.7.4",ka=30,Oa=180,La=0,Ra=[],Xt={nm:Sa,mn:Ta,layers:Ia,ddd:wa,h:Na,w:_a,meta:Da,v:Fa,fr:ka,op:Oa,ip:La,assets:Ra},es=Object.freeze(Object.defineProperty({__proto__:null,nm:Sa,mn:Ta,layers:Ia,ddd:wa,h:Na,w:_a,meta:Da,v:Fa,fr:ka,op:Oa,ip:La,assets:Ra,default:Xt},Symbol.toStringTag,{value:"Module"}));function Qe(){return e("div",{className:"flex items-center justify-center",children:e(gt,{loop:!0,animationData:es,play:!0,style:{width:200,height:200}})})}var P=(a=>(a.queue_avaliation="queue_avaliation",a.avaliation="avaliation",a.queue_devolutiva="queue_devolutiva",a.devolutiva="devolutiva",a.queue_therapy="queue_therapy",a.therapy="therapy",a.crud_therapy="crud_therapy",a))(P||{});const Pa=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data do Contato",id:"dataContato",name:"dataContato",type:"date",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Per\xEDodo",id:"periodoId",name:"periodos",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-3"},{labelText:"Tipo Sess\xE3o",id:"tipoSessaoId",name:"tipoSessao",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Prioridade",id:"statusId",name:"status",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}],as=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data Contato",id:"dataVoltouAba",name:"dataVoltouAba",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Per\xEDodo",id:"periodoId",name:"periodos",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-4"},{labelText:"Prioridade",id:"statusId",name:"status",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}],ts=[{permission:"CADASTRO_PACIENTES",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1}],ss=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-3"},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}];function Ie({type:a="simples",iconButtonFooter:o,textButtonFooter:i,onClickLink:t,onClick:n,onClickEdit:d,onClickTrash:c,onClickReturn:x,items:p,screen:v,loading:h=!1}){const{hasPermition:T}=ee(),y=r=>{var O;if(!r.status||r.statusPacienteCod===P.crud_therapy)return null;const F=`${(O=r.status)==null?void 0:O.nome}`;switch(F){case"Urgente":return e(de,{text:"Prioridade: ",subtext:m("strong",{className:"text-red-900  px-1 flex",children:[F,m("span",{className:"flex h-2 w-2 relative",children:[e("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-900"})]})]}),size:"sm",color:"gray-dark",display:"flex"});case"Padr\xE3o":return e(de,{text:"Prioridade: ",subtext:"Padr\xE3o",size:"sm",color:"gray-dark",display:"flex"});case"Voltou ABA":return e(de,{text:"Prioridade: ",subtext:"Voltou ABA",size:"sm",color:"gray-dark",display:"flex"})}},S=()=>p.map(r=>{var E,u;const F=(r==null?void 0:r.nome)||(r==null?void 0:r.casa),O=((E=r==null?void 0:r.perfil)==null?void 0:E.nome.toUpperCase())||(r==null?void 0:r.sala)||((u=r==null?void 0:r.especialidade)==null?void 0:u.nome),$=(r==null?void 0:r.login)||"",I=!!(r!=null&&r.ativo);return e(qe.Simples,{textPrimaryLeft:F,textPrimaryRight:O,textSecondLeft:$,onClickLink:()=>t(r),onClick:()=>n(r),textButtonFooter:i,iconButtonFooter:o,typeButtonFooter:"second",sizeButtonFooter:"sm",onClickEdit:()=>d(r),onClickTrash:()=>c(r),onClickReturn:()=>x(r),actionEdit:I,actionTrash:I,actionReturn:!I,screen:v},(r==null?void 0:r.login)||r.id)}),l=()=>p.map(r=>{var H,Z,N,z,f,w,g,b;const F=r==null?void 0:r.nome,O=r==null?void 0:r.idade,$=r!=null&&r.responsavel?`Respons\xE1vel: ${r.responsavel}`:"",I=r==null?void 0:r.telefone;let E=r!=null&&r.convenio?r==null?void 0:r.convenio.nome:"";const u=(H=r==null?void 0:r.vaga)==null?void 0:H.observacao,D=!!(r!=null&&r.disabled);let k;const L={text:"",icon:"",type:"second",size:"md"};let j=!1;if(v!=="CADASTRO_PACIENTES")switch(!0){case(r.vaga.naFila&&r.statusPacienteCod!==P.queue_devolutiva&&r.statusPacienteCod!==P.devolutiva&&T(`${v}_LISTA_BOTAO_AGENDAR`)):L.text="Agendar",L.icon="pi pi-calendar-minus",L.type="primary",L.size="md",k="agendar";break;case(v!=="FILA_DEVOLUTIVA"&&!r.vaga.naFila&&T(`${v}_LISTA_BOTAO_RETORNAR_AGENDAR`)):L.text="Retornar",L.icon="pi pi-sync",L.type="second",L.size="md",k="retornar";break;case(v==="FILA_DEVOLUTIVA"&&r.statusPacienteCod===P.queue_devolutiva):L.text="Devolutiva",L.icon="pi pi-check-circle",L.type="primary",L.size="md",k="devolutiva",j=!0;break;case(r.statusPacienteCod===P.devolutiva&&!r.naFila):L.text="Voltou ABA",L.icon="pi pi-file-export",L.type="primary",L.size="md",k="voltou_aba";break}const W=r==null?void 0:r.vaga.especialidades.map(q=>({type:q.especialidade.nome,disabled:q.agendado}));return e(qe.Complete,{textPrimaryLeft:F,textPrimaryCenter:O,textSecondLeft:$,textSecondCenter:I,textPrimaryRight:e(de,{text:"Carteirinha: ",subtext:r.carteirinha,size:"sm",color:"gray-dark",display:"flex"}),textSecondRight:E,textFooter:u,onClick:()=>n({item:r,typeButtonFooter:k}),textButtonFooter:L.text,iconButtonFooter:L.icon,typeButtonFooter:L.type,isDevolutiva:j,tags:W,onClickLink:()=>t(r),sizeButtonFooter:"sm",onClickEdit:()=>d(r),onClickTrash:()=>c(r),onClickReturn:()=>x({item:r,typeButtonFooter:k}),actionEdit:!D,actionTrash:!D,actionReturn:D,screen:v,children:!r.emAtendimento&&m("div",{className:"flex justify-between",children:[m("div",{className:"sm:flex items-center sm:gap-4",children:[P.crud_therapy!==(r==null?void 0:r.statusPacienteCod)&&m(M,{children:[e(de,{text:"Per\xEDodo: ",subtext:(N=(Z=r==null?void 0:r.vaga)==null?void 0:Z.periodo)==null?void 0:N.nome,size:"sm",color:"gray-dark",display:"flex"}),e(de,{text:"Tipo: ",subtext:(z=r==null?void 0:r.tipoSessao)==null?void 0:z.nome,size:"sm",color:"gray-dark",display:"flex"})]}),y(r),((f=r.vaga)==null?void 0:f.dataDevolutiva)&&e(de,{className:"font-inter",text:"Devolutiva:",subtext:sa((w=r.vaga)==null?void 0:w.dataDevolutiva),size:"sm",color:"gray-dark",display:"flex"})]}),((g=r==null?void 0:r.vaga)==null?void 0:g.dataContato)&&e("div",{className:"text-end",children:e(de,{className:"font-inter",text:"Inclus\xE3o: ",subtext:sa((b=r==null?void 0:r.vaga)==null?void 0:b.dataContato),size:"sm",color:"gray-dark",display:"flex"})})]})},r.id)}),C=()=>h?e(Qe,{}):p.length?e("ul",{className:"-my-6 divide-y divide-gray-200 grid gap-4 items-center",children:a==="simples"?S():l()}):e($e,{});return e("div",{className:"pointer-events-auto flex-1",children:e("div",{className:"flex flex-col  bg-white ",children:e("div",{className:fe("flex-1  overflow-y-auto py-6",{"flex  justify-center":!p.length}),children:e("div",{className:"",children:e("div",{className:"flow-root",children:C()})})})})})}function ge({id:a,legend:o,fields:i,screen:t,loading:n,nameButton:d,dropdown:c,onSubmit:x,onInclude:p,onReset:v}){const{setValue:h,handleSubmit:T,control:y,reset:S}=ve(),{hasPermition:l}=ee(),C=()=>{S(),v()},r=F=>{F.devolutiva&&(h("naFila",!0),F.naFila=!0),x(F)};return s.exports.useEffect(()=>{l(`${t}_FILTRO_SELECT_AGENDADOS`)||h("naFila",!0)}),e(Le,{children:e(Re,{header:o,tabIndex:0,children:m("form",{id:a,action:"#",onSubmit:T(r),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:i.map(F=>l(F.permission)&&e(Q,{labelText:F.labelText,id:F.id,type:F.type,customCol:F.customCol,control:y,options:F.type==="select"?c[F.name]:void 0},F.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:m(M,{children:[p&&l(`${t}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(U,{text:d||"Cadastrar",icon:"pi pi-user-plus",type:"primary",size:"sm",onClick:p})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:m(M,{children:[l(`${t}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(U,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:C})}),l(`${t}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(U,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:n,onClick:()=>T(r)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:m(M,{children:[l(`${t}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(U,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:C})}),l(`${t}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(U,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:n,onClick:()=>T(r)})})]})})]})})]})})})}function os({heading:a}){return m("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:qt})}),e(je,{size:"lg",children:a})]})}const ns=[{labelText:"Login",labelFor:"login",id:"login",name:"login",type:"text",autoComplete:"email",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"senha",id:"senha",name:"senha",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],is=[{permission:"FILA_AVALIACAO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Tipo sess\xE3o",id:"tipoSessoes",name:"tipoSessao",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_INATIVOS",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],rs=[{permission:"FILA_AVALIACAO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Tipo sess\xE3o",id:"tipoSessoes",name:"tipoSessao",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Devolutiva Agendadas",id:"isDevolutiva",name:"isDevolutiva",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],ls=[{permission:"FILA_TERAPIA_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_AGENDADOS",labelText:"Agendados",id:"naFila",name:"naFila",customCol:"col-span-3 sm:col-span-2",type:"switch",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_INATIVOS",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-3 sm:col-span-1",type:"switch",singleSelect:!1}],cs=[{labelText:"Nome",id:"nome",name:"nome",type:"text",customCol:"col-span-6 sm:col-span-6",validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Login",id:"login",name:"login",type:"text",customCol:"col-span-6 sm:col-span-3",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o, ex.: nome.sobrenome"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Perfil",id:"perfilId",name:"perfies",type:"select",customCol:"col-span-6 sm:col-span-3",validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Permiss\xE3o",id:"permissoesId",name:"permissoes",type:"picker",customCol:"col-span-6 sm:col-span-6 mt-8"},{labelText:"Especialidade",id:"especialidadeId",name:"especialidades",type:"select",customCol:"col-span-6 sm:col-span-3",hidden:!0},{labelText:"Fun\xE7\xE3o",id:"funcoesId",name:"funcoes",type:"multiselect",customCol:"col-span-6 sm:col-span-3",hidden:!0},{labelText:"",id:"comissao",name:"comissao",type:"dataTableSessaoHeron",customCol:"col-span-6 sm:col-span-6 mb-8",hidden:!0},{labelText:"",id:"cargaHoraria",name:"cargaHoraria",type:"dataTable",customCol:"col-span-6 sm:col-span-6 mb-12",hidden:!0}],ds=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"Nome",customCol:"col-span-6 sm:col-span-6",type:"text",validate:{required:!0}},{labelText:"Especialidade",labelFor:"especialidades",id:"especialidadeId",name:"especialidades",autoComplete:"especialidades",isRequired:!1,placeholder:"Especialidades",customCol:"col-span-6",type:"select",singleSelect:!1}],ps=[{labelText:"Casa",labelFor:"casa",id:"casa",name:"casa",autoComplete:"casa",isRequired:!0,placeholder:"Casa",customCol:"col-span-6",type:"text",validate:{required:!0}},{labelText:"Sala",labelFor:"sala",id:"sala",name:"sala",autoComplete:"sala",isRequired:!0,placeholder:"Sala",customCol:"col-span-6",type:"text",validate:{required:!0}}],us=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}}],ms=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}}],fs=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}},{labelText:"Cobrar",id:"cobrar",name:"cobrar",customCol:"col-span-1",type:"switch",validate:{required:!1}}],hs=[{permission:"AGENDA_FILTRO_SELECT_PACIENTE",labelText:"Pacientes",labelFor:"pacientes",id:"pacienteId",name:"pacientes",autoComplete:"paciente",isRequired:!1,placeholder:"Paciente",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"AGENDA_FILTRO_SELECT_TERAPEUTAS",labelText:"Terapeutas",labelFor:"terapeutas",id:"terapeutaId",name:"terapeutas",autoComplete:"terapeuta",isRequired:!1,placeholder:"terapeuta",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1,hidden:!0},{permission:"AGENDA_FILTRO_SELECT_STATUS_EVENTOS",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"AGENDA_FILTRO_SELECT_MODALIDADE",labelText:"Modalidade",labelFor:"modalidades",id:"modalidadeId",name:"modalidades",autoComplete:"modalidade",isRequired:!1,placeholder:"modalidade",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1}],xs={usuariosFields:cs,funcaoFields:ds,localidadeFields:ps,modalidadeFields:us,frequenciaFields:ms,statusEventosFields:fs},qa=ns,gs={};qa.forEach(a=>gs[a.id]="");function vs(){const a={login:"",senha:""},[o,i]=s.exports.useState(!1),[t,n]=s.exports.useState(!1),{renderToast:d}=le(),{handleSubmit:c,formState:{errors:x},setValue:p,watch:v,control:h}=ve({defaultValues:a}),{Login:T}=Te(),y=async({login:l,senha:C})=>{n(!0);try{await T({login:l,senha:C}),n(!1)}catch{n(!1),d({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},S=async l=>{i(l),localStorage.setItem("rememberCheck",JSON.stringify(l)),l?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({login:v("login"),senha:v("senha")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return s.exports.useEffect(()=>{const l=localStorage.getItem("rememberLogin");if(l){const{login:C,senha:r}=JSON.parse(l);i(!0),p("login",C),p("senha",r)}},[]),m("form",{className:"mt-8 space-y-6",onSubmit:c(y),children:[e("div",{children:qa.map(l=>e(Q,{id:l.id,type:l.type,labelText:l.labelText,control:h,validate:l.validate,errors:x},l.id))}),e(Q,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:h,onChange:S,value:o}),e(U,{text:"Entrar",type:"primary",size:"full",onClick:c(y),loading:t})]})}const bs="@heron-list/web",ys="0.9.0-beta.9",Cs="module",Es="heroku-20",As={dev:"vite --port=3000 --host",start:"node serve.js",preview:"vite preview",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},Ss={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},Ts={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},Is={name:bs,version:ys,private:!0,type:Cs,stack:Es,scripts:As,dependencies:Ss,devDependencies:Ts};function ra(){const[a,o]=s.exports.useState(""),i=s.exports.useCallback(async()=>{const t=await se("/");o(`vers\xE3o frontend: ${Is.version} - ${t}`)},[]);return s.exports.useEffect(()=>{i()},[i]),m(M,{children:[e(os,{heading:"Fila de Espera"}),e(vs,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:a})})]})}const ws=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(ca,{children:m(ma,{children:[e(Ue,{path:"/",element:e(ra,{})}),e(Ue,{path:"*",element:e(ra,{})})]})})})}),Ns=({children:a})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"pb-6 px-1 sm:px-8 lg:px-4 my-4",children:a})}),Ke=s.exports.createContext({}),_s=({children:a})=>{const[o,i]=s.exports.useState(!1);return e(Ke.Provider,{value:{open:o,setOpen:i},children:a})},Ds=()=>{var T;const{Logout:a}=Te(),{hasPermition:o,permissions:i}=ee(),{open:t,setOpen:n}=s.exports.useContext(Ke),[d,c]=s.exports.useState([]),{user:x,perfil:p}=s.exports.useContext(Je),v=vt(),h=()=>{const y=Ha.filter(S=>o(S.path)&&S.path!=="*");c(y)};return s.exports.useEffect(()=>{h()},[i]),m("aside",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:`fixed border-box shadow-3xl ${t?"w-36":"w-12"} h-[98vh] mt-[1vh] ml-1 rounded-3xl  bg-primary duration-700`,children:[t?e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-20 "}):e("div",{className:"bg-logo-mini bg-no-repeat bg-cover h-12 w-12 duration-700"}),m("div",{className:"border-y border-primary-text my-6 py-2",children:[m("h3",{className:"text-primary-text text-center font-light text-sm  duration-1000",children:[" ",t?x.nome:(T=x==null?void 0:x.nome)==null?void 0:T.charAt(0)]}),t&&m("h3",{className:"text-gray-200 text-center font-light text-xs  duration-1000",children:[" ",ta(p)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:d.map(y=>{const S=v.pathname.startsWith(y.path);return e("li",{className:`${S?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700`,children:m(nt,{to:y.path,className:"grid grid-cols-3 items-center text-sm px-4 py-4 ",children:[e("i",{className:y.icon}),t&&e("span",{className:"duration-700",children:ta(y.path)})]})},y.path)})}),e("i",{onClick:a,className:`pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 ${t?" left-[4rem]":" left-6"}`})]})},$a=s.exports.createContext({}),Fs=({children:a})=>{const{perfil:o}=ee(),i=[{nome:"S",value:1},{nome:"T",value:2},{nome:"Q",value:3},{nome:"Q",value:4},{nome:"S",value:5},{nome:"S",value:6}],t=s.exports.useCallback(async N=>await X(`paciente?statusPacienteCod=${N}`),[]),n=s.exports.useCallback(async N=>await X(`paciente-terapeuta?terapeutaId=${N}`),[]),d=s.exports.useMemo(async()=>await X("especialidade"),[]),c=s.exports.useCallback(async()=>await X("statusEventos"),[]),x=s.exports.useCallback(async N=>await X(`modalidade?statusPacienteCod=${N}`),[]),p=s.exports.useCallback(async()=>await X("frequencia"),[]),v=s.exports.useCallback(async()=>await X("localidade"),[]),h=s.exports.useCallback(async()=>await X("funcao"),[]),T=s.exports.useMemo(async()=>await X("perfil"),[]),y=s.exports.useCallback(async()=>await X("periodo"),[]),S=s.exports.useCallback(async N=>await X(`status?statusPacienteCod=${N}`),[]),l=s.exports.useCallback(async()=>await X("tipo-sessao"),[]),C=s.exports.useCallback(async(N,z)=>await X("paciente-especialidade",`pacienteId=${N}&statusPacienteCod=${z}`),[]),r=s.exports.useCallback(async N=>await X("especialidade-funcao",`especialidade=${N}`),[]),F=s.exports.useCallback(async N=>await X("especialidade-terapeuta",`especialidade=${N}`),[]),O=s.exports.useCallback(async N=>await X("terapeuta-funcao",`terapeutaId=${N}`),[]),$=s.exports.useMemo(async()=>await X("convenio"),[]),I=s.exports.useMemo(async()=>await X("permissao"),[]),E=async()=>await X("terapeuta"),u=async()=>await X("intervalo"),D=async N=>({pacientes:await t(N),statusEventos:await c(),modalidades:await x(N),frequencias:await p(),localidades:await v(),funcoes:await h(),terapeutas:await E(),especialidades:await d,intervalos:await u(),diasFrequencia:i}),k=async(N,z)=>({pacientes:await t(N),statusEventos:await c(),modalidades:await x(N),frequencias:await p(),localidades:await v(),funcoes:await h(),terapeutas:await E(),especialidades:await C(z,N),intervalos:await u(),diasFrequencia:i}),L=async N=>({pacientes:await t(N),convenios:await $,especialidades:await d,tipoSessao:await l(),periodos:await y(),status:await S(N)}),j=async N=>({pacientes:await t(N),statusEventos:await c(),modalidades:await x(N),terapeutas:await E(),especialidades:await d,convenios:await $,tipoSessao:await l(),status:await S(N)}),W=async N=>{let z;if(o===Ft||o===kt||o===ha){const w=await sessionStorage.getItem("auth"),g=JSON.parse(w);z=await n(g.id)}else z=await t(N);return{pacientes:z,statusEventos:await c(),modalidades:await x(N),terapeutas:await E()}},H=async N=>({terapeutas:await E(),pacientes:await t(N),statusEventos:await c()}),Z=async()=>({funcoes:await h(),especialidades:await d,perfies:await T,permissoes:await I});return e($a.Provider,{value:{renderPacientes:t,renderStatusEventos:c,renderModalidade:x,renderFrequencia:p,renderLocalidade:v,renderFuncao:h,renderTerapeutas:E,renderDropdownCalendario:D,renderDropdownCrud:Z,renderEspecialidadeFuncao:r,renderEspecialidadeTerapeuta:F,renderTerapeutaFuncao:O,renderDropdownPatientCrud:j,renderPacienteEspecialidade:C,renderDropdownQueue:L,renderDropdownQueueCalendar:k,renderDropdownCalendar:W,renderDropdownFinancial:H},children:a})};function he(){return s.exports.useContext($a)}function Oe({namelist:a,onClick:o,iconButtonFooter:i,textButtonFooter:t,screen:n}){const[d,c]=s.exports.useState([]),[x,p]=s.exports.useState({}),[v,h]=s.exports.useState([]),[T,y]=s.exports.useState(!1),[S,l]=s.exports.useState(!1),[C,r]=s.exports.useState(!0),[F,O]=s.exports.useState(!1),[$,I]=s.exports.useState(!1),E=["especialidadeId","funcoesId","comissao","cargaHoraria"],[u,D]=s.exports.useState([]),[k,L]=s.exports.useState({}),[j,W]=s.exports.useState([]),[H,Z]=s.exports.useState([]),{renderDropdownCrud:N,renderEspecialidadeFuncao:z}=he(),{renderToast:f}=le(),{handleSubmit:w,control:g,formState:{errors:b},setValue:q,unregister:G,reset:oe}=ve(),Y=s.exports.useCallback(async()=>{O(!0);try{const _=await se(a);c(_),O(!1)}catch{O(!1)}T&&y(!1)},[]),J=async _=>{try{if(_.search===void 0)return;O(!0);const A=await _t(a,_.search),R=A.status===200?A.data:[];c(R),O(!1)}catch(A){O(!1),Ee(A)}},ye=async _=>{try{O(!0);let A;const R={..._};Object.keys(_).forEach(V=>{if(V.indexOf("Id")!==-1){if(!_[V]||typeof _[V][0]=="number"){delete R[V];return}Array.isArray(_[V])&&_[V].length?R[V]=R[V].map(K=>K.id):R[V]=_[V].id}}),delete R.search,S?(R.id=x.id,A=await ie(a,R)):A=await We(a,R),oe(),Y(),l(!1),y(!1),f({type:"success",title:"",message:A.data.message,open:!0})}catch({message:A}){f({type:"failure",title:"401",message:`${A}`,open:!0}),O(!1);return}},Ce=async()=>{try{await ie(a,x),Y(),I(!1),f({type:"success",title:" Sucesso!! ",message:"Atualizado com sucesso!",open:!0})}catch({response:_}){Ee(_)}},Ee=({data:_})=>{f({type:"failure",title:"401",message:(_==null?void 0:_.message)||"N\xE3o foi poss\xEDvel realizar!",open:!0})},Ae=async(_,A)=>{switch(A){case"perfilId":const R=_.nome!=="Terapeuta"&&_.nome!=="Coordenador-terapeuta";r(R),R||G(E,{keepDirtyValues:!0});break;case"especialidadeId":q("funcoesId",[]);const V=await z(_==null?void 0:_.nome);Z({...H,funcoes:V});break;case"cargaHoraria":L(_),q("cargaHoraria",_);break;case"funcoesId":const K=_.map(ke=>({funcao:ke.nome,funcaoId:ke.id,valor:ce.format(80),tipo:"Fixo"}));q("comissao",K),D(K)}},Ne=(_,A)=>{switch(a){case"usuarios":Ae(_,A);break}},_e=s.exports.useCallback(async()=>{const _=await N();Z(_)},[]),De=_=>{switch(_.type){case"select":case"multiselect":case"picker":return H[_.name]}},Fe=_=>{switch(_.type){case"picker":return v;case"dataTableSessaoHeron":return u;case"dataTable":return k}};return s.exports.useLayoutEffect(()=>{_e()},[_e]),s.exports.useEffect(()=>{const _=`${a}Fields`,A=xs[_],R={};A.forEach(V=>R[V.id]=""),W(A)},[]),s.exports.useEffect(()=>{Y()},[Y]),s.exports.useEffect(()=>{G(E,{keepDirtyValues:!0})},[]),m(M,{children:[e(Qt,{onClick:()=>{oe(),l(!1),y(!0)},onSubmit:w(J),textButton:"Cadastrar usu\xE1rio",iconButton:"pi pi-plus",control:g,loading:F,screen:n}),e(ae,{children:e(Ie,{loading:F,screen:n,type:"simples",onClickTrash:_=>{_.ativo=!1,p(_),I(!0)},onClickEdit:_=>{const A={..._};L({}),D([]),Object.keys(A).forEach(R=>{typeof A[R]=="object"&&!Array.isArray(A[R])&&R!=="terapeuta"&&R!=="cargaHoraria"&&R.indexOf("Id")===-1&&(A[`${R}Id`]=A[R],R=`${R}Id`),R==="cargaHoraria"&&L(A.cargaHoraria),R==="comissao"&&D(A.comissao),q(R,A[R])}),l(!0),p(A),y(!0),a==="usuarios"&&h(A.permissoesId),A.hasOwnProperty("terapeuta")&&(A==null?void 0:A.terapeuta)!==null?r(!1):(r(!0),G(E,{keepDirtyValues:!0}))},onClick:_=>o(_.id),items:d,iconButtonFooter:i,textButtonFooter:t,onClickLink:()=>{},onClickReturn:_=>{_.ativo=!0,l(!0),ye(_)}})}),e(re,{title:"Cadastro",open:T,width:a==="usuarios"?"75vw":"50vw",onClose:()=>{y(!1),oe()},children:m("form",{onSubmit:w(ye),action:"#",className:"grid gap-6",children:[e("div",{className:"grid grid-cols-6 items-center gap-2",children:j.map(_=>e(Q,{labelText:_.labelText,id:_.id,type:_.type,options:De(_),validate:_.validate?_.validate:!C&&{required:"Campo obrigat\xF3rio!"},errors:b,control:g,onChange:A=>Ne(A,_.id),hidden:a==="usuarios"&&_.hidden&&C,value:Fe(_),customCol:_.customCol},_.id))}),e(U,{text:S?"Atualizar":"Cadastrar",type:S?"second":"primary",size:"full",onClick:w(ye),loading:F})]})}),e(be,{onAccept:Ce,onReject:()=>I(!1),onClose:()=>I(!1),title:"Desativar",message:"Deseja realmente desativar?",icon:"pi pi-exclamation-triangle",open:$})]})}const ze=({especialidades:a,onSubmit:o})=>{const{handleSubmit:i,formState:{errors:t},control:n,setValue:d}=ve(),c=x=>{const p=[],v=[];return Object.keys(x).map(h=>{x[h]?p.push(parseInt(h)):v.push(parseInt(h))}),o(p,v)};return m("form",{action:"#",onSubmit:i(c),id:"form-cadastro-patient",children:[e("div",{className:"grid  justify-evenly",children:e("div",{className:" mb-10",children:a.map(x=>(d(`${x.especialidade.id}`,x.agendado),e(Q,{labelText:x.especialidade.nome,id:`${x.especialidade.id}`,type:"switch",errors:t,control:n,customCol:"teste "},x.especialidade.id)))})}),e(U,{text:"Agendado",type:"primary",size:"full",onClick:i(c)})]})},ks=({title:a,options:o,control:i,id:t,rules:n,disabled:d})=>e("div",{children:m("div",{className:"card",children:[e(pe,{size:"sm",color:"violet",text:a}),e(ne,{name:t,control:i,rules:n,render:({field:c})=>e(ht,{value:c.value,options:o,onChange:c.onChange,optionLabel:"nome",multiple:!0,disabled:d})})]})});B.locale("pt-br");const we=({value:a,onClose:o,isEdit:i,statusPacienteCod:t})=>{const{hasPermition:n}=ee(),[d,c]=s.exports.useState(!1),[x,p]=s.exports.useState(!1),[v,h]=s.exports.useState(!1),[T,y]=s.exports.useState(!1),[S,l]=s.exports.useState(!1),[C,r]=s.exports.useState(!1),[F,O]=s.exports.useState(!1),[$,I]=s.exports.useState([]),{renderToast:E}=le(),[u,D]=s.exports.useState([]),[k,L]=s.exports.useState([]),[j,W]=s.exports.useState(B(new Date)),{renderDropdownQueueCalendar:H,renderDropdownCalendario:Z,renderEspecialidadeTerapeuta:N,renderTerapeutaFuncao:z,renderPacienteEspecialidade:f}=he(),w=a||{dataInicio:"",dataFim:"",start:"",end:"",paciente:"",especialidade:"",modalidade:"",terapeuta:"",funcao:"",localidade:"",frequencia:"",statusEventos:"",diasFrequencia:[],observacao:""},{getValues:g,setValue:b,unregister:q,handleSubmit:G,watch:oe,formState:{errors:Y},control:J,trigger:ye}=ve({defaultValues:w}),Ce=async(A,R)=>{p(!1);try{if(JSON.stringify(a)===JSON.stringify(A)){E({type:"warning",title:"401",message:"N\xE3o houve altera\xE7\xE3o no evento!",open:!0});return}c(!0);let V;i?(A.id=a.id,A.changeAll=R,V=await ie("evento",A)):V=await We("evento",A),o(A),E({type:"success",title:"",message:V.data.message,open:!0}),c(!1)}catch({message:V}){E({type:"failure",title:"401",message:`${V}`,open:!0}),c(!1);return}},Ee=A=>{i&&A.frequencia.nome==="Recorrente"?(A.dataAtual=a.dataAtual,L(A),p(!0)):Ce(A,null)},Ae=async(A,R,V="")=>{let K=[];switch(R){case"paciente-especialidade":K=await f(A,t),D({...u,especialidades:K}),b(`funcao${V}`,[]);break;case"especialidade-terapeuta":K=await N(A),D({...u,[`terapeutas${V}`]:K}),b(`funcao${V}`,[]);break;case"terapeuta-funcao":K=await z(A),D({...u,[`funcoes${V}`]:K});break}},Ne=(A="",R=null)=>(R&&b(`especialidade${A}`,{id:R.especialidade.id,nome:R.especialidade.nome}),m(M,{children:[e(Q,{labelText:"Especialidade",id:`especialidade${A}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:Y,control:J,options:u==null?void 0:u.especialidades,onChange:V=>Ae(V.nome,"especialidade-terapeuta",A),validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_ESPECIALIDADE")}),e(Q,{labelText:"Terapeuta",id:`terapeuta${A}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:Y,control:J,options:R?R.terapeutas:u.terapeutas,onChange:V=>Ae(V.id,"terapeuta-funcao",A),validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_TERAPEUTA")}),e(Q,{labelText:"Fun\xE7\xE3o",id:`funcao${A}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:Y,control:J,options:u[`funcoes${A}`],validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_FUNCAO")})]})),_e=s.exports.useCallback(async()=>{let A=[];switch(t){case P.therapy:A=await Z(t);break;case P.queue_avaliation:A=await H(t,a.paciente.id),De();break;case P.queue_devolutiva:A=await H(t,a.paciente.id),_();break;case P.queue_therapy:A=await H(t,a.paciente.id),b("modalidade",A.modalidades[0]);break;default:A=await H(t,a.paciente.id);break}if(D(A),i){const R=B(a.dataAtual),V=Number(R.day());b("diasFrequencia",[V])}},[]),De=()=>{y(!0),b("modalidade",{id:1,nome:"Avalia\xE7\xE3o"}),b("frequencia",{id:2,nome:"Recorrente"}),b("intervalo",{id:1,nome:"Todas Semanas"}),h(!0)},Fe=async(A,R)=>{const V=await se(`/pacientes/especialidades?statusPacienteCod=${R}&pacienteId=${A}`);I(V),O(!0)},_=()=>{b("modalidade",{id:2,nome:"Devolutiva"}),h(!1),l(!0),q(["frequencia","intervalo","especialidade"],{keepDirtyValues:!0})};return s.exports.useEffect(()=>{_e()},[]),s.exports.useEffect(()=>{a!=null&&a.isExterno&&r(!0)},[]),s.exports.useEffect(()=>{t===P.queue_devolutiva&&Fe(a.paciente.id,t)},[S]),s.exports.useEffect(()=>{var A,R;i&&((A=a==null?void 0:a.frequencia)==null?void 0:A.nome)==="Recorrente"&&(h(!0),b("dataInicio",a.dataAtual)),i&&((R=a==null?void 0:a.mododalidade)==null?void 0:R.nome)==="Avalia\xE7\xE3o"&&y(!0)},[]),m(M,{children:[m("form",{action:"#",onSubmit:G(Ee),id:"form-cadastro-agendamento",children:[m("div",{className:"grid grid-cols-6 gap-4 mb-8 overflow-y-auto",children:[e(Q,{labelText:"Modalidade",id:"modalidade",type:"select",customCol:`col-span-6 ${T||i?"sm:col-span-2":"sm:col-span-3"}`,errors:Y,control:J,options:u==null?void 0:u.modalidades,onChange:A=>{ye("dataFim",{shouldFocus:!0}),l(A.nome==="Devolutiva"),A.nome==="Avalia\xE7\xE3o"&&De(),A.nome==="Devolutiva"&&_()},validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_MODALIDADE")}),e(Q,{labelText:"Data",id:"dataInicio",type:"date",customCol:`col-span-6 font-inter font-light ${T||i?"sm:col-span-2":"sm:col-span-3"}`,errors:Y,control:J,onChange:()=>{const A=g("frequencia");if(A&&(A==null?void 0:A.nome)==="Recorrente"){const R=g("dataInicio"),V=B(R),K=Number(V.day());b("diasFrequencia",[K]),W(V.add(1,"days"))}},validate:{required:!0,min:B(new Date).format("YYYY-MM-DD")},disabled:!n("AGENDA_EVENTO_EDITAR_DATA_INICIO")}),T&&e(Q,{labelText:"Data Final",id:"dataFim",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",errors:Y,control:J,validate:{min:j.format("YYYY-MM-DD")},disabled:!n("AGENDA_EVENTO_EDITAR_DATA_FIM")}),e(Q,{labelText:"Horario Inicial",id:"start",type:"time",customCol:`col-span-6 ${v?"sm:col-span-3":"sm:col-span-2"}`,errors:Y,control:J,onChange:A=>{var Ze,Xe;const R=g("start"),K=B.duration(R).add(1,"hours"),ke=((Ze=K==null?void 0:K._data)==null?void 0:Ze.hours).toLocaleString("pt-Br",{minimumIntegerDigits:2,useGrouping:!1}),Qa=((Xe=K==null?void 0:K._data)==null?void 0:Xe.minutes).toLocaleString("pt-Br",{minimumIntegerDigits:2,useGrouping:!1}),Wa=`${ke}:${Qa}`;b("end",Wa)},validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_HORA_INICIO")}),e(Q,{labelText:"Horario Final",id:"end",type:"time",customCol:`col-span-6 ${v?"sm:col-span-3":"sm:col-span-2"}`,errors:Y,control:J,validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_HORA_FIM")}),!S&&(!a||a.id===a.groupId)&&e(Q,{labelText:"Frequ\xEAncia",id:"frequencia",type:"select",customCol:"col-span-6 sm:col-span-2",errors:Y,control:J,options:u==null?void 0:u.frequencias,onChange:A=>{if(h(A.nome==="Recorrente"),A.nome==="Recorrente"){const R=g("dataInicio"),V=B(R),K=Number(V.day());b("diasFrequencia",[K])}},validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_FREQUENCIA")||i}),v&&e(Q,{labelText:"Intervalo",id:"intervalo",type:"select",customCol:"col-span-6 sm:col-span-2",errors:Y,control:J,options:u==null?void 0:u.intervalos,validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_INTERVALO")||i}),v&&e("div",{className:"col-span-6 sm:col-span-2",children:e(ks,{id:"diasFrequencia",title:"Dias da semana",options:u==null?void 0:u.diasFrequencia,control:J,rules:{required:!!g("frequencias")},disabled:!n("AGENDA_EVENTO_EDITAR_DIAS_FREQUENCIA")||i})}),e("div",{className:"col-span-6"}),e("div",{className:"col-span-6",children:e(je,{size:"md",color:"violet",children:"Informa\xE7\xF5es Para Consulta"})}),e(Q,{labelText:"Paciente",id:"paciente",type:"select",customCol:"col-span-6 sm:col-span-6",errors:Y,control:J,options:u==null?void 0:u.pacientes,onChange:A=>{S?Fe(A.id,t):(Ae(A.id,"paciente-especialidade"),O(!1))},validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_PACIENTE")}),S&&F?$.map((A,R)=>Ne(`${R}`,A)):Ne(),e(Q,{labelText:"Local Externo?",id:"isExterno",type:"switch",customCol:"col-span-6 sm:col-span-1",errors:Y,control:J,disabled:!n("AGENDA_EVENTO_EDITAR_LOCALIDADE"),onChange:A=>{r(A)}}),C&&e(Q,{labelText:"km",id:"km",type:"number",customCol:"col-span-6 sm:col-span-1 font-inter font-light",errors:Y,control:J,disabled:!n("AGENDA_EVENTO_EDITAR_LOCALIDADE")}),e(Q,{labelText:"Local",id:"localidade",type:"select",customCol:`col-span-6 sm:col-span-${C?"2":"3"}`,errors:Y,control:J,options:u==null?void 0:u.localidades,validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_LOCALIDADE")}),e(Q,{labelText:"Status Eventos",id:"statusEventos",type:"select",customCol:"col-span-6 sm:col-span-2",errors:Y,control:J,options:u==null?void 0:u.statusEventos,validate:{required:!0},disabled:!n("AGENDA_EVENTO_EDITAR_STATUS_EVENTOS")}),e(Q,{labelText:"Observa\xE7\xE3o",id:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",errors:Y,control:J,validate:{required:!1},disabled:!n("AGENDA_EVENTO_EDITAR_OBSERVACAO")})]}),n("AGENDA_EVENTO_BOTAO_ATUALIZAR_SALVAR")?e(U,{text:i?"Atualizar":"Agendar",type:i?"second":"primary",size:"full",onClick:G(Ee),loading:d}):null]}),e(be,{onAccept:()=>Ce(k,!0),onReject:()=>Ce(k,!1),onClose:()=>p(!1),title:"Evento(s)",message:"Alterar eventos futuros ou apenas o atual?",icon:"pi pi-exclamation-triangle",open:x,acceptLabel:"Eventos Futuros",rejectLabel:"Atual"})]})},Me=({onClose:a,dropdown:o,value:i,statusPacienteCod:t,fieldsCostant:n})=>{const[d,c]=s.exports.useState(!1),{renderToast:x}=le(),[p,v]=s.exports.useState(n),[h,T]=s.exports.useState([]),y=!!(i!=null&&i.nome),S=i||{},{reset:l,handleSubmit:C,formState:{errors:r},control:F,setValue:O}=ve({defaultValues:S}),$=async E=>{c(!0);try{let u;const D=t===P.queue_avaliation?{...E,periodoId:E.periodoId.id,convenioId:E.convenioId.id,statusId:E.statusId.id,tipoSessaoId:E.tipoSessaoId.id,especialidades:E.especialidades.map(k=>k.id),statusPacienteCod:t}:{...E,periodoId:E!=null&&E.periodoId?E==null?void 0:E.periodoId.id:3,convenioId:E.convenioId.id,statusId:E!=null&&E.statusId?E==null?void 0:E.statusId.id:1,tipoSessaoId:2,especialidades:E.especialidades.map(k=>k.id),statusPacienteCod:t};return y?(D.id=i.id,u=await ie("pacientes",D)):u=await We("pacientes",D),l(),c(!1),x({type:"success",title:"",message:u==null?void 0:u.data.message,open:!0}),a()}catch{c(!1),x({type:"failure",title:"401",message:"N\xE3o cadastrado!",open:!0})}},I=(E,u)=>{switch(u){case"especialidades":const D=E.map(k=>({especialidade:k.nome,especialidadeId:k.id,valor:ce.format(200),km:0}));T(D),O("sessao",D);break}};return s.exports.useEffect(()=>{i!=null&&i.nome&&va(),i!=null&&i.sessao&&T(i.sessao)},[i]),s.exports.useEffect(()=>{const E=n,u={};E.forEach(D=>u[D.id]=""),v(E)},[]),m("form",{action:"#",onSubmit:C($),id:"form-cadastro-patient",children:[e("div",{className:"grid grid-cols-6 gap-2 mb-4 min-h-[300px] overflow-y-auto",children:p.map(E=>e(Q,{labelText:E.labelText,id:E.id,type:E.type,customCol:E.customCol,errors:r,validate:E.validate,value:E.id==="sessao"?h:null,control:F,onChange:u=>I(u,E.id),options:E.type==="select"||E.type==="multiselect"?o[E.name]:void 0},E.id))}),e(U,{text:y?"Atualizar":"Cadastrar",type:y?"second":"primary",size:"full",onClick:C($),loading:d})]})},Va=ts,Os={};Va.forEach(a=>Os[a.id]="");function Ls(){var g;const a="CADASTRO_PACIENTES",{hasPermition:o}=ee(),[i,t]=s.exports.useState(Va),[n,d]=s.exports.useState([]),[c,x]=s.exports.useState(),[p,v]=s.exports.useState(),[h,T]=s.exports.useState(!1),[y,S]=s.exports.useState(!1),[l,C]=s.exports.useState(!1),[r,F]=s.exports.useState(!1),[O,$]=s.exports.useState(!1),[I,E]=s.exports.useState([]),{renderDropdownQueue:u,renderPacientes:D}=he(),{renderToast:k}=le(),L=s.exports.useCallback(async()=>{try{$(!0),d([]);const b=await se(`pacientes?statusPacienteCod=${P.crud_therapy}`);d(b),$(!1)}catch{$(!1),k({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),j=async()=>{F(!1);try{const b=await ie("paciente/desabilitar",{id:c.id,disabled:!c.disabled});W({disabled:c.disabled}),k({type:"success",title:b.data.message,message:b.data.data,open:!0})}catch{k({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},W=async b=>{$(!0);try{const q={statusPacienteCod:P.crud_therapy};await Object.keys(b).map(Y=>{var J;q[Y]=((J=b[Y])==null?void 0:J.id)||void 0});const G=await Se("pacientes",q),oe=G.status===200?G.data:[];d(oe),$(!1)}catch{$(!1),k({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},H=async(b,q,G)=>{try{await ie(b,q),C(!1),W(G)}catch({response:oe}){k({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},Z=async({item:b,typeButtonFooter:q})=>{switch(q){case"agendar":x(b),N(b),S(!0);break;case"devolutiva":const G={id:b.vaga.id,devolutiva:!b.vaga.devolutiva};H("vagas/devolutiva",G,{naFila:!1,devolutiva:b.vaga.devolutiva});break;default:if(b.vaga.especialidades.length===1){const oe=b.vaga.especialidades[0],Y={statusPacienteCod:P.crud_therapy,pacienteId:b.id,vagaId:b.vaga.id,id:b.vaga.id,agendar:oe.agendado?[]:[oe.especialidadeId],desagendar:oe.agendado?[oe.especialidadeId]:[]};H("vagas/agendar",Y,{naFila:!b.vaga.naFila})}else x(b),N(b),C(!0),S(!0);break}},N=b=>{const q={paciente:{nome:b.nome,id:b.id}};x(b),v(q)},z=(b,q)=>{const G={pacienteId:c.id,vagaId:c.vaga.id,id:c.vaga.id,agendar:b,desagendar:q,statusPacienteCod:P.crud_therapy};C(!1),H("vagas/agendar",G,{naFila:!c.vaga.naFila})},f=b=>{const q=Ve(b);x(q),T(!0)},w=s.exports.useCallback(async()=>{const b=await u(P.crud_therapy);E(b)},[]);return s.exports.useEffect(()=>{o("CADASTRO_PACIENTES_FILTRO_SELECT_AGENDADOS")?L():W({naFila:!0,disabled:!1}),w()},[L]),m("div",{className:"grid",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:i,screen:a,onSubmit:W,onReset:L,loading:O,dropdown:I,onInclude:()=>{x(null),T(!0)}}),e(ae,{children:e(Ie,{loading:O,type:"complete",items:n,screen:a,onClick:Z,onClickLink:b=>{x(b),C(!0)},onClickTrash:b=>{x(b),F(!0)},onClickEdit:f,onClickReturn:b=>{x(b),F(!0)}})}),e(re,{title:"Cadastro de Paciente",open:h,onClose:()=>T(!1),children:e(Me,{onClose:async()=>{const b=await D(P.crud_therapy);E({...I,pacientes:b}),L(),T(!1)},dropdown:I,value:c,statusPacienteCod:P.crud_therapy,fieldsCostant:ss})}),y&&e(re,{title:"Agendamento",open:y,onClose:()=>S(!1),width:"80vw",children:e(we,{value:p,isEdit:!1,statusPacienteCod:P.crud_therapy,onClose:async b=>{H("vagas/agendar/especialidade",{vagaId:c.vaga.id,especialidadeId:b.especialidade.id,statusPacienteCod:P.crud_therapy,pacienteId:b.paciente.id},{naFila:!c.vaga.naFila}),L(),S(!1)}})}),e(re,{title:"Selecione a(s) especialidade(s) agendada(s)",open:l,onClose:()=>C(!1),children:e(ze,{onSubmit:z,especialidades:(g=c==null?void 0:c.vaga)==null?void 0:g.especialidades})}),e(be,{title:"",onAccept:j,onReject:()=>F(!1),onClose:()=>F(!1),message:`Deseja realmente ${c!=null&&c.disabled?"ativar":"inativar"} o paciente ${c==null?void 0:c.nome}?`,icon:"pi pi-exclamation-triangle",open:r})]})}const Rs=()=>{const{renderToast:a}=le(),{hasPermition:o}=ee(),i=async t=>{try{const{message:n}=await se(`/usuarios/reset-senha/${t}`);a({type:"success",title:"",message:n,open:!0})}catch({message:n}){a({type:"failure",title:"401",message:`${n}`,open:!0});return}};return e("div",{className:"card",children:m(ua,{className:"tabview-custom",children:[o("CADASTRO_PACIENTES")?e(xe,{header:"Pacientes",leftIcon:"pi pi-user",children:e(Ls,{})}):e(M,{}),o("CADASTRO_USUARIOS")?e(xe,{header:"Usu\xE1rios",leftIcon:"pi pi-user",children:e(Oe,{screen:"CADASTRO_USUARIOS",namelist:"usuarios",onClick:i,iconButtonFooter:"pi pi-sync",textButtonFooter:"Reset de senha"})}):e(M,{}),o("CADASTRO_STATUS_EVENTOS")?e(xe,{header:"Status eventos",leftIcon:"pi pi-calendar-plus",children:e(Oe,{screen:"CADASTRO_STATUS_EVENTOS",namelist:"statusEventos",onClick:()=>{}})}):e(M,{}),o("CADASTRO_FUNCAO")?e(xe,{header:"Fun\xE7\xE3o",leftIcon:"pi pi-slack",children:e(Oe,{screen:"CADASTRO_FUNCAO",namelist:"funcao",onClick:()=>{}})}):e(M,{}),o("CADASTRO_LOCALIDADE")?e(xe,{header:"Localidade",leftIcon:"pi pi-map-marker",children:e(Oe,{screen:"CADASTRO_LOCALIDADE",namelist:"localidade",onClick:()=>{}})}):e(M,{})]})})};Ct.register(Et,At,St,Tt,It,wt);const Ps={responsive:!0,scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}},plugins:{legend:{position:"top",display:!1},title:{display:!1,text:"Prioridades"}}},Ge={labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]};function qs(){const[a,o]=s.exports.useState(Ge),[i,t]=s.exports.useState(Ge),[n,d]=s.exports.useState(Ge),[c,x]=s.exports.useState(""),[p,v]=s.exports.useState(""),[h,T]=s.exports.useState([]),{hasPermition:y}=ee(),S=s.exports.useCallback(async()=>{const u=await se("/pacientes/dashboard");T(u)},[]),l=s.exports.useCallback(async()=>{const u=await se("/vagas/dashboard/tipoSessoes");o(u)},[]),C=s.exports.useCallback(async()=>{const u=await se("/vagas/dashboard/especialidades");t(u)},[]),r=s.exports.useCallback(async()=>{const u=await se("/vagas/dashboard/status");d(u)},[]),F=s.exports.useCallback(async()=>{const u=await se("/vagas/wait");x(u)},[]),O=s.exports.useCallback(async()=>{const{data:u}=await se("/vagas/return");v(u)},[]),$=()=>m("div",{className:"grid sm:gap-2 md:flex md:h-48 sm:grid-cols-3 overflow-hidden",children:[y("DASHBOARD_TEMPO_FILA")?e("div",{className:"w-full",children:e(ae,{children:e(de,{text:"Tempo de espera: ",subtext:c,color:"gray-dark",size:"md",icon:"pi pi-hourglass",display:"grid"})})}):null,y("DASHBOARD_RETORNO_FILA")?e("div",{className:"w-full",children:e(ae,{children:e(de,{text:"Retornos para fila:  ",subtext:p,color:"gray-dark",size:"md",icon:"pi pi-sync",display:"grid"})})}):null,n.length&&y("DASHBOARD_GRAFICO_FILA")?e("div",{className:"",children:e(ae,{children:e("div",{className:"md:h-12",children:e(bt,{options:Ps,data:n,height:98,style:{marginTop:"-1rem"}})})})}):null]}),I=(u,D)=>e(ae,{children:m("div",{className:"md:grid gap-4 items-center mx-auto",children:[e(je,{size:"md",children:u}),D&&D.datasets[0].data.length?e("div",{className:"grid justify-center",children:e(yt,{data:D})}):e($e,{})]})}),E=()=>{const u=me.book_new(),D=me.json_to_sheet(h);me.book_append_sheet(u,D,"Pacientes");const k=`Pacientes_${B().format("DD/MM")}.xlsx`;fa(u,k)};return s.exports.useEffect(()=>{r(),F(),l(),O(),C(),S()},[]),m("div",{className:"grid grid-cols-2",children:[m("div",{children:[m("div",{className:"flex gap-4 m-4 items-center",children:[e("div",{className:"sm:text-end",children:e(U,{text:"Download",icon:"pi pi-download",type:"primary",size:"sm",onClick:E})}),e("span",{children:" Pacientes ativos"})]}),m(Pe,{value:h,showGridlines:!0,tableStyle:{minWidth:"20rem"},stripedRows:!0,scrollHeight:"400px",virtualScrollerOptions:{itemSize:46},children:[e(te,{field:"nome",header:"Paciente"}),e(te,{field:"telefone",header:"Telefone"}),e(te,{field:"statusPaciente.nome",header:"Status"})]})]}),m("div",{className:"",children:[$(),y("DASHBOARD_GRAFICO_FILA")?m("div",{className:"grid md:grid-cols-2 gap-4 justify-center sm:justify-beteween w-full",children:[I("Especialidades por Demanda",i),I("Tipo de sess\xE3o por Demanda",a)]}):null]})]})}function la(){const[a,o]=s.exports.useState(),[i,t]=s.exports.useState(!1),{renderToast:n}=le(),{reset:d,handleSubmit:c,formState:{errors:x},control:p}=ve(),v=()=>{const T=sessionStorage.getItem("auth"),y=JSON.parse(T);o(y)},h=async T=>{t(!0);try{T.id=a.login;const{data:y}=await ie("/usuarios/reset-senha",T);t(!1),d(),n({type:"success",title:"",message:y.message,open:!0})}catch({message:y}){n({type:"failure",title:"401",message:`${y}`,open:!0}),d();return}};return s.exports.useEffect(()=>{v()},[]),e(M,{children:e(ae,{children:m("div",{className:"grid sm:grid-cols-2",children:[e(de,{text:a==null?void 0:a.nome,subtext:a==null?void 0:a.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),m("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(Q,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:x,validate:{required:!0},control:p}),e("div",{className:" mt-4 ",children:e(U,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:c(h)})})]})]})})})}const ja=is,$s={};ja.forEach(a=>$s[a.id]="");function Vs(){var z;const{hasPermition:a}=ee(),[o,i]=s.exports.useState([]),[t,n]=s.exports.useState(),[d,c]=s.exports.useState(),[x,p]=s.exports.useState(!1),[v,h]=s.exports.useState(!1),[T,y]=s.exports.useState(!1),[S,l]=s.exports.useState(!1),[C,r]=s.exports.useState(!1),[F,O]=s.exports.useState([]),{renderDropdownQueue:$,renderPacientes:I}=he(),{renderToast:E}=le(),u=s.exports.useCallback(async()=>{r(!0);try{i([]);const f=await se(`pacientes?statusPacienteCod=${P.queue_avaliation}`);i(f),r(!1)}catch({message:f}){r(!1),E({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),D=async()=>{l(!1);try{const f=await ie("paciente/desabilitar",{id:t.id,disabled:!t.disabled});k({disabled:t.disabled}),E({type:"success",title:f.data.message,message:f.data.data,open:!0})}catch{E({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},k=async f=>{r(!0);try{const w={naFila:f.naFila===void 0?!0:!f.naFila,disabled:f.disabled===void 0?!1:f.disabled,statusPacienteCod:P.queue_avaliation};delete f.naFila,delete f.disabled,await Object.keys(f).map(q=>{var G;w[q]=((G=f[q])==null?void 0:G.id)||void 0});const g=await Se("pacientes",w),b=g.status===200?g.data:[];i(b),r(!1)}catch{r(!1),E({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},L=async(f,w,g)=>{try{await ie(f,w),y(!1),k(g)}catch({response:b}){r(!1),E({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},j=async({item:f,typeButtonFooter:w})=>{switch(w){case"agendar":n(f),W(f),h(!0);break;default:if(f.vaga.especialidades.length===1){const g=f.vaga.especialidades[0],b={statusPacienteCod:P.queue_avaliation,pacienteId:f.id,vagaId:f.vaga.id,id:f.vaga.id,agendar:g.agendado?[]:[g.especialidadeId],desagendar:g.agendado?[g.especialidadeId]:[]};L("vagas/agendar",b,{naFila:!f.vaga.naFila})}else n(f),W(f),y(!0),h(!0);break}},W=f=>{const w={paciente:{nome:f.nome,id:f.id}};n(f),c(w)},H=(f,w)=>{const g={pacienteId:t.id,vagaId:t.vaga.id,id:t.vaga.id,agendar:f,desagendar:w,statusPacienteCod:P.queue_avaliation};y(!1),L("vagas/agendar",g,{naFila:!t.vaga.naFila})},Z=f=>{const w=Ve(f);n(w),p(!0)},N=s.exports.useCallback(async()=>{const f=await $(P.queue_avaliation);O(f)},[]);return s.exports.useEffect(()=>{a("FILA_AVALIACAO_FILTRO_SELECT_AGENDADOS")?u():k({naFila:!0}),N()},[u]),m("div",{className:"grid",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:ja,screen:"FILA_AVALIACAO",onSubmit:k,onReset:u,loading:C,dropdown:F,onInclude:()=>{n(null),p(!0)}}),e(ae,{children:e(Ie,{loading:C,type:"complete",items:o,screen:"FILA_AVALIACAO",onClick:j,onClickLink:f=>{n(f),y(!0)},onClickTrash:f=>{n(f),l(!0)},onClickEdit:Z,onClickReturn:({item:f})=>{n(f),l(!0)}})}),e(re,{title:"Cadastro de Paciente",open:x,onClose:()=>p(!1),children:e(Me,{onClose:async()=>{const f=await I(P.queue_avaliation);O({...F,pacientes:f}),u(),p(!1)},dropdown:F,value:t,statusPacienteCod:P.queue_avaliation,fieldsCostant:Pa})}),v&&e(re,{title:"Agendamento",open:v,onClose:()=>h(!1),width:"80vw",children:e(we,{value:d,isEdit:!1,statusPacienteCod:P.queue_avaliation,onClose:async f=>{L("vagas/agendar/especialidade",{vagaId:t.vaga.id,especialidadeId:f.especialidade.id,statusPacienteCod:P.queue_avaliation,pacienteId:f.paciente.id},{naFila:!t.vaga.naFila}),u(),h(!1)}})}),e(re,{title:"Selecione a(s) especialidade(s) agendada(s)",open:T,onClose:()=>y(!1),children:e(ze,{onSubmit:H,especialidades:(z=t==null?void 0:t.vaga)==null?void 0:z.especialidades})}),e(be,{title:"",onAccept:D,onReject:()=>l(!1),onClose:()=>l(!1),message:`Deseja realmente ${t!=null&&t.disabled?"ativar":"inativar"} o paciente ${t==null?void 0:t.nome}?`,icon:"pi pi-exclamation-triangle",open:S})]})}const za=rs,js={};za.forEach(a=>js[a.id]="");function zs(){var z;const{hasPermition:a}=ee(),[o,i]=s.exports.useState([]),[t,n]=s.exports.useState(),[d,c]=s.exports.useState(),[x,p]=s.exports.useState(!1),[v,h]=s.exports.useState(!1),[T,y]=s.exports.useState(!1),[S,l]=s.exports.useState(!1),[C,r]=s.exports.useState(!1),[F,O]=s.exports.useState([]),{renderDropdownQueue:$,renderPacientes:I}=he(),{renderToast:E}=le(),u=s.exports.useCallback(async()=>{try{r(!0),i([]);const f=await se(`pacientes?statusPacienteCod=${P.queue_devolutiva}`);i(f),r(!1)}catch{r(!1),E({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),D=async()=>{l(!1);try{const f=await ie("paciente/desabilitar",{id:t.id,disabled:!t.disabled});k({disabled:t.disabled}),E({type:"success",title:f.data.message,message:f.data.data,open:!0})}catch{E({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},k=async f=>{r(!0);const w={naFila:f.naFila===void 0?!0:!f.naFila,isDevolutiva:f.isDevolutiva===void 0?!1:f.isDevolutiva,disabled:f.disabled===void 0?!1:f.disabled,statusPacienteCod:P.queue_devolutiva};delete f.naFila,delete f.disabled,delete f.isDevolutiva,await Object.keys(f).map(q=>{var G;w[q]=((G=f[q])==null?void 0:G.id)||void 0});const g=await Se("pacientes",w),b=g.status===200?g.data:[];i(b),r(!1)},L=async(f,w,g)=>{try{await ie(f,w),y(!1),k({})}catch({response:b}){E({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},j=async({item:f,typeButtonFooter:w})=>{switch(w){case"devolutiva":n(f),W(f),h(!0);break;case"voltou_aba":n(f),Z(f);break;default:if(f.vaga.especialidades.length===1){const g=f.vaga.especialidades[0],b={statusPacienteCod:P.queue_devolutiva,pacienteId:f.id,vagaId:f.vaga.id,id:f.vaga.id,agendar:g.agendado?[]:[g.especialidadeId],desagendar:g.agendado?[g.especialidadeId]:[]};L("vagas/agendar",b,{naFila:!f.vaga.naFila})}else n(f),W(f),y(!0),h(!0);break}},W=f=>{const w={paciente:{nome:f.nome,id:f.id}};n(f),c(w)},H=(f,w)=>{const g={pacienteId:t.id,vagaId:t.vaga.id,id:t.vaga.id,agendar:f,desagendar:w,statusPacienteCod:P.queue_devolutiva};y(!1),L("vagas/agendar",g,{naFila:!t.vaga.naFila})},Z=f=>{const w=Ve(f);n(w),p(!0)},N=s.exports.useCallback(async()=>{const f=await $(P.queue_devolutiva);O(f)},[]);return s.exports.useEffect(()=>{a("FILA_AVALIACAO_FILTRO_SELECT_AGENDADOS")?u():k({naFila:!0}),N()},[u]),m("div",{className:"grid",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:za,screen:"FILA_DEVOLUTIVA",onSubmit:k,onReset:u,loading:C,dropdown:F}),e(ae,{children:e(Ie,{loading:C,type:"complete",items:o,screen:"FILA_DEVOLUTIVA",onClick:j,onClickLink:f=>{n(f),y(!0)},onClickTrash:f=>{n(f),l(!0)},onClickEdit:Z,onClickReturn:f=>{n(f),l(!0)}})}),e(re,{title:"Cadastro de Paciente",open:x,onClose:()=>p(!1),children:e(Me,{onClose:async()=>{const f=await I(P.queue_devolutiva);O({...F,pacientes:f}),u(),p(!1)},dropdown:F,value:t,statusPacienteCod:P.queue_devolutiva,fieldsCostant:Pa})}),v&&e(re,{title:"Agendamento",open:v,onClose:()=>h(!1),width:"80vw",children:e(we,{value:d,isEdit:!1,statusPacienteCod:P.queue_devolutiva,onClose:async f=>{const g=Object.keys(f).map(b=>{if(b.includes("especialidade"))return f[b].id}).filter(b=>b!==void 0);L("vagas/agendar/especialidade",{vagaId:t.vaga.id,especialidades:g,statusPacienteCod:P.queue_devolutiva,pacienteId:f.paciente.id},{naFila:!t.vaga.naFila}),u(),h(!1)}})}),e(re,{title:"Selecione a(s) especialidade(s) agendada(s)",open:T,onClose:()=>y(!1),children:e(ze,{onSubmit:H,especialidades:(z=t==null?void 0:t.vaga)==null?void 0:z.especialidades})}),e(be,{title:"",onAccept:D,onReject:()=>l(!1),onClose:()=>l(!1),message:`Deseja realmente ${t!=null&&t.disabled?"ativar":"inativar"} o paciente ${t==null?void 0:t.nome}?`,icon:"pi pi-exclamation-triangle",open:S})]})}const Ma=ls,Ms={};Ma.forEach(a=>Ms[a.id]="");function Bs(){var w;const{hasPermition:a}=ee(),[o,i]=s.exports.useState(Ma),[t,n]=s.exports.useState([]),[d,c]=s.exports.useState(),[x,p]=s.exports.useState(),[v,h]=s.exports.useState(!1),[T,y]=s.exports.useState(!1),[S,l]=s.exports.useState(!1),[C,r]=s.exports.useState(!1),[F,O]=s.exports.useState(!1),[$,I]=s.exports.useState([]),{renderDropdownQueue:E,renderPacientes:u}=he(),{renderToast:D}=le(),k=s.exports.useCallback(async()=>{try{O(!0),n([]);const g=await se(`pacientes?statusPacienteCod=${P.queue_therapy}`);n(g),O(!1)}catch{O(!1),D({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),L=async()=>{r(!1);try{const g=await ie("paciente/desabilitar",{id:d.id,disabled:!d.disabled});j({disabled:d.disabled}),D({type:"success",title:g.data.message,message:g.data.data,open:!0})}catch{D({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},j=async g=>{try{O(!0);const b={naFila:g.naFila===void 0?!0:!g.naFila,disabled:g.disabled===void 0?!1:g.disabled};b.statusPacienteCod=b.naFila?P.queue_therapy:P.therapy,delete g.naFila,delete g.disabled,await Object.keys(g).map(oe=>{var Y;b[oe]=((Y=g[oe])==null?void 0:Y.id)||void 0});const q=await Se("pacientes",b),G=q.status===200?q.data:[];n(G),O(!1)}catch{O(!1),D({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},W=async(g,b,q)=>{try{await ie(g,b),l(!1),j(q)}catch({response:G}){D({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},H=async({item:g,typeButtonFooter:b})=>{switch(b){case"agendar":c(g),Z(g),y(!0);break;default:if(g.vaga.especialidades.length===1){const q=g.vaga.especialidades[0],G={statusPacienteCod:P.queue_therapy,pacienteId:g.id,vagaId:g.vaga.id,id:g.vaga.id,agendar:q.agendado?[]:[q.especialidadeId],desagendar:q.agendado?[q.especialidadeId]:[]};W("vagas/agendar",G,{naFila:!g.vaga.naFila})}else c(g),Z(g),l(!0),y(!0);break}},Z=g=>{const b={paciente:{nome:g.nome,id:g.id}};c(g),p(b)},N=(g,b)=>{const q={statusPacienteCod:P.queue_therapy,pacienteId:d.id,vagaId:d.vaga.id,id:d.vaga.id,agendar:g,desagendar:b};l(!1),W("vagas/agendar",q,{naFila:!d.vaga.naFila})},z=g=>{const b=Ve(g);c(b),h(!0)},f=s.exports.useCallback(async()=>{const g=await E(P.queue_therapy);I(g)},[]);return s.exports.useEffect(()=>{a("FILA_TERAPIA_FILTRO_SELECT_AGENDADOS")?k():j({naFila:!0}),f()},[k]),m("div",{className:"grid",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:o,screen:"FILA_TERAPIA",onSubmit:j,onReset:k,loading:F,dropdown:$,onInclude:()=>{c(null),h(!0)}}),e(ae,{children:e(Ie,{loading:F,type:"complete",items:t,screen:"FILA_TERAPIA",onClick:H,onClickLink:g=>{c(g),l(!0)},onClickTrash:g=>{c(g),r(!0)},onClickEdit:z,onClickReturn:g=>{c(g),r(!0)}})}),e(re,{title:"Cadastro de Paciente",open:v,onClose:()=>h(!1),children:e(Me,{onClose:async()=>{const g=await u(P.queue_therapy);I({...$,pacientes:g}),k(),h(!1)},dropdown:$,value:d,statusPacienteCod:P.queue_therapy,fieldsCostant:as})}),T&&e(re,{title:"Agendamento",open:T,onClose:()=>y(!1),width:"80vw",children:e(we,{value:x,isEdit:!1,statusPacienteCod:P.queue_therapy,onClose:async g=>{W("vagas/agendar/especialidade",{vagaId:d.vaga.id,especialidadeId:g.especialidade.id,statusPacienteCod:P.queue_therapy,pacienteId:g.paciente.id},{naFila:!d.vaga.naFila}),k(),y(!1)}})}),e(re,{title:"Selecione a(s) especialidade(s) agendada(s)",open:S,onClose:()=>l(!1),children:e(ze,{onSubmit:N,especialidades:(w=d==null?void 0:d.vaga)==null?void 0:w.especialidades})}),e(be,{title:"",onAccept:L,onReject:()=>r(!1),onClose:()=>r(!1),message:`Deseja realmente ${d!=null&&d.disabled?"ativar":"inativar"} o paciente ${d==null?void 0:d.nome}?`,icon:"pi pi-exclamation-triangle",open:C})]})}function Gs(){const{hasPermition:a}=ee();return e("div",{className:"card",children:(()=>m(xt,{className:"tabview-custom",children:[a("FILA_AVALIACAO")?e(Be,{header:"Avaliac\xE3o",leftIcon:"pi pi-user",children:e(Vs,{})}):e(M,{}),a("FILA_DEVOLUTIVA")?e(Be,{header:"Devolutiva",leftIcon:"pi pi-user",children:e(zs,{})}):e(M,{}),a("FILA_TERAPIA")?e(Be,{header:"Terapia",leftIcon:"pi pi-user",children:e(Bs,{})}):e(M,{})]}))()})}const Ys=({events:a,openModalEdit:o,eventMouseEnter:i,onNext:t,onPrev:n,dateClick:d})=>{const c=s.exports.useRef(null),x=(p,v)=>{const h=v==="prev";let T=p.getCurrentData().currentViewType,y,S,l,C,r,F,O=p.getCurrentData().dateProfile.activeRange.end;switch(T){case"dayGridMonth":return y=h?O.getMonth()-1:O.getMonth()+1,S=O.getFullYear(),l=ya(S,y),C=Ca(S,y),{type:"dayGridMonth",start:l,end:C};case"timeGridWeek":case"listWeek":r=p.getCurrentData().dateProfile.activeRange.start,F=p.getCurrentData().dateProfile.activeRange.end;const $=B(p.getCurrentData().dateProfile.activeRange.start),I=B(p.getCurrentData().dateProfile.activeRange.end);return l=h?$.subtract(7,"days"):$.add(7,"days"),C=h?I.subtract(7,"days"):I.add(7,"days"),{type:"timeGridWeek",start:l.format("YYYY-MM-DD"),end:C.format("YYYY-MM-DD")};case"timeGridDay":return r=h?B(O).subtract(1,"days"):B(O).add(1,"days"),F=h?B(O):B(O).add(2,"days"),{type:"timeGridDay",start:r.format("YYYY-MM-DD"),end:F.format("YYYY-MM-DD")}}};return s.exports.useEffect(()=>{if(c.current){const p=document.querySelector("#root > div > div.min-h-full.overflow-hidden.bg-background.h-screen.w-full > main > div > div > div > fieldset > div > div > div > div > div");p.style.height="calc(100vh - 250px)",p.style.overflow="hidden"}},[]),e("div",{children:e("div",{className:"card text-sm font-inter",children:e(Xa,{plugins:[et,at,tt,st,ot],hiddenDays:[0],slotLabelInterval:"5vw",slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotDuration:"00:20:00",slotMinTime:"08:00:00",slotMaxTime:"20:00:00",allDaySlot:!1,locale:"pt",navLinks:!0,timeZone:"America/Sao_Paulo",initialView:"timeGridWeek",events:a,headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},ref:c,eventClick:o,dayMaxEventRows:!0,views:{timeGrid:{dayMaxEventRows:8}},businessHours:{daysOfWeek:[1,2,3,4,5,6],startTime:"08:00",endTime:"20:00"},buttonText:{month:"M\xEAs",week:"Semana",day:"Dia",list:"Lista"},dateClick:({date:p})=>d(zt(p)),eventMouseEnter:i,eventContent:p=>{},customButtons:{prev:{text:"prev",click:p=>{const v=c.current&&c.current.getApi();let h=x(v,"prev");n(h),v&&v.prev()}},next:{text:"next",click:p=>{const v=c.current&&c.current.getApi();let h=x(v,"next");t(h),v&&v.next()}}}})})})},Us=({evento:a,open:o,onClose:i,onEdit:t,onDelete:n,onClick:d,onClickSecond:c})=>{const[x,p]=s.exports.useState(!0),{hasPermition:v,perfil:h}=ee(),T=S=>{let l=S.modalidade.nome;if(l!=="Avalia\xE7\xE3o"||!(S!=null&&S.dataInicio)||!(S!=null&&S.dataFim))return e("span",{children:l});const C=oa(S.dataInicio,S.dataAtual),r=oa(S.dataInicio,S.dataFim);return e(M,{children:m("span",{children:[l,e("span",{className:"font-inter ml-2",children:`${C}/${r}`})," "]})})},y=m("div",{className:"flex justify-between items-center gap-8",children:[a.paciente.nome!=="Livre"?e(Ea,{type:a.especialidade.nome,disabled:!1}):e("div",{}),e("span",{children:a.paciente.nome}),m("div",{className:"flex mt-[-0.5rem]",children:[v("AGENDA_LISTA_EDITAR")?e("div",{children:x&&e(U,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:t})}):null,v("AGENDA_LISTA_EXCLUIR")&&(a==null?void 0:a.canDelete)?e("div",{children:x&&e(U,{text:"Edit",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:n})}):null]})]});return s.exports.useEffect(()=>{const S=B().format("YYYY-MM-DD");p(S<=a.dataAtual)}),e(pa,{header:y,visible:o,onHide:i,breakpoints:{"960px":"80vw"},children:m("div",{children:[m("p",{className:"flex gap-4 items-center justify-between",children:[T(a)," ",e("span",{children:a.statusEventos.nome})]}),e("br",{}),m("p",{className:"font-inter font-bold",children:[a.date," \u2022 ",`${a.start} at\xE9 ${a.end}`]}),a.frequencia.id!==1&&m("p",{children:[a.intervalo.nome," \u2022"," ",a==null?void 0:a.diasFrequencia.map(S=>ba[S-1]).join("-")]}),e("br",{}),m("p",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-map-marker"}),a.localidade.nome,a.isExterno&&m("span",{className:"font-bold font-inter",children:[" ",`- ${a.km}km`," "]})]}),e("br",{}),a.observacao?m(M,{children:[m("p",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-bars"}),a.observacao]}),e("br",{})]}):null,m("p",{className:"flex gap-4 items-center ",children:[a.terapeuta.nome," ",e("i",{className:"pi pi-tag",children:" "})," ",a.funcao.nome]}),m("div",{className:"flex justify-between mt-8 gap-2",children:[(h===He||h===ha)&&a.statusEventos.nome!=="Atendido"&&!na(a.date)&&a.paciente.nome!=="Livre"?e(U,{text:"Atendido",icon:"pi pi-check",type:"primary",color:"white",size:"full",onClick:d}):null,(h==He||h===Dt)&&na(a.date)&&a.paciente.nome!=="Livre"&&a.statusEventos.nome!=="Atendido"&&a.statusEventos.nome!=="Atestado"?e(U,{text:"Atestado",icon:"pi pi-book",type:"second",color:"white",size:"full",onClick:c}):null]})]})})};var Ba=(a=>(a.terapeuta="Terapeuta",a))(Ba||{});const Ga=hs,Hs={};Ga.forEach(a=>Hs[a.id]="");function Qs(){const a=new Date,{perfil:o}=Te(),[i,t]=s.exports.useState([]),{hasPermition:n}=ee(),[d,c]=s.exports.useState(!1),{renderToast:x}=le(),[p,v]=s.exports.useState([]),{renderDropdownCalendar:h,renderPacientes:T}=he(),[y,S]=s.exports.useState(),[l,C]=s.exports.useState(!1),[r,F]=s.exports.useState(!1),[O,$]=s.exports.useState(!1),[I,E]=s.exports.useState(!1),[u,D]=s.exports.useState([]),[k,L]=s.exports.useState({start:ya(a.getFullYear(),a.getMonth()+1),end:Ca(a.getFullYear(),a.getMonth()+1)});async function j(w=k){if(o===Ba.terapeuta){const g=await sessionStorage.getItem("auth"),b=JSON.parse(g);N({terapeutaId:{id:b.id}})}else{L({start:w.start,end:w.end});const g=await se(`/evento/filter/${w.start}/${w.end}?${i.join("&")}`);D(g)}}async function W(){try{await Nt(`/evento?id=${y.id}`),j(),$(!1),x({type:"success",title:"",message:"Evento exclu\xEDdo com sucesso!",open:!0})}catch(w){console.error(w),x({type:"failure",title:"401",message:"Evento n\xE3o exclu\xEDdo!",open:!0})}}async function H(){try{await ie("/evento/check",y),$(!1),x({type:"success",title:"",message:"Evento atualizado!",open:!0}),setTimeout(()=>{j()},1e3)}catch(w){console.error(w),x({type:"failure",title:"401",message:"Evento n\xE3o atualizado!",open:!0})}}async function Z(){try{await ie("/evento/atestado",y),$(!1),x({type:"success",title:"",message:"Evento atualizado!",open:!0}),setTimeout(()=>{j()},1e3)}catch(w){console.error(w),x({type:"failure",title:"401",message:"Evento n\xE3o atualizado!",open:!0})}}async function N(w){try{const g=[];Object.keys(w).map(q=>{var G;(G=w[q])!=null&&G.id&&g.push(`${q}=${w[q].id}`)}),t(g);const b=await se(`/evento/filter/${k.start}/${k.end}?${g.join("&")}`);D(b)}catch{c(!1)}}s.exports.useMemo(async()=>{const w=await h(P.therapy);v(w)},[]);const z=({event:w})=>{const g={id:Number(w.id),...w._def.extendedProps,...w._def.extendedProps.data,dataAtual:jt(w._instance.range.start),date:Mt(w._instance.range.start),groupId:w._def.groupId};S(g),$(!0)},f=()=>{$(!1),C(!0),F(!0)};return s.exports.useEffect(()=>{},[]),s.exports.useEffect(()=>{c(!0),j(),setTimeout(()=>{c(!1)},500)},[]),m("div",{className:"h-max-screen",children:[n("AGENDA_FILTRO_BOTAO_PESQUISAR")?e(ge,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:Ga,onSubmit:N,onReset:j,screen:"AGENDA",loading:d,dropdown:p,onInclude:()=>{S(null),C(!0),F(!1)}}):e(M,{}),e(ae,{children:e("div",{className:"flex-1",children:e(Ys,{openModalEdit:z,events:u,onNext:w=>j(w),onPrev:w=>j(w),dateClick:w=>{S({dataInicio:w}),C(!0),F(!1)}})})}),O&&e(Us,{evento:y,open:O,onEdit:f,onDelete:()=>E(!0),onClose:()=>$(!1),onClick:H,onClickSecond:Z}),l&&n("AGENDA_FILTRO_BOTAO_CADASTRAR")?e(re,{title:"Agendamento",open:l,onClose:()=>C(!1),width:"80vw",children:e(we,{value:y,isEdit:r,screen:"calendar",statusPacienteCod:P.therapy,onClose:()=>{S(null),j(),C(!1)}})}):null,e(be,{onAccept:W,onReject:()=>E(!1),onClose:()=>E(!1),title:"Evento(s)",message:"O evento exclu\xEDdo perder\xE1 todo hist\xF3rico. Deseja realmente exclui-lo?",icon:"pi pi-exclamation-triangle",open:I,acceptLabel:"Excluir",rejectLabel:"Cancelar"})]})}const Ws=[{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Terapeuta",id:"terapeutaId",name:"terapeutas",customCol:"col-span-6 sm:col-span-2",type:"select"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1}],Js=[{permission:"FINANCEIRO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacienteId",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1}],Ya=Ws,Ks={};Ya.forEach(a=>Ks[a.id]="");const Ua=Js,Zs={};Ua.forEach(a=>Zs[a.id]="");function Xs(){const[a,o]=s.exports.useState(!1),[i,t]=s.exports.useState([]);ee();const{renderDropdownFinancial:n}=he(),[d,c]=s.exports.useState([]),[x,p]=s.exports.useState({}),[v,h]=s.exports.useState({}),T=I=>(c([]),p({}),I),y=async(I,E)=>{o(!0);try{const u={};await Object.keys(I).map(L=>{var j;L.indexOf("Id")!==-1?u[L]=((j=I[L])==null?void 0:j.id)||void 0:u[L]=I[L]}),h({modulo:E,...I});const D=await Se(`financeiro/${E}`,u),k=D.status===200&&(D==null?void 0:D.data)?D.data:[];p(k.geral),c(k.data),o(!1)}catch{o(!1)}},S=s.exports.useCallback(async()=>{const I=await n(P.therapy);t(I)},[]),l=I=>{const E=I.map(u=>u.valorTotal).reduce((u,D)=>u+=D);return ce.format(E)},C=I=>{const E=I.map(u=>u.horas).reduce((u,D)=>{const k=B.duration(u);return k.add(B.duration(D)),k});return Bt(E)},r=(I,E)=>m("span",{className:"",children:[m("span",{className:"image-text mr-24",children:[E," "]}),m("span",{className:"image-text mr-24",children:["Valor total:"," ",e("span",{className:"font-inter",children:l(I)})]}),m("span",{className:"image-text",children:["Total de Horas:"," ",e("span",{className:"font-inter",children:C(I)})]})]}),F=()=>{const I=me.book_new(),E=me.json_to_sheet([x]),u=[];Object.values(d).map(L=>u.push(...L));const D=me.json_to_sheet(u);me.book_append_sheet(I,E,"Geral"),me.book_append_sheet(I,D,"Detalhado");const k=`${x.nome} ${B(v.dataInicio).format("DD-MM-YYYY")} at\xE9 ${B(v.dataFim).format("DD-MM-YYYY")}.xlsx`;fa(I,k)},O=()=>m(M,{children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:Ya,screen:"FINANCEIRO",onSubmit:I=>y(I,"terapeuta"),onReset:()=>{},loading:a,dropdown:i}),!a&&Object.values(d).length?m("div",{className:"grid sm:grid-cols-3 sm:gap-2",children:[e(ae,{children:m("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-users"}),m("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:x.especialidade}),e("span",{className:"font-inter",children:x.nome})]})]})}),e(ae,{children:m("div",{className:"flex gap-2 justify-around",children:[m("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-stopwatch"}),m("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Horas"}),e("span",{className:"font-inter",children:x.horas})]})]}),m("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-car"}),m("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"km"}),e("span",{className:"font-inter",children:x.valorKm})]})]})]})}),e(ae,{children:m("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-money-bill"}),m("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Total total"}),e("span",{className:"font-inter",children:ce.format(x.valorTotal)})]})]})})]}):null,e(ae,{children:e("div",{className:"flex justify-center",children:a?e(Qe,{}):Object.keys(d).length?m("div",{className:"w-full text-md ",children:[e("div",{className:"sm:text-end mb-4",children:e(U,{text:"Download Excel",icon:"pi pi-download",type:"primary",size:"sm",onClick:F})}),e(Le,{children:Object.keys(d).map((I,E)=>e(Re,{header:r(d[I],I),tabIndex:E,children:m(Pe,{value:d[I],responsiveLayout:"scroll",children:[e(te,{sortable:!0,field:"data",header:"Data",body:({data:u})=>e("span",{className:"font-inter",children:u})}),e(te,{sortable:!0,field:"horas",header:"Tempo",body:({horas:u})=>e("span",{className:"font-inter",children:u})}),e(te,{sortable:!0,field:"status",header:"Status"}),e(te,{sortable:!0,field:"km",header:"km",body:u=>u.km==0?"-":u.km}),e(te,{sortable:!0,field:"valorKm",header:"ValorKm km",body:u=>u.valorKm==0?"-":ce.format(u.valorKm)}),e(te,{sortable:!0,field:"sessao",header:"Valor da Sess\xE3o",body:({sessao:u})=>e("span",{className:"font-inter",children:ce.format(u)})}),e(te,{sortable:!0,field:"valorSessao",header:"Comiss\xE3o",body:({valorSessao:u})=>e("span",{className:"font-inter",children:ce.format(u)})}),e(te,{sortable:!0,field:"valorTotal",header:"Valor Total",body:({valorTotal:u})=>e("span",{className:"font-inter",children:ce.format(u)})})]})},E))})]}):e("div",{className:"w-full flex items-center  justify-center",children:e($e,{})})})})]}),$=()=>m(M,{children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:Ua,screen:"FINANCEIRO",onSubmit:I=>y(I,"paciente"),onReset:()=>{},loading:a,dropdown:i}),!a&&Object.keys(d).length?e(M,{children:m("div",{className:"grid sm:grid-cols-2 sm:gap-2",children:[e(ae,{children:m("div",{className:"flex gap-2 justify-around",children:[m("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-stopwatch"}),m("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Horas"}),e("span",{className:"font-inter",children:x.horas})]})]}),m("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-car"}),m("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"km"}),e("span",{className:"font-inter",children:x.valorKm})]})]}),m("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-money-bill"}),m("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Total total"}),e("span",{className:"font-inter",children:ce.format(x.valorTotal)})]})]})]})}),e(ae,{children:e("div",{className:"flex flex-wrap gap-2 items-left",children:x.especialidadeSessoes&&Object.keys(x.especialidadeSessoes).map(I=>e(M,{children:m("div",{className:"flex gap-2 items-center",children:[e("div",{className:`h-2 w-2 rounded-full ${aa[I.toUpperCase()]}`}),m("div",{className:"grid",children:[m("span",{children:[" ",I," "]}),m("span",{className:"font-inter",children:[" ",x.especialidadeSessoes[I]," "]})]})]})}))})})]})}):null,e(ae,{children:a?e(Qe,{}):Object.keys(d).length?m("div",{className:"w-full ",children:[e("div",{className:"sm:text-end mb-4",children:e(U,{text:"Download Excel",icon:"pi pi-download",type:"primary",size:"sm",onClick:F})}),e(Le,{activeIndex:0,children:Object.keys(d).map((I,E)=>e(Re,{header:r(d[I],I),tabIndex:E,children:m(Pe,{value:d[I],responsiveLayout:"scroll",children:[e(te,{sortable:!0,field:"data",header:"Data",body:({data:u})=>e("span",{className:"font-inter",children:u})}),e(te,{sortable:!0,field:"status",header:"Status"}),e(te,{sortable:!0,field:"km",header:"km"}),e(te,{sortable:!0,field:"especialidade",header:"especialidade",body:({especialidade:u})=>m("div",{className:"flex gap-2 items-center",children:[e("div",{className:`h-2 w-2 rounded-full ${aa[u.toUpperCase()]}`}),m("span",{children:[" ",u," "]})]})}),e(te,{sortable:!0,field:"sessao",header:"Valor da Sess\xE3o",body:({sessao:u})=>e("span",{className:"font-inter",children:ce.format(u)})})]})}))})]}):e("div",{className:"w-full flex items-center  justify-center",children:e($e,{})})})]});return s.exports.useEffect(()=>{S()},[]),e("div",{className:"grid gap-8",children:m(ua,{className:"tabview-custom",onBeforeTabChange:I=>T(I),children:[e(xe,{header:"Terapeuta",leftIcon:"pi pi-user",children:O()}),e(xe,{header:"Paciente",leftIcon:"pi pi-user",children:$()})]})})}const Ha=[{path:"*",componentRoute:la,icon:""},{path:"home",componentRoute:la,icon:"pi pi-home"},{path:"dashboard",componentRoute:qs,icon:"pi pi-chart-pie"},{path:"cadastro",componentRoute:Rs,icon:"pi pi-credit-card"},{path:"fila",componentRoute:Gs,icon:"pi pi-sort-amount-down"},{path:"agenda",componentRoute:Qs,icon:"pi pi-calendar"},{path:"financeiro",componentRoute:Xs,icon:"pi pi-money-bill"}],eo=()=>{const{hasPermition:a}=ee(),{open:o}=s.exports.useContext(Ke);return m("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(Ds,{}),e("main",{className:`${o?"ml-36":"ml-14"} p-4 duration-700`,children:e(ma,{children:Ha.map((t,n)=>e(Ue,{path:t.path,element:a(t.path)?e(Ns,{children:e(t.componentRoute,{})}):null},n))})})]})};function ao(){const{signed:a}=Te();return a?e(ca,{children:e(Ot,{children:e(Fs,{children:e(_s,{children:e(eo,{})})})})}):e(ws,{})}function to(){return e("div",{className:"App",children:e(Rt,{children:e(Pt,{children:e(ao,{})})})})}Ka.createRoot(document.getElementById("root")).render(e(Ja.StrictMode,{children:e(to,{})}));
