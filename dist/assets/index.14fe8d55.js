import{r as s,R as nt}from"./react.2fd4c9ce.js";import{c as ot}from"./react-dom.64e71150.js";import{a as it}from"./axios.d349c3b3.js";import{h as Q}from"./moment.9709ab41.js";import{j as e,a as p,F as B,b as rt,m as lt,c as ct,d as dt,e as pt,f as ut}from"./@fullcalendar.702266e6.js";import{B as fa,N as mt}from"./react-router-dom.dc59d84e.js";import{T as ft,P as gt,A as je,a as Me,D as Be,C as ee,b as ga,I as We,c as xt,d as ht,e as vt,L as Ct,M as bt,f as xa,g as yt,h as Et,S as At,i as ha,j as Ce,K as va,k as ke}from"./primereact.a90c733e.js";import{c as ye}from"./clsx.09c75e33.js";import{L as It}from"./react-lottie-player.706222cc.js";import{C as ce,u as Ie}from"./react-hook-form.2c9e29ae.js";import{e as Ca,f as Je,d as Tt}from"./react-router.4450ca87.js";import{u as Le,w as St}from"./xlsx.86b9426e.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.d1fbb2c2.js";import"./form-data.d1f94bc2.js";import"./tslib.75aab73a.js";import"./rrule.c22110f0.js";import"./@remix-run.f7ecdf14.js";import"./react-transition-group.8d6420ed.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./lottie-web.1f2cebb8.js";import"./rfdc.0929fce7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerpolicy&&(u.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?u.credentials="include":i.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(i){if(i.ep)return;i.ep=!0;const u=o(i);fetch(i.href,u)}})();Q.locale("pt-br");const Nt={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",MOTRICIDADE:"#4285F4",MUSICOTERAPIA:"#795548",PSICOPEDAG:"#000000"},oa={TO:"bg-to",FONO:"bg-fono",PSICO:"bg-psico",MOTRICIDADE:"bg-motricidade",MUSICOTERAPIA:"bg-musicoterapia",PSICOPEDAG:"bg-psico-pdeg"},wt={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",MUSICOTERAPIA:"#ffffff",MOTRICIDADE:"#ffffff",PSICOPEDAG:"#ffffff"},ia=a=>a.charAt(0).toUpperCase()+a.slice(1),ba=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(t=>{const o=Nt[t.textContent.toUpperCase()],n=wt[t.textContent.toUpperCase()];t.style.background=o,t.style.color=n})},0)},ra=a=>Q(a).format("DD/MM/YYYY"),_t=a=>(Q.locale("pt-br"),Q(a).format("YYYY-MM-DD")),Dt=a=>Q(a).add(1,"days").format("YYYY-MM-DD"),la=(a,t)=>{const o=Q(a);return Q(t).diff(o,"weeks")+1},ya=["Segunda-feira","Terca-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xE1bado"],Ft=a=>{const t=Q(a),o=Number(t.day()-1);return`${ya[o]}, ${t.format("ll")}`},He=a=>{var t;return{id:a.id,nome:a.nome,dataNascimento:a.dataNascimento,telefone:a.telefone,responsavel:a.responsavel,carteirinha:a.carteirinha,periodoId:a.vaga.periodo,convenioId:a.convenio,statusId:a.status,dataContato:a.vaga.dataContato,dataVoltouAba:(t=a==null?void 0:a.vaga)==null?void 0:t.dataVoltouAba,sessao:a==null?void 0:a.sessao,vagaId:a.vaga.id,especialidades:a.vaga.especialidades.map(o=>({nome:o.especialidade.nome,id:o.especialidade.id})),tipoSessaoId:a.tipoSessao,observacao:a.vaga.observacao}},Ea=(a,t)=>Q(new Date(a,t-1,1)).format("YYYY-MM-DD"),Aa=(a,t)=>Q(new Date(a,t,0)).format("YYYY-MM-DD"),Lt=a=>{const t=Q.duration(a);return`${t.hours().toString().padStart(2,"0")}:${t.minutes().toString().padStart(2,"0")}:${t.seconds().toString().padStart(2,"0")}`},me=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),ca=a=>Q(a).isBefore(new Date);var Ia=(a=>(a.mobile="DEVICE_MOBILE",a.web="DEVICE_WEB",a))(Ia||{});const xe=it.create({baseURL:"https://fbuots.hospedagemelastica.com.br",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:Ia.web}}),da=(a,t)=>{xe.interceptors.request.use(async o=>(o.url.endsWith("login")||(o.headers.Authorization=`Bearer ${a}`,o.headers.login=t),o),o=>Promise.reject(o))},se=async(a,t)=>{var i;const o=t?`?${t}`:"",n=await xe(`${a}/dropdown${o}`);return n.status===200?((i=n.data)==null?void 0:i.data)||n.data:[]},ea=async(a,t)=>await xe.post(a,t),re=async(a,t)=>await xe.put(a,t),Ta=async a=>await xe.delete(`${a}`),ge=async a=>{const t=await xe(a);return t.status===200?t.data:[]},Ot=async(a,t)=>await xe(`${a}/${t}`),Pe=async(a,t,o)=>{const n=o?`?${o}`:"";return await xe.post(`${a}/filtro${n}`,t)},kt=async(a,t,o)=>{const n=o?`?${o}`:"";return await xe.post(`${a}${n}`,t)},Pt="secretaria",Ke="developer",Rt="coordenador",$t="coordenador-terapeuta",Sa="terapeuta",Na=s.exports.createContext({}),qt=({children:a})=>{const{perfil:t}=we(),[o,n]=s.exports.useState([]),i=l=>{n(l)};s.exports.useMemo(async()=>{const l=sessionStorage.getItem("auth"),m=(l?JSON.parse(l):[]).permissoes||await ge("permissao");n(m)},[]),s.exports.useEffect(()=>{o.length},[]);const u=(l="")=>{switch(!0){case!t:throw new Error("Voce n\xE3o tem permissao");case l==="*":return!0;default:return!!(o.length&&o.includes(l.toUpperCase())||t===Ke)}};return e(Na.Provider,{value:{hasPermition:u,perfil:t,permissions:o,setPermissionsLogin:i},children:a})},ne=()=>s.exports.useContext(Na),Vt="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",wa=s.exports.createContext({}),zt=({children:a})=>{const[t,o]=s.exports.useState("hidden"),[n,i]=s.exports.useState(),[u,l]=s.exports.useState(""),[g,m]=s.exports.useState({type:"info",title:"",message:"",open:!1}),x=y=>{switch(y){case"success":i(e("i",{className:"pi pi-check-circle"}));break;case"failure":i(e("i",{className:"pi pi-times-circle"}));break;case"warning":i(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":i(e("i",{className:"pi pi-info-circle"}));break;default:i(e("i",{className:"pi pi-undo"}));break}},f=y=>{switch(y){case"success":l("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":l("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":l("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":l("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:l("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},E=({type:y,message:T,title:d,open:h})=>{x(y),f(y),m({type:y,message:T,title:d,open:h}),o(h?"block":"hidden"),setTimeout(()=>{o("hidden")},3e3)};return e(wa.Provider,{value:{renderToast:E},children:p(B,{children:[a,p("div",{className:`${Vt} ${t} ${u}`,role:"alert",children:[n,p("span",{children:[e("span",{className:"font-medium",children:"   "+g.title})," "+g.message]})]})]})})};function ue(){return s.exports.useContext(wa)}const aa=s.exports.createContext({}),jt=({children:a})=>{const[t,o]=s.exports.useState(),[n,i]=s.exports.useState(""),{setPermissionsLogin:u}=ne(),{renderToast:l}=ue();s.exports.useEffect(()=>{const f=sessionStorage.getItem("token"),E=sessionStorage.getItem("auth"),y=sessionStorage.getItem("perfil")||"";if(f&&E){const T=JSON.parse(E);o(T),i(y),da(f,T.login)}},[]);const g=async f=>{var E;try{const T=(await xe.post("/login",{...f,password:parseInt(f.password)})).data;setTimeout(()=>{x()},8e6);const d=(T==null?void 0:T.user)||T.data,h=(T==null?void 0:T.accessToken)||T.data.accessToken,r=(E=d.perfil)!=null&&E.nome?d.perfil.nome.toLowerCase():d.perfil.toLowerCase();sessionStorage.setItem("token",h),sessionStorage.setItem("auth",JSON.stringify(d)),sessionStorage.setItem("perfil",r),d.permissoes.length&&u&&u(d.permissoes),i(r),o(d),await da(h,d.login),l({type:"success",title:" ",message:"Bem vindo!",open:!0})}catch(y){m(y)}},m=f=>{const E=(f==null?void 0:f.data)||(f==null?void 0:f.message)||"Usu\xE1rio n\xE3o encontrado!";l({type:"failure",title:f.status||"",message:E,open:!0})},x=()=>{o(void 0),sessionStorage.clear()};return e(aa.Provider,{value:{signed:Boolean(t),user:t,Login:g,Logout:x,perfil:n},children:a})},we=()=>s.exports.useContext(aa),Mt="/assets/logo-lg.ee70d40f.jpg";function W({icon:a,size:t="full",type:o="primary",color:n="white",text:i,loading:u,onClick:l}){return e(ft,{icon:a,loading:u,label:t==="icon"?"":i,onClick:l,className:ye(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":o==="primary","bg-yellow-400 hover:bg-violet-800":o==="second","bg-transparent hover:bg-transparent":o==="transparent","text-white":n==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":n==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":n==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":n==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":n==="violet","w-full":t==="full","sm:w-2/5 w-full":t==="md"})})}const Bt=({list:a,onChange:t,selected:o})=>{const[n,i]=s.exports.useState(a),[u,l]=s.exports.useState([]),g=x=>{i(x.source),l(x.target),t(x.target)};return s.exports.useEffect(()=>{if(o&&o.length){const x=a.filter(E=>!o.includes(E.id)),f=a.filter(E=>o.includes(E.id));i(x),l(f)}},[]),e("div",{className:"picklist-demo mb-8",children:e("div",{className:"card",children:e(gt,{source:n,target:u,itemTemplate:x=>e("div",{className:"product-item",children:p("div",{className:"product-list-detail",children:[e("span",{className:"text-sm text-gray-800",children:x.descricao}),e("h5",{className:" product-category text-xs text-gray-400",children:x.cod})]})}),sourceHeader:"Permiss\xF5es",targetHeader:"Selecionados",showSourceControls:!1,showTargetControls:!1,sourceStyle:{height:"342px"},targetStyle:{height:"342px"},onChange:g,filterBy:"descricao",sourceFilterPlaceholder:"Pesquisar",targetFilterPlaceholder:"Pesquisar"})})})},Gt=({value:a,onChange:t,control:o})=>{const n={"07:00":!1,"08:00":!1,"09:00":!1,"10:00":!1,"11:00":!1,"12:00":!1,"13:00":!1,"14:00":!1,"15:00":!1,"16:00":!1,"17:00":!1,"18:00":!1,"19:00":!1,"20:00":!1},i=Object.keys(a).length?a:{"Segunda-feira":{...n},"Terca-feira":{...n},"Quarta-feira":{...n},"Quinta-feira":{...n},"Sexta-feira":{...n},S\u00E1bado:{...n}},[u,l]=s.exports.useState(i),g=m=>Object.keys(u[m]).map(x=>e(Z,{labelText:x,id:m+x,type:"switch",control:o,value:u[m][x],onChange:f=>{const E={...u};E[m][x]=f,l(E),t(E)},customCol:"w-24 font-inter"},m+x));return p("div",{className:"card p-fluid",children:[e("h5",{className:"text-md my-2 text-gray-800 font-bold ",children:"Hor\xE1rio de trabalho da terapeuta"}),e(je,{children:Object.keys(u).map(m=>e(Me,{header:m,tabIndex:m,children:g(m)},m))})]})},Ut=({value:a,onChange:t,type:o})=>{const[n,i]=s.exports.useState(a),u=o==="sessao"?[{field:"especialidade",header:"Especialidade"},{field:"valor",header:"Valor"}]:[{field:"funcao",header:"Fun\xE7\xE3o"},{field:"valor",header:"Valor"},{field:"tipo",header:"Tipo Comiss\xE3o"}],l=m=>{switch(m.field){case"valor":return m.rowData.tipo==="Fixo"||o==="sessao"?e(We,{onValueChange:x=>{const f=[...n];f[m.rowIndex].valor=me.format(x.target.value),i(f)},mode:"currency",currency:"BRL",locale:"pt-BR",className:"font-inter"}):e(We,{onValueChange:x=>{const f=[...n];f[m.rowIndex].valor=x.target.value,i(f)},suffix:"%",className:"font-inter"});case"km":return e("input",{type:"number",onInput:x=>{const f=[...n];f[m.rowIndex].km=x.target.value,i(f)}});case"tipo":return e(ga,{virtualScrollerOptions:{itemSize:38},options:[{id:"fixo",nome:"Fixo"},{id:"porcentagem",nome:"%"}],onChange:x=>{const f=[...n];f[m.rowIndex].tipo=x.target.value.nome,i(f)},optionLabel:"nome"});default:return m.value}},g=m=>{m.field==="especialidade"||m.field==="funcao"||t(n)};return s.exports.useEffect(()=>{i(a)},[a]),p("div",{className:"card p-fluid",children:[e("h5",{className:"text-md my-2 text-gray-800 font-bold ",children:"Infoma\xE7\xF5es das sess\xF5es"}),e(Be,{value:n,editMode:"cell",className:"editable-cells-table font-inter",responsiveLayout:"scroll",children:u.map(({field:m,header:x})=>e(ee,{field:m,header:x,style:{width:"25%"},onCellEditComplete:g,editor:f=>l(f)},m))})]})};function Z({onChange:a,value:t,labelText:o,id:n,type:i,customClass:u,options:l,customCol:g,validate:m,errors:x,control:f,disabled:E,hidden:y}){const T=()=>{switch(i){case"select":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e(ga,{value:t||d.value,virtualScrollerOptions:{itemSize:38},options:l,onChange:h=>(a&&a(h.value),d.onChange(h.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:E})});case"multiselect":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e(bt,{disabled:E,id:d.id,display:"chip",optionLabel:"nome",filter:!0,value:t||d.value,onChange:h=>{ba(),a&&a(h.value),d.onChange(h.value)},options:l})});case"list":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e(Ct,{value:d.value,options:l,onChange:h=>d.onChange(h.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e("textarea",{id:d.id,...d,value:t||d.value,className:u,placeholder:d.placeholder,disabled:E})});case"switch":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>p("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[p("span",{className:"col-span-4 text-violet-800",children:[" ",o," "]}),e("div",{className:"col-span-2",children:e(vt,{checked:t||d.value,color:"#685ec5",value:t,disabled:E,onChange:h=>{d.onChange(h.target.value),a&&a(h.target.value)}})})]})});case"tel":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e(ht,{disabled:E,value:t||d.value,type:i,className:"inputAnimado font-inter font-light"+u,mask:"(99) 9 9999-9999",onChange:h=>d.onChange(h.value)},d.id)});case"checkbox":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>p(B,{children:[e(xt,{checked:t,type:i,className:"inputAnimado "+u,onChange:h=>{d.onChange(h.target.checked),a&&a(h.target.checked)}}),p("span",{className:"col-span-4 text-violet-800",children:[" ",o," "]})]})});case"time":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>s.exports.createElement("input",{id:d.id,...d,value:t||d.value,key:d.id,type:i,className:"inputAnimado font-inter "+u,disabled:E,onInput:h=>{d.onChange(h),a&&a(h)}})});case"price":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e("div",{className:"inputAnimado font-inter "+u,id:d.id,children:p("div",{className:"p-inputgroup",children:[e(We,{value:t||d.value,disabled:E,onInput:h=>{d.onChange(h),a&&a(h)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>s.exports.createElement("input",{disabled:E,id:d.id,...d,value:t||d.value,key:d.id,type:i,className:"inputAnimado "+u,autoComplete:"off",min:(m==null?void 0:m.min)&&m.min,onInput:h=>{d.onChange(h),a&&a(h)}})});case"picker":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e(Bt,{list:l,selected:t,onChange:h=>{d.onChange(h),a&&a(h)}})});case"dataTable":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e(Gt,{value:t,control:f,onChange:h=>{d.onChange(h),a&&a(h)}})});case"dataTableSessaoHeron":return e(ce,{name:n,control:f,rules:m,render:({field:d})=>e(Ut,{value:t,type:n,onChange:h=>{d.onChange(h),a&&a(h)}})});default:return e(ce,{name:n,control:f,rules:m,render:({field:d})=>s.exports.createElement("input",{disabled:E,id:d.id,...d,value:t||d.value,key:d.id,type:i,className:"inputAnimado "+u,autoComplete:"off",onInput:h=>{d.onChange(h),a&&a(h)}})})}};return p("div",{className:ye("label-float",{"my-5":!g,hidden:y&&y},g),children:[T(),i!=="switch"&&i!=="checkbox"&&p("label",{children:[" ",o," "]}),x&&x[n]&&e("p",{className:"text-xs text-red-400 text-end",children:x[n].message})]})}function ta({size:a="md",color:t="gray-dark",children:o}){return e("span",{className:ye("font-bold",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":t==="white","text-gray-300":t==="gray-light","text-gray-400":t==="gray","text-gray-800":t==="gray-dark","text-violet-800":t==="violet","text-yellow-400":t==="yellow","text-black":t==="black"}),children:o})}function he({size:a="md",color:t="gray-dark",text:o,display:n="grid",subtext:i,icon:u,className:l}){return p("div",{className:ye("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":t==="white","text-gray-300":t==="gray-light","text-gray-400":t==="gray","text-gray-800":t==="gray-dark","text-violet-800":t==="violet","text-yellow-400":t==="yellow","text-red-900":t==="red","text-black":t==="black"},l),children:[u&&e("div",{className:"flex items-center",children:e("i",{className:u})}),p("span",{className:n,children:[o,"\xA0",p("strong",{className:"font-inter",children:[" ",i]})]})]})}function de({children:a,legend:t}){return e("fieldset",{className:"px-8 items-center bg-white rounded-lg border border-gray-200 shadow-md mt-4 ",children:e("div",{className:"py-4",children:a})})}function Yt({onSubmit:a,control:t,loading:o}){return p("div",{className:"grid grid-cols-12 items-center gap-1",children:[e(Z,{labelText:"Search",id:"search",type:"text",customCol:"col-span-11",control:t}),e("div",{className:"mt-4",children:e(W,{text:"Buscar",icon:"pi pi-search",type:"primary",size:"icon",onClick:a,loading:o})})]})}function Ht({onClick:a,onSubmit:t,textButton:o,iconButton:n,control:i,loading:u,screen:l}){const{hasPermition:g}=ne();return p("div",{className:"grid grid-cols-8 gap-2 justify-between",children:[e("form",{action:"#",onSubmit:t,className:"col-span-8 sm:col-span-7",children:e(Yt,{onSubmit:t,control:i,loading:!!u})}),p("div",{className:"col-span-8 sm:col-span-1",children:[g(`${l}_BOTAO_CADASTRAR`)?e("div",{className:"sm:hidden ",children:e(W,{text:o,icon:n,type:"primary",size:"full",onClick:a})}):null,g(`${l}_BOTAO_CADASTRAR`)?e("div",{className:"hidden sm:block mt-5 text-end",children:e(W,{text:o,icon:n,type:"primary",size:"icon",onClick:a})}):null]})]})}function pe({title:a,children:t,open:o,width:n="50vw",onClose:i}){return e(xa,{header:a,modal:!0,visible:o,onHide:i,breakpoints:{"960px":"75vw"},style:{width:n},children:t})}function Te({title:a,message:t,icon:o,onAccept:n,onReject:i,open:u,onClose:l,rejectLabel:g="N\xE3o",acceptLabel:m="Sim"}){return e(yt,{visible:u,onHide:l,message:t,header:a,icon:o,accept:n,reject:i,acceptLabel:m,rejectLabel:g})}const Qt="text-sm items-center flex text-white py-2 px-6 rounded-full cursor-not-allowed cursor-pointer opacity-25 disabled:opacity-100 ";function sa({onClick:a,type:t,disabled:o}){return e("button",{onClick:a,className:ye(Qt,{"bg-to":t.toUpperCase()==="TO","bg-fono":t.toUpperCase()==="FONO","bg-psico":t.toUpperCase()==="PSICO","bg-black":t.toUpperCase()==="PSICOPEDAG","bg-motricidade":t.toUpperCase()==="MOTRICIDADE","bg-musicoterapia":t.toUpperCase()==="MUSICOTERAPIA"}),disabled:!o,children:t.toUpperCase()})}function fe({size:a="md",color:t="gray-dark",text:o,className:n}){return e("span",{className:ye("font-normal tracking-wider",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":t==="white","text-gray-300":t==="gray-light","text-gray-400":t==="gray","text-gray-800":t==="gray-dark","text-violet-800":t==="violet","text-yellow-400":t==="yellow","text-black":t==="black"},n),children:o})}function _a({onClickEdit:a,onClickTrash:t,onClickReturn:o,positionActions:n="left",actionEdit:i,actionTrash:u,actionReturn:l,screen:g}){const{hasPermition:m}=ne();return e("div",{className:ye("",{"flex justify-start":n==="left","text-right":n==="right"}),children:p(B,{children:[i&&m(`${g}_LISTA_BOTAO_EDITAR`)&&e(W,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:a}),u&&m(`${g}_LISTA_BOTAO_EXCLUIR`)&&e(W,{text:"Trash",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:t}),l&&m(`${g}_LISTA_BOTAO_RETORNAR`)&&e(W,{text:"Return",icon:"pi pi-replay",type:"transparent",color:"yellow",size:"icon",onClick:o})]})})}function pa({onClick:a,textButtonFooter:t,iconButtonFooter:o,sizeButtonFooter:n,typeButtonFooter:i}){return t===""||t===void 0?e(B,{}):p(B,{children:[e("div",{className:"hidden sm:block",children:e(W,{text:t,icon:o,type:i,size:n,onClick:a})}),e("div",{className:"sm:hidden  flex-1",children:e(W,{text:t,icon:o,type:i,size:"full",onClick:a})})]})}function Xt({children:a,textButtonFooter:t,iconButtonFooter:o,typeButtonFooter:n,isDevolutiva:i,sizeButtonFooter:u,onClick:l,onClickLink:g}){return p("div",{className:"w-full text-center bg-white overflow-hidden",children:[a,p("div",{className:"flex text-sm  text-gray-400 mt-4 sm:m-0 justify-end gap-2",children:[i&&pa({textButtonFooter:"Retornar",iconButtonFooter:"pi pi-sync",typeButtonFooter:"second",sizeButtonFooter:u,onClick:g||(()=>{})}),pa({textButtonFooter:t,iconButtonFooter:o,typeButtonFooter:n,sizeButtonFooter:u,onClick:l})]})]})}function Wt({textPrimaryLeft:a,textPrimaryRight:t,textSecondLeft:o,onClickLink:n,onClick:i,textButtonFooter:u,iconButtonFooter:l,typeButtonFooter:g,sizeButtonFooter:m,onClickEdit:x,onClickTrash:f,onClickReturn:E,positionActions:y="right",actionEdit:T,actionTrash:d,actionReturn:h,screen:r}){return e(Ge.Root,{textButtonFooter:u,iconButtonFooter:l,typeButtonFooter:g,sizeButtonFooter:m,onClick:i,children:p(B,{children:[p("div",{className:"grid grid-cols-5 justify-between text-base font-medium text-gray-800 mt-4",children:[p("div",{className:"col-span-4 grid sm:grid-cols-2 gap-2 sm:justify-between text-left",children:[e(fe,{text:a,size:"md",color:"violet"}),e(fe,{text:t,size:"sm",color:"gray"}),e("span",{})]}),_a({onClickEdit:x,onClickTrash:f,onClickReturn:E,positionActions:y,actionEdit:T,actionTrash:d,actionReturn:h,screen:r})]}),o&&p("div",{className:"mt-1  flex items-center gap-2",children:[e("i",{className:"pi pi-user text-sm text-gray-400 "}),e(fe,{text:o,size:"xs",color:"gray"})]})]})})}function Jt({textPrimaryLeft:a,textPrimaryCenter:t,textPrimaryRight:o,textSecondLeft:n,textSecondRight:i,textSecondCenter:u,textFooter:l,tags:g,onClickEdit:m,onClickTrash:x,onClickReturn:f,onClick:E,onClickLink:y,textButtonFooter:T,iconButtonFooter:d,typeButtonFooter:h,sizeButtonFooter:r,isDevolutiva:F,actionEdit:$,actionTrash:q,actionReturn:N,positionActions:C="left",children:c,screen:D}){const{hasPermition:O}=ne(),k=()=>e("div",{className:"text-right flex gap-1 h-8 justify-end",children:g==null?void 0:g.map(V=>e(sa,{onClick:O(`${D}_LISTA_TAG_ESPECIALIDADES`)?y:void 0,type:V.type,disabled:D==="FILA_DEVOLUTIVA"||D==="CADASTRO_PACIENTES"?!1:V==null?void 0:V.disabled},V.type))});return e(Ge.Root,{textButtonFooter:T,iconButtonFooter:d,typeButtonFooter:h,isDevolutiva:F,sizeButtonFooter:r,onClick:E,onClickLink:y,children:p(B,{children:[p("div",{className:"grid grid-rows-2 sm:grid-cols-2 mb-4 sm:mb-0 h-12 mt-6",children:[D!=="FILA_DEVOLUTIVA"?_a({onClickEdit:m,onClickTrash:x,onClickReturn:f,positionActions:C,actionEdit:$,actionTrash:q,actionReturn:N,screen:D}):e("div",{}),k()]}),p("div",{children:[p("div",{className:"flex items-end gap-2 sm:gap-8 text-left ",children:[e(fe,{text:a,size:"lg",color:"violet"}),e(fe,{className:"font-inter",text:t,size:"sm",color:"gray-dark"}),e(fe,{className:"font-inter",text:o,size:"sm",color:"gray-dark"})]}),p("div",{className:"mt-1 grid sm:flex items-center sm:gap-2 justify-between font-light text-left",children:[e("div",{className:"flex justify-center items-center ",children:e(fe,{text:n,size:"md",color:"gray-dark"})}),O(`${D}_LISTA_TEXT_TELEFONE`)?p("div",{className:"flex items-center gap-2 p-2 font-sans text-left",children:[e("i",{className:"pi pi-phone text-gray-400 text-xs"}),e(fe,{text:u,size:"md",color:"gray-dark",className:"font-inter"})]}):e(B,{}),e(fe,{text:i,size:"md",color:"gray-dark",className:"font-inter"})]}),e("div",{className:"mt-2",children:c}),p("div",{className:"mt-4 flex items-center gap-2 text-ellipsis overflow-hidden",children:[e(Et,{target:".obs",mouseTrack:!0,className:"w-2/4 sm:w-1/4"}),e("p",{className:" text-gray-800  text-sm justify-start text-start obs text-ellipsis overflow-hidden","data-pr-tooltip":l,children:l})]})]})]})})}const Ge={Root:Xt,Simples:Wt,Complete:Jt};function Ue(){return p("div",{className:"uppercase flex items-center gap-4 m-auto mt-2 justify-center",children:[e("i",{className:"pi pi-folder-open"}),e(ta,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const Da="Comp 1",Fa="",La=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],Oa=0,ka=1080,Pa=1920,Ra={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},$a="5.7.4",qa=30,Va=180,za=0,ja=[],Kt={nm:Da,mn:Fa,layers:La,ddd:Oa,h:ka,w:Pa,meta:Ra,v:$a,fr:qa,op:Va,ip:za,assets:ja},Zt=Object.freeze(Object.defineProperty({__proto__:null,nm:Da,mn:Fa,layers:La,ddd:Oa,h:ka,w:Pa,meta:Ra,v:$a,fr:qa,op:Va,ip:za,assets:ja,default:Kt},Symbol.toStringTag,{value:"Module"}));function Ze(){return e("div",{className:"flex items-center justify-center",children:e(It,{loop:!0,animationData:Zt,play:!0,style:{width:200,height:200}})})}var Ma=(a=>(a[a.av_neuropsico=1]="av_neuropsico",a[a.av_psicodiag=2]="av_psicodiag",a[a.terapeuta=3]="terapeuta",a))(Ma||{}),Ba=(a=>(a[a.urgente=1]="urgente",a[a.padrao=2]="padrao",a[a.aba=3]="aba",a))(Ba||{}),Ga=(a=>(a[a.integral=1]="integral",a[a.manha=2]="manha",a[a.tarde=3]="tarde",a))(Ga||{}),P=(a=>(a.queue_avaliation="queue_avaliation",a.avaliation="avaliation",a.queue_devolutiva="queue_devolutiva",a.devolutiva="devolutiva",a.queue_therapy="queue_therapy",a.therapy="therapy",a.crud_therapy="crud_therapy",a))(P||{});const Ua=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data do Contato",id:"dataContato",name:"dataContato",type:"date",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Per\xEDodo",id:"periodoId",name:"periodos",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-3"},{labelText:"Tipo Sess\xE3o",id:"tipoSessaoId",name:"tipoSessao",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Prioridade",id:"statusId",name:"status",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}],es=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Celular",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data Contato",id:"dataContato",name:"dataContato",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Per\xEDodo",id:"periodoId",name:"periodos",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-4"},{labelText:"Prioridade",id:"statusId",name:"status",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}],as=[{permission:"CADASTRO_PACIENTES",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],ts=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-3"},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}];function Re({type:a="simples",iconButtonFooter:t,textButtonFooter:o,onClickLink:n,onClick:i,onClickEdit:u,onClickTrash:l,onClickReturn:g,items:m,screen:x,loading:f=!1}){const{hasPermition:E}=ne(),y=r=>{var $;if(!r.status||r.statusPacienteCod===P.crud_therapy)return null;const F=`${($=r.status)==null?void 0:$.nome}`;switch(F){case"Urgente":return e(he,{text:"Prioridade: ",subtext:p("strong",{className:"text-red-900  px-1 flex",children:[F,p("span",{className:"flex h-2 w-2 relative",children:[e("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-900"})]})]}),size:"sm",color:"gray-dark",display:"flex"});case"Padr\xE3o":return e(he,{text:"Prioridade: ",subtext:"Padr\xE3o",size:"sm",color:"gray-dark",display:"flex"});case"Voltou ABA":return e(he,{text:"Prioridade: ",subtext:"Voltou ABA",size:"sm",color:"gray-dark",display:"flex"})}},T=()=>m.map(r=>{var C,c;const F=(r==null?void 0:r.nome)||(r==null?void 0:r.casa),$=((C=r==null?void 0:r.perfil)==null?void 0:C.nome.toUpperCase())||(r==null?void 0:r.sala)||((c=r==null?void 0:r.especialidade)==null?void 0:c.nome),q=(r==null?void 0:r.login)||"",N=r.hasOwnProperty("ativo")?r==null?void 0:r.ativo:!0;return e(Ge.Simples,{textPrimaryLeft:F,textPrimaryRight:$,textSecondLeft:q,onClickLink:()=>n(r),onClick:()=>i(r),textButtonFooter:o,iconButtonFooter:t,typeButtonFooter:"second",sizeButtonFooter:"sm",onClickEdit:()=>u(r),onClickTrash:()=>l(r),onClickReturn:()=>g(r),actionEdit:N,actionTrash:N,actionReturn:!N,screen:x},(r==null?void 0:r.login)||r.id)}),d=()=>m.map(r=>{var U,J,te,ae,w,_,j,S;const F=r==null?void 0:r.nome,$=r==null?void 0:r.idade,q=r!=null&&r.responsavel?`Respons\xE1vel: ${r.responsavel}`:"",N=r==null?void 0:r.telefone;let C=r!=null&&r.convenio?r==null?void 0:r.convenio.nome:"";const c=(U=r==null?void 0:r.vaga)==null?void 0:U.observacao,D=!!(r!=null&&r.disabled);let O;const k={text:"",icon:"",type:"second",size:"md"};let V=!1;if(x!=="CADASTRO_PACIENTES")switch(!0){case(r.vaga.naFila&&r.statusPacienteCod!==P.queue_devolutiva&&r.statusPacienteCod!==P.devolutiva&&E(`${x}_LISTA_BOTAO_AGENDAR`)):k.text="Agendar",k.icon="pi pi-calendar-minus",k.type="primary",k.size="md",O="agendar";break;case(x==="FILA_DEVOLUTIVA"&&!r.vaga.naFila&&E(`${x}_LISTA_BOTAO_RETORNAR_AGENDAR`)):k.text="Retornar",k.icon="pi pi-sync",k.type="second",k.size="md",O="retornar";break;case(x==="FILA_DEVOLUTIVA"&&r.statusPacienteCod===P.queue_devolutiva):k.text="Devolutiva",k.icon="pi pi-check-circle",k.type="primary",k.size="md",O="devolutiva",V=!0;break;case(r.statusPacienteCod===P.devolutiva&&!r.naFila):k.text="Voltou ABA",k.icon="pi pi-file-export",k.type="primary",k.size="md",O="voltou_aba";break}const X=r==null?void 0:r.vaga.especialidades.map(M=>({type:M.especialidade.nome,disabled:M.agendado}));return e(Ge.Complete,{textPrimaryLeft:F,textPrimaryCenter:$,textSecondLeft:q,textSecondCenter:N,textPrimaryRight:e(he,{text:"Carteirinha: ",subtext:r.carteirinha,size:"sm",color:"gray-dark",display:"flex"}),textSecondRight:C,textFooter:c,onClick:()=>i({item:r,typeButtonFooter:O}),textButtonFooter:k.text,iconButtonFooter:k.icon,typeButtonFooter:k.type,isDevolutiva:V,tags:X,onClickLink:()=>n(r),sizeButtonFooter:"sm",onClickEdit:()=>u(r),onClickTrash:()=>l(r),onClickReturn:()=>g({item:r,typeButtonFooter:O}),actionEdit:!D,actionTrash:!D,actionReturn:D,screen:x,children:!r.emAtendimento&&p("div",{className:"flex justify-between",children:[p("div",{className:"sm:flex items-center sm:gap-4",children:[P.crud_therapy!==(r==null?void 0:r.statusPacienteCod)&&p(B,{children:[e(he,{text:"Per\xEDodo: ",subtext:(te=(J=r==null?void 0:r.vaga)==null?void 0:J.periodo)==null?void 0:te.nome,size:"sm",color:"gray-dark",display:"flex"}),e(he,{text:"Tipo: ",subtext:(ae=r==null?void 0:r.tipoSessao)==null?void 0:ae.nome,size:"sm",color:"gray-dark",display:"flex"})]}),y(r),((w=r.vaga)==null?void 0:w.dataDevolutiva)&&e(he,{className:"font-inter",text:"Devolutiva:",subtext:ra((_=r.vaga)==null?void 0:_.dataDevolutiva),size:"sm",color:"gray-dark",display:"flex"})]}),((j=r==null?void 0:r.vaga)==null?void 0:j.dataContato)&&e("div",{className:"text-end",children:e(he,{className:"font-inter",text:"Inclus\xE3o: ",subtext:ra((S=r==null?void 0:r.vaga)==null?void 0:S.dataContato),size:"sm",color:"gray-dark",display:"flex"})})]})},r.id)}),h=()=>f?e(Ze,{}):m.length?e("ul",{className:"-my-6 divide-y divide-gray-200 grid gap-4 items-center",children:a==="simples"?T():d()}):e(Ue,{});return e("div",{className:"pointer-events-auto flex-1",children:e("div",{className:"flex flex-col  bg-white ",children:e("div",{className:ye("flex-1  overflow-y-auto py-6",{"flex  justify-center":!m.length}),children:e("div",{className:"",children:e("div",{className:"flow-root",children:h()})})})})})}function be({id:a,legend:t,fields:o,screen:n,loading:i,nameButton:u,dropdown:l,onSubmit:g,onInclude:m,onReset:x}){const{setValue:f,handleSubmit:E,control:y,reset:T}=Ie(),{hasPermition:d}=ne(),h=()=>{T(),x()},r=F=>{F.devolutiva&&(f("naFila",!0),F.naFila=!0),g(F)};return s.exports.useEffect(()=>{d(`${n}_FILTRO_SELECT_AGENDADOS`)||f("naFila",!0)}),e(je,{children:e(Me,{header:t,tabIndex:0,children:p("form",{id:a,action:"#",onSubmit:E(r),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:o.map(F=>d(F.permission)&&e(Z,{labelText:F.labelText,id:F.id,type:F.type,customCol:F.customCol,control:y,options:F.type==="select"?l[F.name]:void 0},F.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:p(B,{children:[m&&d(`${n}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(W,{text:u||"Cadastrar",icon:"pi pi-user-plus",type:"primary",size:"sm",onClick:m})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:p(B,{children:[d(`${n}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(W,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:h})}),d(`${n}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(W,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:i,onClick:()=>E(r)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:p(B,{children:[d(`${n}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(W,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:h})}),d(`${n}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(W,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:i,onClick:()=>E(r)})})]})})]})})]})})})}function ss({heading:a}){return p("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:Mt})}),e(ta,{size:"lg",children:a})]})}const ns=[{labelText:"Login",labelFor:"username",id:"username",name:"username",type:"text",autoComplete:"text",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"password",id:"password",name:"password",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],os=[{permission:"FILA_AVALIACAO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Tipo sess\xE3o",id:"tipoSessoes",name:"tipoSessao",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_INATIVOS",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],is=[{permission:"FILA_AVALIACAO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Tipo sess\xE3o",id:"tipoSessoes",name:"tipoSessao",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Devolutiva Agendadas",id:"isDevolutiva",name:"isDevolutiva",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],rs=[{permission:"FILA_TERAPIA_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_AGENDADOS",labelText:"Agendados",id:"naFila",name:"naFila",customCol:"col-span-3 sm:col-span-2",type:"switch",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_INATIVOS",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-3 sm:col-span-1",type:"switch",singleSelect:!1}],ls=[{labelText:"Nome",id:"nome",name:"nome",type:"text",customCol:"col-span-6 sm:col-span-6",validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Login",id:"login",name:"login",type:"text",customCol:"col-span-6 sm:col-span-3",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o, ex.: nome.sobrenome"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Perfil",id:"perfilId",name:"perfies",type:"select",customCol:"col-span-6 sm:col-span-3",validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Grupo",id:"grupoPermissaoId",name:"grupoPermissoes",type:"select",customCol:"col-span-6 sm:col-span-3",validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidadeId",name:"especialidades",type:"select",customCol:"col-span-6 sm:col-span-3",hidden:!0},{labelText:"Fun\xE7\xE3o",id:"funcoesId",name:"funcoes",type:"multiselect",customCol:"col-span-6 sm:col-span-3",hidden:!0},{labelText:"",id:"comissao",name:"comissao",type:"dataTableSessaoHeron",customCol:"col-span-6 sm:col-span-6 mb-8",hidden:!0},{labelText:"",id:"cargaHoraria",name:"cargaHoraria",type:"dataTable",customCol:"col-span-6 sm:col-span-6 mb-12",hidden:!0}],cs=[{labelText:"Nome",id:"nome",name:"nome",type:"text",customCol:"col-span-6 sm:col-span-6",validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Permiss\xE3o",id:"permissoesId",name:"permissoes",type:"picker",customCol:"col-span-6 sm:col-span-6 mt-8"}],ds=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"Nome",customCol:"col-span-6 sm:col-span-6",type:"text",validate:{required:!0}},{labelText:"Especialidade",labelFor:"especialidades",id:"especialidadeId",name:"especialidades",autoComplete:"especialidades",isRequired:!1,placeholder:"Especialidades",customCol:"col-span-6",type:"select",singleSelect:!1}],ps=[{labelText:"Casa",labelFor:"casa",id:"casa",name:"casa",autoComplete:"casa",isRequired:!0,placeholder:"Casa",customCol:"col-span-6",type:"text",validate:{required:!0}},{labelText:"Sala",labelFor:"sala",id:"sala",name:"sala",autoComplete:"sala",isRequired:!0,placeholder:"Sala",customCol:"col-span-6",type:"text",validate:{required:!0}}],us=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}}],ms=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}}],fs=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}},{labelText:"Cobrar",id:"cobrar",name:"cobrar",customCol:"col-span-1",type:"switch",validate:{required:!1}}],gs=[{permission:"AGENDA_CALENDARIO_FILTRO_SELECT_PACIENTE",labelText:"Pacientes",labelFor:"pacientes",id:"pacienteId",name:"pacientes",autoComplete:"paciente",isRequired:!1,placeholder:"Paciente",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"AGENDA_CALENDARIO_FILTRO_SELECT_TERAPEUTAS",labelText:"Terapeutas",labelFor:"terapeutas",id:"terapeutaId",name:"terapeutas",autoComplete:"terapeuta",isRequired:!1,placeholder:"terapeuta",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1,hidden:!0},{permission:"AGENDA_CALENDARIO_FILTRO_SELECT_STATUS_EVENTOS",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"AGENDA_CALENDARIO_FILTRO_SELECT_MODALIDADE",labelText:"Modalidade",labelFor:"modalidades",id:"modalidadeId",name:"modalidades",autoComplete:"modalidade",isRequired:!1,placeholder:"modalidade",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1}],xs=[{permission:"AGENDA_BAIXA_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacienteId",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"AGENDA_BAIXA_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"AGENDA_BAIXA_FILTRO_SELECT_TERAPEUTA",labelText:"Terapeuta",id:"terapeutaId",name:"terapeutas",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"AGENDA_BAIXA_FILTRO_SELECT_LOCALIDADE",labelText:"Casa",id:"localidadeId",name:"localidades",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-2",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-2",type:"date"},{permission:"AGENDA_BAIXA_FILTRO_SELECT_BAIXADO",labelText:"Baixa Efetuada",id:"baixa",name:"baixa",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],hs={usuariosFields:ls,funcaoFields:ds,localidadeFields:ps,modalidadeFields:us,frequenciaFields:ms,statusEventosFields:fs,grupoPermissoesFields:cs},Ya=ns,vs={};Ya.forEach(a=>vs[a.id]="");function Cs(){const a={username:"",password:""},[t,o]=s.exports.useState(!1),[n,i]=s.exports.useState(!1),{renderToast:u}=ue(),{handleSubmit:l,formState:{errors:g},setValue:m,watch:x,control:f}=Ie({defaultValues:a}),{Login:E}=we(),y=async({username:d,password:h})=>{i(!0);try{await E({username:d,password:h}),i(!1)}catch{i(!1),u({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},T=async d=>{o(d),localStorage.setItem("rememberCheck",JSON.stringify(d)),d?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({username:x("username"),password:x("password")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return s.exports.useEffect(()=>{const d=localStorage.getItem("rememberLogin");if(d){const{username:h,password:r}=JSON.parse(d);o(!0),m("username",h),m("password",r)}},[]),p("form",{className:"mt-8 space-y-6",onSubmit:l(y),children:[e("div",{children:Ya.map(d=>e(Z,{id:d.id,type:d.type,labelText:d.labelText,control:f,validate:d.validate,errors:g},d.id))}),e(Z,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:f,onChange:T,value:t}),e(W,{text:"Entrar",type:"primary",size:"full",onClick:l(y),loading:n})]})}const bs="@heron-list/web",ys="0.9.0-beta.31",Es="module",As="heroku-20",Is={dev:"vite --port=3000 --host",start:"node serve.js",preview:"vite preview",sb:"start-storybook -p 6006",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"export NODE_OPTIONS='--max-old-space-size=8192' && tsc && vite build"},Ts={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},Ss={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},Ns={name:bs,version:ys,private:!0,type:Es,stack:As,scripts:Is,dependencies:Ts,devDependencies:Ss};function ua(){const[a,t]=s.exports.useState(""),o=s.exports.useCallback(async()=>{const{data:n}=await ge("/");t(`vers\xE3o frontend: ${Ns.version} - ${n}`)},[]);return s.exports.useEffect(()=>{o()},[o]),p(B,{children:[e(ss,{heading:"Agenda | Multi Alcance"}),e(Cs,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:a})})]})}const ws=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(fa,{children:p(Ca,{children:[e(Je,{path:"/",element:e(ua,{})}),e(Je,{path:"*",element:e(ua,{})})]})})})}),_s=({children:a})=>e("div",{className:"h-screen overflow-y-auto",children:e("div",{className:"pb-6 px-1 sm:px-8 lg:px-4 my-4",children:a})}),na=s.exports.createContext({}),Ds=({children:a})=>{const[t,o]=s.exports.useState(!1);return e(na.Provider,{value:{open:t,setOpen:o},children:a})},Fs=()=>{var E;const{Logout:a}=we(),{hasPermition:t,permissions:o}=ne(),{open:n,setOpen:i}=s.exports.useContext(na),[u,l]=s.exports.useState([]),{user:g,perfil:m}=s.exports.useContext(aa),x=Tt(),f=()=>{const y=tt.filter(T=>t(T.path)&&T.path!=="*");l(y)};return s.exports.useEffect(()=>{f()},[o]),p("aside",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:`fixed border-box shadow-3xl ${n?"w-36":"w-12"} h-[98vh] mt-[1vh] ml-1 rounded-3xl  bg-primary duration-700`,children:[n?e("div",{className:"bg-logo-md-write bg-no-repeat bg-cover h-20 "}):e("div",{className:"bg-logo-mini bg-no-repeat bg-cover h-12 w-12 duration-700"}),p("div",{className:"border-y border-primary-text my-6 py-2",children:[p("h3",{className:"text-primary-text text-center font-light text-sm  duration-1000",children:[" ",n?g.nome:(E=g==null?void 0:g.nome)==null?void 0:E.charAt(0)]}),n&&p("h3",{className:"text-gray-200 text-center font-light text-xs  duration-1000",children:[" ",ia(m)," "]})]}),e("ul",{className:"list-none p-0 mt-8",children:u.map(y=>{const T=x.pathname.startsWith(y.path);return e("li",{className:`${T?"bg-primary-hover text-primary-text-hover":"text-primary-text"} hover:px-0 hover:bg-primary-hover  hover:text-primary-text-hover duration-700`,children:p(mt,{to:y.path,className:"grid grid-cols-3 items-center text-sm px-4 py-4 ",children:[e("i",{className:y.icon}),n&&e("span",{className:"duration-700",children:ia(y.path)})]})},y.path)})}),e("i",{onClick:a,className:`pi pi-sign-out duration-700 text-primary-text hover:scale-125 cursor-pointer  w-4 col-span-1 fixed bottom-8 ${n?" left-[4rem]":" left-6"}`})]})},Ha=s.exports.createContext({}),Ls=({children:a})=>{const{perfil:t}=ne(),o=[{nome:"S",value:1},{nome:"T",value:2},{nome:"Q",value:3},{nome:"Q",value:4},{nome:"S",value:5},{nome:"S",value:6}],n=s.exports.useCallback(async w=>await se("paciente",`statusPacienteCod=${w}`),[]),i=s.exports.useCallback(async w=>await se("terapeuta/paciente",`terapeutaId=${w}`),[]),u=s.exports.useMemo(async()=>await se("especialidade"),[]),l=s.exports.useCallback(async()=>await se("status-eventos"),[]),g=s.exports.useCallback(async w=>await se("modalidade",`statusPacienteCod=${w}`),[]),m=s.exports.useCallback(async()=>await se("frequencia"),[]),x=s.exports.useCallback(async()=>await se("grupo-permissoes"),[]),f=s.exports.useCallback(async()=>await se("localidade"),[]),E=s.exports.useCallback(async()=>await se("funcao"),[]),y=s.exports.useMemo(async()=>await se("perfil"),[]),T=s.exports.useCallback(async()=>await se("periodo"),[]),d=s.exports.useCallback(async w=>await se(`status?statusPacienteCod=${w}`),[]),h=s.exports.useCallback(async()=>await se("tipo-sessao"),[]),r=s.exports.useCallback(async(w,_)=>await se("paciente/especialidade",`pacienteId=${w}&statusPacienteCod=${_}`),[]),F=s.exports.useCallback(async w=>await se("funcao/especialidade",`especialidade=${w}`),[]),$=s.exports.useCallback(async w=>await se("terapeuta/especialidade",`especialidade=${w}`),[]),q=s.exports.useCallback(async w=>await se("funcao/terapeuta",`terapeutaId=${w}`),[]),N=s.exports.useMemo(async()=>await se("convenio"),[]),C=s.exports.useMemo(async()=>await se("permissao"),[]),c=async()=>await se("terapeuta"),D=async()=>await se("intervalo"),O=async w=>({pacientes:await n(w),statusEventos:await l(),modalidades:await g(w),frequencias:await m(),localidades:await f(),funcoes:await E(),terapeutas:await c(),especialidades:await u,intervalos:await D(),diasFrequencia:o}),k=async(w,_)=>({pacientes:await n(w),statusEventos:await l(),modalidades:await g(w),frequencias:await m(),localidades:await f(),funcoes:await E(),terapeutas:await c(),especialidades:await r(_,w),intervalos:await D(),diasFrequencia:o}),V=async w=>({pacientes:await n(w),convenios:await N,especialidades:await u,tipoSessao:await h(),periodos:await T(),status:await d(w)}),X=async w=>({pacientes:await n(w),statusEventos:await l(),modalidades:await g(w),terapeutas:await c(),especialidades:await u,convenios:await N,tipoSessao:await h(),status:await d(w)}),U=async w=>({pacientes:await n(w),convenios:await N,terapeutas:await c(),localidades:await f()}),J=async w=>{let _;if(t===Rt||t===$t||t===Sa){const S=await sessionStorage.getItem("auth"),M=JSON.parse(S);_=await i(M.id)}else _=await n(w);return{pacientes:_,statusEventos:await l(),modalidades:await g(w),terapeutas:await c()}},te=async w=>({terapeutas:await c(),pacientes:await n(w),statusEventos:await l()}),ae=async()=>({funcoes:await E(),especialidades:await u,perfies:await y,permissoes:await C,grupoPermissoes:await x()});return e(Ha.Provider,{value:{renderPacientes:n,renderStatusEventos:l,renderModalidade:g,renderFrequencia:m,renderLocalidade:f,renderFuncao:E,renderTerapeutas:c,renderDropdownCalendario:O,renderDropdownCrud:ae,renderEspecialidadeFuncao:F,renderEspecialidadeTerapeuta:$,renderTerapeutaFuncao:q,renderDropdownPatientCrud:X,renderPacienteEspecialidade:r,renderDropdownQueue:V,renderDropdownQueueCalendar:k,renderDropdownCalendar:J,renderDropdownFinancial:te,renderDropdownBaixa:U},children:a})};function ve(){return s.exports.useContext(Ha)}function _e({totalPages:a,currentPage:t,onChange:o}){const[n,i]=s.exports.useState(t||1);return p("div",{className:"flex items-center justify-center p-2 gap-2 mt-1",children:[e("button",{onClick:()=>{i(n-1),o(n-1)},disabled:n===1,className:"bg-transparent w-12 h-12 cursor-pointer hover:scale-110 duration-700 text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:text-slate-200",children:e("i",{className:"pi pi-arrow-circle-left"})}),p("span",{className:"text-primary font-inter",children:[n," de ",a]}),e("button",{onClick:()=>{i(n+1),o(n+1)},disabled:n===a,className:"bg-transparent w-12 h-12 cursor-pointer hover:scale-110 duration-700 text-primary  disabled:opacity-30 disabled:cursor-not-allowed disabled:text-slate-200",children:e("i",{className:"pi pi-arrow-circle-right"})})]})}var Ye=(a=>(a.terapeuta="Terapeuta",a))(Ye||{});function Oe({namelist:a,onClick:t,iconButtonFooter:o,textButtonFooter:n,screen:i}){const u={pageSize:0,totalPage:0},[l,g]=s.exports.useState([]),[m,x]=s.exports.useState(u),[f,E]=s.exports.useState({}),[y,T]=s.exports.useState([]),[d,h]=s.exports.useState(!1),[r,F]=s.exports.useState(!1),[$,q]=s.exports.useState(!0),[N,C]=s.exports.useState(!1),[c,D]=s.exports.useState(!1),O=["especialidadeId","funcoesId","comissao","cargaHoraria"],[k,V]=s.exports.useState([]),[X,U]=s.exports.useState({}),[J,te]=s.exports.useState([]),[ae,w]=s.exports.useState([]),{renderDropdownCrud:_,renderEspecialidadeFuncao:j}=ve(),{renderToast:S}=ue(),{handleSubmit:M,control:A,formState:{errors:Y},setValue:b,unregister:v,reset:z}=Ie(),H=s.exports.useCallback(async(I=1,R=10)=>{C(!0);try{const G=await ge(`${a}?page=${I}&pageSize=${R}`);g(G.data),x(G.pagination),C(!1)}catch{C(!1)}d&&h(!1)},[]),oe=async I=>{try{if(I.search===void 0||I.search===""){H();return}C(!0);const R=await Ot(a,I.search);b("search","");const G=R.status===200?R.data:[];g(G),x({pageSize:0,totalPage:0}),C(!1)}catch(R){C(!1),qe(R)}},le=async I=>{try{C(!0);let R;const G={...I};Object.keys(I).forEach(ie=>{if(ie.indexOf("Id")!==-1){if(!I[ie]||typeof I[ie][0]=="number"){delete G[ie];return}Array.isArray(I[ie])&&I[ie].length?G[ie]=G[ie].map(Se=>Se.id):G[ie]=I[ie].id}}),delete G.search,r?(G.id=f.id,R=await re(a,G)):R=await ea(a,G),z(),x(u),H(),F(!1),h(!1),S({type:"success",title:"",message:"Sucesso!",open:!0})}catch({message:R}){S({type:"failure",title:"401",message:`${R}`,open:!0}),C(!1);return}},Ee=async()=>{try{await re(a,f),H(),D(!1),S({type:"success",title:" Sucesso!! ",message:"Atualizado com sucesso!",open:!0})}catch(I){qe(I)}},qe=({data:I})=>{S({type:"failure",title:"401",message:(I==null?void 0:I.message)||"N\xE3o foi poss\xEDvel realizar!",open:!0})},Ve=async(I,R)=>{switch(R){case"perfilId":const G=I.nome!==Ye.terapeuta;q(G),G||v(O,{keepDirtyValues:!0});break;case"especialidadeId":b("funcoesId",[]);const ie=await j(I==null?void 0:I.nome);w({...ae,funcoes:ie});break;case"cargaHoraria":U(I),b("cargaHoraria",I);break;case"funcoesId":const Se=await Promise.all(I.map(Ne=>{const Fe=k.filter(st=>st.funcao===Ne.nome);return Fe.length?Fe[0]:{funcao:Ne.nome,funcaoId:Ne.id,valor:me.format(80),tipo:"Fixo"}}));b("comissao",Se),V(Se)}},ze=(I,R)=>{switch(a){case"usuarios":Ve(I,R);break}},De=s.exports.useCallback(async()=>{const I=await _();w(I)},[]),L=I=>{switch(I.type){case"select":case"multiselect":case"picker":return ae[I.name]}},K=I=>{switch(I.type){case"picker":return y;case"dataTableSessaoHeron":return k;case"dataTable":return X}};return s.exports.useLayoutEffect(()=>{De()},[De]),s.exports.useEffect(()=>{let I=`${a}Fields`;a==="status-eventos"&&(I="statusEventosFields"),a==="grupo-permissoes"&&(I="grupoPermissoesFields");const R=hs[I],G={};R.forEach(ie=>G[ie.id]=""),te(R)},[]),s.exports.useEffect(()=>{H()},[H]),s.exports.useEffect(()=>{v(O,{keepDirtyValues:!0})},[]),p(B,{children:[e(Ht,{onClick:()=>{z(),F(!1),h(!0)},onSubmit:M(oe),textButton:"Cadastrar usu\xE1rio",iconButton:"pi pi-plus",control:A,loading:N,screen:i}),p(de,{children:[e(Re,{loading:N,screen:i,type:"simples",onClickTrash:I=>{I.ativo=!1,E(I),D(!0)},onClickEdit:I=>{const R={...I};U({}),V([]),Object.keys(R).forEach(G=>{typeof R[G]=="object"&&G!==Ye.terapeuta.toLowerCase()&&G!=="cargaHoraria"&&G.indexOf("Id")===-1&&(R[`${G}Id`]=R[G],G=`${G}Id`),G==="cargaHoraria"&&U(R.cargaHoraria),G==="comissao"&&V(R.comissao),b(G,R[G])}),F(!0),E(R),h(!0),a==="grupo-permissoes"&&T(R.permissoesId),R.hasOwnProperty("terapeuta")&&(R==null?void 0:R.terapeuta)!==null?q(!1):(q(!0),v(O,{keepDirtyValues:!0}))},onClick:I=>t(I.id),items:l,iconButtonFooter:o,textButtonFooter:n,onClickLink:()=>{},onClickReturn:I=>{I.ativo=!0,F(!0),le(I)}}),m.totalPages>1&&e(_e,{totalPages:m.totalPages,currentPage:m.currentPage,onChange:H})]}),e(pe,{title:"Cadastro",open:d,width:a==="usuarios"?"75vw":"50vw",onClose:()=>{h(!1),z()},children:p("form",{onSubmit:M(le),action:"#",className:"grid gap-6",children:[e("div",{className:"grid grid-cols-6 items-center gap-2",children:J.map(I=>e(Z,{labelText:I.labelText,id:I.id,type:I.type,options:L(I),validate:I.validate?I.validate:!$&&{required:"Campo obrigat\xF3rio!"},errors:Y,control:A,onChange:R=>ze(R,I.id),hidden:a==="usuarios"&&I.hidden&&$,value:K(I),customCol:I.customCol},I.id))}),e(W,{text:r?"Atualizar":"Cadastrar",type:r?"second":"primary",size:"full",onClick:M(le),loading:N})]})}),e(Te,{onAccept:Ee,onReject:()=>D(!1),onClose:()=>D(!1),title:"Desativar",message:"Deseja realmente desativar?",icon:"pi pi-exclamation-triangle",open:c})]})}const Qe=({especialidades:a,onSubmit:t})=>{const{handleSubmit:o,formState:{errors:n},control:i,setValue:u}=Ie(),l=g=>{const m=[],x=[];return Object.keys(g).map(f=>{g[f]?m.push(parseInt(f)):x.push(parseInt(f))}),t(m,x)};return p("form",{action:"#",onSubmit:o(l),id:"form-cadastro-patient",children:[e("div",{className:"grid  justify-evenly",children:e("div",{className:" mb-10",children:a.map(g=>(u(`${g.especialidade.id}`,g.agendado),e(Z,{labelText:g.especialidade.nome,id:`${g.especialidade.id}`,type:"switch",errors:n,control:i,customCol:"teste "},g.especialidade.id)))})}),e(W,{text:"Agendado",type:"primary",size:"full",onClick:o(l)})]})},Os=({title:a,options:t,control:o,id:n,rules:i,disabled:u})=>e("div",{children:p("div",{className:"card",children:[e(fe,{size:"sm",color:"violet",text:a}),e(ce,{name:n,control:o,rules:i,render:({field:l})=>e(At,{value:l.value,options:t,onChange:l.onChange,optionLabel:"nome",multiple:!0,disabled:u})})]})});Q.locale("pt-br");const $e=({value:a,onClose:t,isEdit:o,statusPacienteCod:n})=>{const{hasPermition:i}=ne(),[u,l]=s.exports.useState(!1),[g,m]=s.exports.useState(!1),[x,f]=s.exports.useState(!1),[E,y]=s.exports.useState(!1),[T,d]=s.exports.useState(!1),[h,r]=s.exports.useState(!1),[F,$]=s.exports.useState(!1),[q,N]=s.exports.useState([]),{renderToast:C}=ue(),[c,D]=s.exports.useState([]),[O,k]=s.exports.useState([]),[V,X]=s.exports.useState(Q(new Date)),{renderDropdownQueueCalendar:U,renderDropdownCalendario:J,renderEspecialidadeTerapeuta:te,renderTerapeutaFuncao:ae,renderPacienteEspecialidade:w}=ve(),_=a||{dataInicio:"",dataFim:"",start:"",end:"",paciente:"",especialidade:"",modalidade:"",terapeuta:"",funcao:"",localidade:"",frequencia:"",statusEventos:"",diasFrequencia:[],observacao:""},{getValues:j,setValue:S,unregister:M,handleSubmit:A,watch:Y,formState:{errors:b},control:v,trigger:z}=Ie({defaultValues:_}),H=async(L,K)=>{m(!1);try{if(JSON.stringify(a)===JSON.stringify(L)){C({type:"warning",title:"401",message:"N\xE3o houve altera\xE7\xE3o no evento!",open:!0});return}l(!0);let I;o?(L.id=a.id,L.changeAll=K,I=await re("evento",L)):I=await ea("evento",L),t(L),C({type:"success",title:"",message:o?"Atualizado com sucesso!":"Agendado com sucesso!",open:!0}),l(!1)}catch({message:I}){C({type:"failure",title:"401",message:`${I}`,open:!0}),l(!1);return}},oe=L=>{o&&L.frequencia.nome==="Recorrente"?(L.dataAtual=a.dataAtual,k(L),m(!0)):H(L,null)},le=async(L,K,I="")=>{let R=[];switch(K){case"paciente-especialidade":R=await w(L,n),D({...c,especialidades:R}),S(`funcao${I}`,[]);break;case"especialidade-terapeuta":R=await te(L),D({...c,[`terapeutas${I}`]:R}),S(`funcao${I}`,[]);break;case"terapeuta-funcao":R=await ae(L),D({...c,[`funcoes${I}`]:R});break}},Ee=(L="",K=null)=>(K&&S(`especialidade${L}`,{id:K.especialidade.id,nome:K.especialidade.nome}),p(B,{children:[e(Z,{labelText:"Especialidade",id:`especialidade${L}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:c==null?void 0:c.especialidades,onChange:I=>le(I.nome,"especialidade-terapeuta",L),validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_ESPECIALIDADE")}),e(Z,{labelText:"Terapeuta",id:`terapeuta${L}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:K?K.terapeutas:c.terapeutas,onChange:I=>le(I.id,"terapeuta-funcao",L),validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_TERAPEUTA")}),e(Z,{labelText:"Fun\xE7\xE3o",id:`funcao${L}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:c[`funcoes${L}`],validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_FUNCAO")})]})),qe=s.exports.useCallback(async()=>{let L=[];switch(n){case P.therapy:L=await J(n);break;case P.queue_avaliation:L=await U(n,a.paciente.id),Ve();break;case P.queue_devolutiva:L=await U(n,a.paciente.id),De();break;case P.queue_therapy:L=await U(n,a.paciente.id),S("modalidade",L.modalidades[0]);break;default:L=await U(n,a.paciente.id);break}if(D(L),o){const K=Q(a.dataAtual),I=Number(K.day());S("diasFrequencia",[I])}},[]),Ve=()=>{y(!0),S("modalidade",{id:1,nome:"Avalia\xE7\xE3o"}),S("frequencia",{id:2,nome:"Recorrente"}),S("intervalo",{id:1,nome:"Todas Semanas"}),f(!0)},ze=async(L,K)=>{const I=await ge(`/paciente/especialidades?statusPacienteCod=${K}&pacienteId=${L}`);N(I),$(!0)},De=()=>{S("modalidade",{id:2,nome:"Devolutiva"}),f(!1),d(!0),M(["frequencia","intervalo","especialidade"],{keepDirtyValues:!0})};return s.exports.useEffect(()=>{qe()},[]),s.exports.useEffect(()=>{a!=null&&a.isExterno&&r(!0)},[]),s.exports.useEffect(()=>{n===P.queue_devolutiva&&ze(a.paciente.id,n)},[T]),s.exports.useEffect(()=>{var L,K;o&&((L=a==null?void 0:a.frequencia)==null?void 0:L.nome)==="Recorrente"&&(f(!0),S("dataInicio",a.dataAtual)),o&&((K=a==null?void 0:a.mododalidade)==null?void 0:K.nome)==="Avalia\xE7\xE3o"&&y(!0)},[]),p(B,{children:[p("form",{action:"#",onSubmit:A(oe),id:"form-cadastro-agendamento",children:[p("div",{className:"grid grid-cols-6 gap-4 mb-8 overflow-y-auto",children:[e(Z,{labelText:"Modalidade",id:"modalidade",type:"select",customCol:`col-span-6 ${E||o?"sm:col-span-2":"sm:col-span-3"}`,errors:b,control:v,options:c==null?void 0:c.modalidades,onChange:L=>{z("dataFim",{shouldFocus:!0}),d(L.nome==="Devolutiva"),L.nome==="Avalia\xE7\xE3o"&&Ve(),L.nome==="Devolutiva"&&De()},validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_MODALIDADE")}),e(Z,{labelText:"Data",id:"dataInicio",type:"date",customCol:`col-span-6 font-inter font-light ${E||o?"sm:col-span-2":"sm:col-span-3"}`,errors:b,control:v,onChange:()=>{const L=j("frequencia");if(L&&(L==null?void 0:L.nome)==="Recorrente"){const K=j("dataInicio"),I=Q(K),R=Number(I.day());S("diasFrequencia",[R]),X(I.add(1,"days"))}},validate:{required:!0,min:Q(new Date).format("YYYY-MM-DD")},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_DATA_INICIO")}),E&&e(Z,{labelText:"Data Final",id:"dataFim",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",errors:b,control:v,validate:{min:V.format("YYYY-MM-DD")},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_DATA_FIM")}),e(Z,{labelText:"Horario Inicial",id:"start",type:"time",customCol:`col-span-6 ${x?"sm:col-span-3":"sm:col-span-2"}`,errors:b,control:v,onChange:L=>{var Ne,Fe;const K=j("start"),R=Q.duration(K).add(1,"hours"),G=((Ne=R==null?void 0:R._data)==null?void 0:Ne.hours).toLocaleString("pt-Br",{minimumIntegerDigits:2,useGrouping:!1}),ie=((Fe=R==null?void 0:R._data)==null?void 0:Fe.minutes).toLocaleString("pt-Br",{minimumIntegerDigits:2,useGrouping:!1}),Se=`${G}:${ie}`;S("end",Se)},validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_HORA_INICIO")}),e(Z,{labelText:"Horario Final",id:"end",type:"time",customCol:`col-span-6 ${x?"sm:col-span-3":"sm:col-span-2"}`,errors:b,control:v,validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_HORA_FIM")}),!T&&(!a||a.id===a.groupId)&&e(Z,{labelText:"Frequ\xEAncia",id:"frequencia",type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:c==null?void 0:c.frequencias,onChange:L=>{if(f(L.nome==="Recorrente"),L.nome==="Recorrente"){const K=j("dataInicio"),I=Q(K),R=Number(I.day());S("diasFrequencia",[R])}},validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_FREQUENCIA")||o}),x&&e(Z,{labelText:"Intervalo",id:"intervalo",type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:c==null?void 0:c.intervalos,validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_INTERVALO")||o}),x&&e("div",{className:"col-span-6 sm:col-span-2",children:e(Os,{id:"diasFrequencia",title:"Dias da semana",options:c==null?void 0:c.diasFrequencia,control:v,rules:{required:!!j("frequencias")},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_DIAS_FREQUENCIA")||o})}),e("div",{className:"col-span-6"}),e("div",{className:"col-span-6",children:e(ta,{size:"md",color:"violet",children:"Informa\xE7\xF5es Para Consulta"})}),e(Z,{labelText:"Paciente",id:"paciente",type:"select",customCol:"col-span-6 sm:col-span-6",errors:b,control:v,options:c==null?void 0:c.pacientes,onChange:L=>{T?ze(L.id,n):(le(L.id,"paciente-especialidade"),$(!1))},validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_PACIENTE")}),T&&F?q.map((L,K)=>Ee(`${K}`,L)):Ee(),e(Z,{labelText:"Local Externo?",id:"isExterno",type:"switch",customCol:"col-span-6 sm:col-span-1",errors:b,control:v,disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_LOCALIDADE"),onChange:L=>{r(L)}}),h&&e(Z,{labelText:"km",id:"km",type:"number",customCol:"col-span-6 sm:col-span-1 font-inter font-light",errors:b,control:v,disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_LOCALIDADE")}),e(Z,{labelText:"Local",id:"localidade",type:"select",customCol:`col-span-6 sm:col-span-${h?"2":"3"}`,errors:b,control:v,options:c==null?void 0:c.localidades,validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_LOCALIDADE")}),e(Z,{labelText:"Status Eventos",id:"statusEventos",type:"select",customCol:"col-span-6 sm:col-span-2",errors:b,control:v,options:c==null?void 0:c.statusEventos,validate:{required:!0},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_STATUS_EVENTOS")}),e(Z,{labelText:"Observa\xE7\xE3o",id:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",errors:b,control:v,validate:{required:!1},disabled:!i("AGENDA_CALENDARIO_EVENTO_EDITAR_OBSERVACAO")})]}),i("AGENDA_CALENDARIO_EVENTO_BOTAO_ATUALIZAR_SALVAR")?e(W,{text:o?"Atualizar":"Agendar",type:o?"second":"primary",size:"full",onClick:A(oe),loading:u}):null]}),e(Te,{onAccept:()=>H(O,!0),onReject:()=>H(O,!1),onClose:()=>m(!1),title:"Evento(s)",message:"Alterar eventos futuros ou apenas o atual?",icon:"pi pi-exclamation-triangle",open:g,acceptLabel:"Atual e eventos futuros",rejectLabel:"Atual"})]})},Xe=({onClose:a,dropdown:t,value:o,statusPacienteCod:n,fieldsCostant:i})=>{const[u,l]=s.exports.useState(!1),{renderToast:g}=ue(),[m,x]=s.exports.useState(i),[f,E]=s.exports.useState([]),y=!!(o!=null&&o.nome),T=o||{},{reset:d,handleSubmit:h,formState:{errors:r},control:F,setValue:$}=Ie({defaultValues:T}),q=async C=>{l(!0);try{let c;const D=n===P.queue_avaliation?{...C,periodoId:C.periodoId.id,convenioId:C.convenioId.id,statusId:C.statusId.id,tipoSessaoId:C.tipoSessaoId.id,especialidades:C.especialidades.map(O=>O.id),statusPacienteCod:n}:{...C,periodoId:C!=null&&C.periodoId?C==null?void 0:C.periodoId.id:Ga.integral,convenioId:C.convenioId.id,statusId:C!=null&&C.statusId?C==null?void 0:C.statusId.id:Ba.padrao,tipoSessaoId:Ma.terapeuta,especialidades:C.especialidades.map(O=>O.id),statusPacienteCod:n};return y?(D.id=o.id,c=await re("paciente",D)):c=await ea("paciente",D),d(),l(!1),g({type:"success",title:"",message:c==null?void 0:c.data.message,open:!0}),a()}catch(c){l(!1),g({type:"failure",title:c.status||"401",message:c.data.message||"Erro de conex\xE3o",open:!0})}},N=async(C,c)=>{switch(c){case"especialidades":const D=await Promise.all(C.map(O=>{const k=f.filter(V=>V.especialidade===O.nome);return k.length?k[0]:{especialidade:O.nome,especialidadeId:O.id,valor:me.format(200),km:0}}));E(D),$("sessao",D);break}};return s.exports.useEffect(()=>{o!=null&&o.nome&&ba(),o!=null&&o.sessao&&E(o.sessao)},[o]),s.exports.useEffect(()=>{const C=i,c={};C.forEach(D=>c[D.id]=""),x(C)},[]),p("form",{action:"#",onSubmit:h(q),id:"form-cadastro-patient",children:[e("div",{className:"grid grid-cols-6 gap-2 mb-4 min-h-[300px] overflow-y-auto",children:m.map(C=>e(Z,{labelText:C.labelText,id:C.id,type:C.type,customCol:C.customCol,errors:r,validate:C.validate,value:C.id==="sessao"?f:null,control:F,onChange:c=>N(c,C.id),options:C.type==="select"||C.type==="multiselect"?t[C.name]:void 0},C.id))}),e(W,{text:y?"Atualizar":"Cadastrar",type:y?"second":"primary",size:"full",onClick:h(q),loading:u})]})},Qa=as,ks={};Qa.forEach(a=>ks[a.id]="");function Ps(){var b;const a="CADASTRO_PACIENTES",{hasPermition:t}=ne(),[o,n]=s.exports.useState(Qa),[i,u]=s.exports.useState([]),[l,g]=s.exports.useState(),[m,x]=s.exports.useState(),[f,E]=s.exports.useState({}),[y,T]=s.exports.useState({pageSize:10,totalPages:0,currentPage:1}),[d,h]=s.exports.useState(!1),[r,F]=s.exports.useState(!1),[$,q]=s.exports.useState(!1),[N,C]=s.exports.useState(!1),[c,D]=s.exports.useState(!1),[O,k]=s.exports.useState([]),{renderDropdownQueue:V,renderPacientes:X}=ve(),{renderToast:U}=ue(),J=s.exports.useCallback(async()=>{try{D(!0),u([]);const v=await ge(`paciente?statusPacienteCod=${P.crud_therapy}&page=${y.currentPage}&pageSize=${y.pageSize}`);u(v.data),T(v.pagination),D(!1)}catch{D(!1),U({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),te=async()=>{C(!1);try{const v=await re("paciente/desabilitar",{id:l.id,disabled:!l.disabled});w({disabled:l.disabled}),U({type:"success",title:v.data.message,message:v.data.data,open:!0})}catch{U({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},ae=async v=>{const z={...y,currentPage:v};T(z),w(f,z)},w=async(v=f,z=y)=>{D(!0),E(v);try{const H={disabled:v.disabled===void 0?!1:v.disabled,statusPacienteCod:P.crud_therapy};delete v.disabled,await Object.keys(v).map(le=>{var Ee;H[le]=((Ee=v[le])==null?void 0:Ee.id)||void 0});const oe=await Pe("paciente",H,`page=${z.currentPage}&pageSize=${z.pageSize}`);u(oe.data.data||oe.data),T(oe.pagination||oe.data.pagination),D(!1)}catch{D(!1),U({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},_=async(v,z,H)=>{try{await re(v,z),q(!1),w()}catch({response:oe}){U({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},j=async({item:v,typeButtonFooter:z})=>{switch(z){case"agendar":g(v),S(v),F(!0);break;case"devolutiva":const H={id:v.vaga.id,devolutiva:!v.vaga.devolutiva};_("vagas/devolutiva",H,{naFila:!1,devolutiva:v.vaga.devolutiva});break;default:if(v.vaga.especialidades.length===1){const oe=v.vaga.especialidades[0],le={statusPacienteCod:P.crud_therapy,pacienteId:v.id,vagaId:v.vaga.id,id:v.vaga.id,agendar:oe.agendado?[]:[oe.especialidadeId],desagendar:oe.agendado?[oe.especialidadeId]:[]};_("vagas/agendar",le,{naFila:!v.vaga.naFila})}else g(v),S(v),q(!0),F(!0);break}},S=v=>{const z={paciente:{nome:v.nome,id:v.id}};g(v),x(z)},M=(v,z)=>{const H={pacienteId:l.id,vagaId:l.vaga.id,id:l.vaga.id,agendar:v,desagendar:z,statusPacienteCod:P.crud_therapy};q(!1),_("vagas/agendar",H,{naFila:!l.vaga.naFila})},A=v=>{const z=He(v);g(z),h(!0)},Y=s.exports.useCallback(async()=>{const v=await V(P.crud_therapy);k(v)},[]);return s.exports.useEffect(()=>{t("CADASTRO_PACIENTES_FILTRO_SELECT_AGENDADOS")?J():w({naFila:!0,disabled:!1}),Y()},[J]),p("div",{className:"grid",children:[e(be,{id:"form-filter-patient",legend:"Filtro",fields:o,screen:a,onSubmit:w,onReset:J,loading:c,dropdown:O,onInclude:()=>{g(null),h(!0)}}),p(de,{children:[e(Re,{loading:c,type:"complete",items:i,screen:a,onClick:j,onClickLink:v=>{g(v),q(!0)},onClickTrash:v=>{g(v),C(!0)},onClickEdit:A,onClickReturn:({item:v})=>{g(v),C(!0)}}),y.totalPages>1&&e(_e,{totalPages:y.totalPages,currentPage:y.currentPage,onChange:ae})]}),e(pe,{title:"Cadastro de Paciente",open:d,onClose:()=>h(!1),children:e(Xe,{onClose:async()=>{const v=await X(P.crud_therapy);k({...O,pacientes:v}),J(),h(!1)},dropdown:O,value:l,statusPacienteCod:P.crud_therapy,fieldsCostant:ts})}),r&&e(pe,{title:"Agendamento",open:r,onClose:()=>F(!1),width:"80vw",children:e($e,{value:m,isEdit:!1,statusPacienteCod:P.crud_therapy,onClose:async v=>{_("vagas/agendar/especialidade",{vagaId:l.vaga.id,especialidadeId:v.especialidade.id,statusPacienteCod:P.crud_therapy,pacienteId:v.paciente.id},{naFila:!l.vaga.naFila}),J(),F(!1)}})}),e(pe,{title:"Selecione a(s) especialidade(s) agendada(s)",open:$,onClose:()=>q(!1),children:e(Qe,{onSubmit:M,especialidades:(b=l==null?void 0:l.vaga)==null?void 0:b.especialidades})}),e(Te,{title:"",onAccept:te,onReject:()=>C(!1),onClose:()=>C(!1),message:`Deseja realmente ${l!=null&&l.disabled?"ativar":"inativar"} o paciente ${l==null?void 0:l.nome}?`,icon:"pi pi-exclamation-triangle",open:N})]})}const Rs=()=>{const{renderToast:a}=ue(),{hasPermition:t}=ne(),o=async n=>{try{const{message:i}=await ge(`/usuarios/reset-senha/${n}`);a({type:"success",title:"",message:i,open:!0})}catch({message:i}){a({type:"failure",title:"401",message:`${i}`,open:!0});return}};return e("div",{className:"card",children:p(ha,{className:"tabview-custom",children:[t("CADASTRO_PACIENTES")?e(Ce,{header:"Pacientes",leftIcon:"pi pi-user",children:e(Ps,{})}):e(B,{}),t("CADASTRO_USUARIOS")?e(Ce,{header:"Usu\xE1rios",leftIcon:"pi pi-user",children:e(Oe,{screen:"CADASTRO_USUARIOS",namelist:"usuarios",onClick:o,iconButtonFooter:"pi pi-sync",textButtonFooter:"Reset de senha"})}):e(B,{}),t("CADASTRO_STATUS_EVENTOS")?e(Ce,{header:"Status eventos",leftIcon:"pi pi-calendar-plus",children:e(Oe,{screen:"CADASTRO_STATUS_EVENTOS",namelist:"status-eventos",onClick:()=>{}})}):e(B,{}),t("CADASTRO_FUNCAO")?e(Ce,{header:"Fun\xE7\xE3o",leftIcon:"pi pi-slack",children:e(Oe,{screen:"CADASTRO_FUNCAO",namelist:"funcao",onClick:()=>{}})}):e(B,{}),t("CADASTRO_LOCALIDADE")?e(Ce,{header:"Localidade",leftIcon:"pi pi-map-marker",children:e(Oe,{screen:"CADASTRO_LOCALIDADE",namelist:"localidade",onClick:()=>{}})}):e(B,{}),t("CADASTRO_GRUPO_PERMISSOES")?e(Ce,{header:"Grupo Permiss\xF5es",leftIcon:"pi pi-sitemap",children:e(Oe,{screen:"CADASTRO_GRUPO_PERMISSOES",namelist:"grupo-permissoes",onClick:()=>{}})}):e(B,{})]})})};function ma(){const[a,t]=s.exports.useState(),[o,n]=s.exports.useState(!1),{renderToast:i}=ue(),{reset:u,handleSubmit:l,formState:{errors:g},control:m}=Ie(),x=()=>{const E=sessionStorage.getItem("auth"),y=JSON.parse(E);t(y)},f=async E=>{n(!0);try{E.id=a.login;const{data:y}=await re("/usuarios/reset-senha",E);n(!1),u(),i({type:"success",title:"",message:y.message,open:!0})}catch({message:y}){i({type:"failure",title:"401",message:`${y}`,open:!0}),u();return}};return s.exports.useEffect(()=>{x()},[]),e(B,{children:e(de,{children:p("div",{className:"grid sm:grid-cols-2",children:[e(he,{text:a==null?void 0:a.nome,subtext:a==null?void 0:a.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),p("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(Z,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:g,validate:{required:!0},control:m}),e("div",{className:" mt-4 ",children:e(W,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:l(f)})})]})]})})})}const Xa=os,$s={};Xa.forEach(a=>$s[a.id]="");function qs(){var j;ne();const[a,t]=s.exports.useState([]),[o,n]=s.exports.useState(),[i,u]=s.exports.useState(),[l,g]=s.exports.useState({naFila:!0}),[m,x]=s.exports.useState({currentPage:1,pageSize:10,totalPages:0}),[f,E]=s.exports.useState(!1),[y,T]=s.exports.useState(!1),[d,h]=s.exports.useState(!1),[r,F]=s.exports.useState(!1),[$,q]=s.exports.useState(!1),[N,C]=s.exports.useState([]),{renderDropdownQueue:c,renderPacientes:D}=ve(),{renderToast:O}=ue(),k=async()=>{F(!1);try{const S=await re("paciente/desabilitar",{id:o.id,disabled:!o.disabled});X({disabled:o.disabled}),O({type:"success",title:S.data.message,message:S.data.data,open:!0})}catch{O({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},V=async S=>{x(S),X()},X=async(S=l)=>{q(!0),g(S);try{const M={naFila:S.naFila===void 0?!0:!S.naFila,disabled:S.disabled===void 0?!1:S.disabled,statusPacienteCod:P.queue_avaliation};delete S.naFila,delete S.disabled,await Object.keys(S).map(Y=>{var b;M[Y]=((b=S[Y])==null?void 0:b.id)||void 0});const A=await Pe("paciente",M,`page=${m.currentPage}&pageSize=${m.pageSize}`);A.data.data||A.data?(t(A.data.data||A.data),x(A.pagination||A.data.pagination)):t([]),q(!1)}catch{q(!1),O({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},U=async(S,M,A)=>{try{await re(S,M),h(!1),X()}catch({response:Y}){q(!1),O({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},J=async({item:S,typeButtonFooter:M})=>{switch(M){case"agendar":n(S),te(S),T(!0);break;default:if(S.vaga.especialidades.length===1){const A=S.vaga.especialidades[0],Y={statusPacienteCod:P.queue_avaliation,pacienteId:S.id,vagaId:S.vaga.id,id:S.vaga.id,agendar:A.agendado?[]:[A.especialidadeId],desagendar:A.agendado?[A.especialidadeId]:[]};U("vagas/agendar",Y,{naFila:!S.vaga.naFila})}else n(S),te(S),h(!0),T(!0);break}},te=S=>{const M={paciente:{nome:S.nome,id:S.id}};n(S),u(M)},ae=(S,M)=>{const A={pacienteId:o.id,vagaId:o.vaga.id,id:o.vaga.id,agendar:S,desagendar:M,statusPacienteCod:P.queue_avaliation};h(!1),U("vagas/agendar",A,{naFila:!o.vaga.naFila})},w=S=>{const M=He(S);n(M),E(!0)},_=s.exports.useCallback(async()=>{const S=await c(P.queue_avaliation);C(S)},[]);return s.exports.useEffect(()=>{X({naFila:!0}),_()},[]),p("div",{className:"grid",children:[e(be,{id:"form-filter-patient",legend:"Filtro",fields:Xa,screen:"FILA_AVALIACAO",onSubmit:X,onReset:()=>X({naFila:!0}),loading:$,dropdown:N,onInclude:()=>{n(null),E(!0)}}),p(de,{children:[e(Re,{loading:$,type:"complete",items:a,screen:"FILA_AVALIACAO",onClick:J,onClickLink:S=>{n(S),h(!0)},onClickTrash:S=>{n(S),F(!0)},onClickEdit:w,onClickReturn:({item:S})=>{n(S),F(!0)}}),m.totalPages>1&&e(_e,{totalPages:m.totalPages,currentPage:m.currentPage,onChange:V})]}),e(pe,{title:"Cadastro de Paciente",open:f,onClose:()=>E(!1),children:e(Xe,{onClose:async()=>{const S=await D(P.queue_avaliation);C({...N,pacientes:S}),X({naFila:!0}),E(!1)},dropdown:N,value:o,statusPacienteCod:P.queue_avaliation,fieldsCostant:Ua})}),y&&e(pe,{title:"Agendamento",open:y,onClose:()=>T(!1),width:"80vw",children:e($e,{value:i,isEdit:!1,statusPacienteCod:P.queue_avaliation,onClose:async S=>{U("vagas/agendar/especialidade",{vagaId:o.vaga.id,especialidadeId:S.especialidade.id,statusPacienteCod:P.queue_avaliation,pacienteId:S.paciente.id},{naFila:!o.vaga.naFila}),X({naFila:!0}),T(!1)}})}),e(pe,{title:"Selecione a(s) especialidade(s) agendada(s)",open:d,onClose:()=>h(!1),children:e(Qe,{onSubmit:ae,especialidades:(j=o==null?void 0:o.vaga)==null?void 0:j.especialidades})}),e(Te,{title:"",onAccept:k,onReject:()=>F(!1),onClose:()=>F(!1),message:`Deseja realmente ${o!=null&&o.disabled?"ativar":"inativar"} o paciente ${o==null?void 0:o.nome}?`,icon:"pi pi-exclamation-triangle",open:r})]})}const Wa=is,Vs={};Wa.forEach(a=>Vs[a.id]="");function zs(){var M;const{hasPermition:a}=ne(),[t,o]=s.exports.useState([]),[n,i]=s.exports.useState([]),[u,l]=s.exports.useState(),[g,m]=s.exports.useState({}),[x,f]=s.exports.useState({currentPage:1,pageSize:10,totalPages:0}),[E,y]=s.exports.useState(!1),[T,d]=s.exports.useState(!1),[h,r]=s.exports.useState(!1),[F,$]=s.exports.useState(!1),[q,N]=s.exports.useState(!1),[C,c]=s.exports.useState([]),{renderDropdownQueue:D,renderPacientes:O}=ve(),{renderToast:k}=ue(),V=s.exports.useCallback(async()=>{try{N(!0),o([]);const A=await ge(`paciente?statusPacienteCod=${P.queue_devolutiva}&page=${x.currentPage}&pageSize=${x.pageSize}`);o(A.data),f(A.pagination),N(!1)}catch{N(!1),k({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),X=async()=>{$(!1);try{const A=await re("paciente/desabilitar",{id:n.id,disabled:!n.disabled});J({disabled:n.disabled}),k({type:"success",title:A.data.message,message:A.data.data,open:!0})}catch{k({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},U=async A=>{const Y={...x,currentPage:A};f(Y),J(g,Y)},J=async(A=g,Y=x)=>{N(!0),m(A);const b={naFila:A.naFila===void 0?!0:!A.naFila,isDevolutiva:A.isDevolutiva===void 0?!1:A.isDevolutiva,disabled:A.disabled===void 0?!1:A.disabled,statusPacienteCod:P.queue_devolutiva};delete A.naFila,delete A.disabled,delete A.isDevolutiva,await Object.keys(A).map(z=>{var H;b[z]=((H=A[z])==null?void 0:H.id)||void 0});const v=await Pe("paciente",b,`page=${Y.currentPage}&pageSize=${Y.pageSize}`);o(v.data.data||v.data),f(v.pagination||v.data.pagination),N(!1)},te=async(A,Y,b)=>{try{await re(A,Y),r(!1),J()}catch({response:v}){k({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},ae=async({item:A,typeButtonFooter:Y})=>{switch(Y){case"devolutiva":i(A),w(A),d(!0);break;case"voltou_aba":i(A),j(A);break;default:if(A.vaga.especialidades.length===1){const b=A.vaga.especialidades[0],v={statusPacienteCod:P.queue_devolutiva,pacienteId:A.id,vagaId:A.vaga.id,id:A.vaga.id,agendar:b.agendado?[]:[b.especialidadeId],desagendar:b.agendado?[b.especialidadeId]:[]};te("vagas/agendar",v,{naFila:!A.vaga.naFila})}else i(A),w(A),r(!0),d(!0);break}},w=A=>{const Y={paciente:{nome:A.nome,id:A.id}};i(A),l(Y)},_=(A,Y)=>{const b={pacienteId:n.id,vagaId:n.vaga.id,id:n.vaga.id,agendar:A,desagendar:Y,statusPacienteCod:P.queue_devolutiva};r(!1),te("vagas/agendar",b,{naFila:!n.vaga.naFila})},j=A=>{const Y=He(A);i(Y),y(!0)},S=s.exports.useCallback(async()=>{const A=await D(P.queue_devolutiva);c(A)},[]);return s.exports.useEffect(()=>{a("FILA_AVALIACAO_FILTRO_SELECT_AGENDADOS")?V():J({naFila:!0}),S()},[V]),p("div",{className:"grid",children:[e(be,{id:"form-filter-patient",legend:"Filtro",fields:Wa,screen:"FILA_DEVOLUTIVA",onSubmit:J,onReset:V,loading:q,dropdown:C}),p(de,{children:[e(Re,{loading:q,type:"complete",items:t,screen:"FILA_DEVOLUTIVA",onClick:ae,onClickLink:A=>{i(A),r(!0)},onClickTrash:A=>{i(A),$(!0)},onClickEdit:j,onClickReturn:A=>{i(A),$(!0)}}),x.totalPages>1&&e(_e,{totalPages:x.totalPages,currentPage:x.currentPage,onChange:U})]}),e(pe,{title:"Cadastro de Paciente",open:E,onClose:()=>y(!1),children:e(Xe,{onClose:async()=>{const A=await O(P.queue_devolutiva);c({...C,pacientes:A}),V(),y(!1)},dropdown:C,value:n,statusPacienteCod:P.queue_devolutiva,fieldsCostant:Ua})}),T&&e(pe,{title:"Agendamento",open:T,onClose:()=>d(!1),width:"80vw",children:e($e,{value:u,isEdit:!1,statusPacienteCod:P.queue_devolutiva,onClose:async A=>{const b=Object.keys(A).map(v=>{if(v.includes("especialidade"))return A[v].id}).filter(v=>v!==void 0);te("vagas/agendar/especialidade",{vagaId:n.vaga.id,especialidades:b,statusPacienteCod:P.queue_devolutiva,pacienteId:A.paciente.id},{naFila:!n.vaga.naFila}),V(),d(!1)}})}),e(pe,{title:"Selecione a(s) especialidade(s) agendada(s)",open:h,onClose:()=>r(!1),children:e(Qe,{onSubmit:_,especialidades:(M=n==null?void 0:n.vaga)==null?void 0:M.especialidades})}),e(Te,{title:"",onAccept:X,onReject:()=>$(!1),onClose:()=>$(!1),message:`Deseja realmente ${n!=null&&n.disabled?"ativar":"inativar"} o paciente ${n==null?void 0:n.nome}?`,icon:"pi pi-exclamation-triangle",open:F})]})}const Ja=rs,js={};Ja.forEach(a=>js[a.id]="");function Ms(){var Y;const{hasPermition:a}=ne(),[t,o]=s.exports.useState(Ja),[n,i]=s.exports.useState([]),[u,l]=s.exports.useState(),[g,m]=s.exports.useState(),[x,f]=s.exports.useState({}),[E,y]=s.exports.useState({currentPage:1,pageSize:10,totalPages:0}),[T,d]=s.exports.useState(!1),[h,r]=s.exports.useState(!1),[F,$]=s.exports.useState(!1),[q,N]=s.exports.useState(!1),[C,c]=s.exports.useState(!1),[D,O]=s.exports.useState([]),{renderDropdownQueue:k,renderPacientes:V}=ve(),{renderToast:X}=ue(),U=s.exports.useCallback(async()=>{try{c(!0),i([]);const b=await ge(`paciente?statusPacienteCod=${P.queue_therapy}&page=1&pageSize=10`);i(b.data),y(b.pagination),c(!1)}catch{c(!1),X({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),J=async()=>{N(!1);try{const b=await re("paciente/desabilitar",{id:u.id,disabled:!u.disabled});ae({disabled:u.disabled}),X({type:"success",title:b.data.message,message:b.data.data,open:!0})}catch{X({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},te=async b=>{const v={...E,currentPage:b};y(v),ae(x,v)},ae=async(b=x,v=E)=>{c(!0),f(b);try{c(!0);const z={naFila:b.naFila===void 0?!0:!b.naFila,disabled:b.disabled===void 0?!1:b.disabled};z.statusPacienteCod=z.naFila?P.queue_therapy:P.therapy,delete b.naFila,delete b.disabled,await Object.keys(b).map(oe=>{var le;z[oe]=((le=b[oe])==null?void 0:le.id)||void 0});const H=await Pe("paciente",z,`page=${v.currentPage}&pageSize=${v.pageSize}`);i(H.data.data||H.data),y(H.pagination||H.data.pagination),c(!1)}catch{c(!1),X({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},w=async(b,v,z)=>{try{await re(b,v),$(!1),ae(z)}catch({response:H}){X({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},_=async({item:b,typeButtonFooter:v})=>{switch(v){case"agendar":l(b),j(b),r(!0);break;default:if(b.vaga.especialidades.length===1){const z=b.vaga.especialidades[0],H={statusPacienteCod:P.queue_therapy,pacienteId:b.id,vagaId:b.vaga.id,id:b.vaga.id,agendar:z.agendado?[]:[z.especialidadeId],desagendar:z.agendado?[z.especialidadeId]:[]};w("vagas/agendar",H,{naFila:!b.vaga.naFila})}else l(b),j(b),$(!0),r(!0);break}},j=b=>{const v={paciente:{nome:b.nome,id:b.id}};l(b),m(v)},S=(b,v)=>{const z={statusPacienteCod:P.queue_therapy,pacienteId:u.id,vagaId:u.vaga.id,id:u.vaga.id,agendar:b,desagendar:v};$(!1),w("vagas/agendar",z,{naFila:!u.vaga.naFila})},M=b=>{const v=He(b);l(v),d(!0)},A=s.exports.useCallback(async()=>{const b=await k(P.queue_therapy);O(b)},[]);return s.exports.useEffect(()=>{a("FILA_TERAPIA_FILTRO_SELECT_AGENDADOS")?U():ae({naFila:!0}),A()},[U]),p("div",{className:"grid",children:[e(be,{id:"form-filter-patient",legend:"Filtro",fields:t,screen:"FILA_TERAPIA",onSubmit:ae,onReset:U,loading:C,dropdown:D,onInclude:()=>{l(null),d(!0)}}),p(de,{children:[e(Re,{loading:C,type:"complete",items:n,screen:"FILA_TERAPIA",onClick:_,onClickLink:b=>{l(b),$(!0)},onClickTrash:b=>{l(b),N(!0)},onClickEdit:M,onClickReturn:b=>{l(b),N(!0)}}),E.totalPages>1&&e(_e,{totalPages:E.totalPages,currentPage:E.currentPage,onChange:te})]}),e(pe,{title:"Cadastro de Paciente",open:T,onClose:()=>d(!1),children:e(Xe,{onClose:async()=>{const b=await V(P.queue_therapy);O({...D,pacientes:b}),U(),d(!1)},dropdown:D,value:u,statusPacienteCod:P.queue_therapy,fieldsCostant:es})}),h&&e(pe,{title:"Agendamento",open:h,onClose:()=>r(!1),width:"80vw",children:e($e,{value:g,isEdit:!1,statusPacienteCod:P.queue_therapy,onClose:async b=>{w("vagas/agendar/especialidade",{vagaId:u.vaga.id,especialidadeId:b.especialidade.id,statusPacienteCod:P.queue_therapy,pacienteId:b.paciente.id},{naFila:!u.vaga.naFila}),U(),r(!1)}})}),e(pe,{title:"Selecione a(s) especialidade(s) agendada(s)",open:F,onClose:()=>$(!1),children:e(Qe,{onSubmit:S,especialidades:(Y=u==null?void 0:u.vaga)==null?void 0:Y.especialidades})}),e(Te,{title:"",onAccept:J,onReject:()=>N(!1),onClose:()=>N(!1),message:`Deseja realmente ${u!=null&&u.disabled?"ativar":"inativar"} o paciente ${u==null?void 0:u.nome}?`,icon:"pi pi-exclamation-triangle",open:q})]})}function Bs(){const{hasPermition:a}=ne();return e("div",{className:"card",children:(()=>p(va,{className:"tabview-custom",children:[a("FILA_AVALIACAO")?e(ke,{header:"Avaliac\xE3o",leftIcon:"pi pi-user",children:e(qs,{})}):e(B,{}),a("FILA_DEVOLUTIVA")?e(ke,{header:"Devolutiva",leftIcon:"pi pi-user",children:e(zs,{})}):e(B,{}),a("FILA_TERAPIA")?e(ke,{header:"Terapia",leftIcon:"pi pi-user",children:e(Ms,{})}):e(B,{})]}))()})}const Gs=({events:a,openModalEdit:t,eventMouseEnter:o,onNext:n,onPrev:i,dateClick:u})=>{const l=s.exports.useRef(null),g=(m,x)=>{const f=x==="prev";let E=m.getCurrentData().currentViewType,y,T,d,h,r,F,$=m.getCurrentData().dateProfile.activeRange.end;switch(E){case"dayGridMonth":return y=f?$.getMonth()-1:$.getMonth()+1,T=$.getFullYear(),d=Ea(T,y),h=Aa(T,y),{type:"dayGridMonth",start:d,end:h};case"timeGridWeek":case"listWeek":r=m.getCurrentData().dateProfile.activeRange.start,F=m.getCurrentData().dateProfile.activeRange.end;const q=Q(m.getCurrentData().dateProfile.activeRange.start),N=Q(m.getCurrentData().dateProfile.activeRange.end);return d=f?q.subtract(7,"days"):q.add(7,"days"),h=f?N.subtract(7,"days"):N.add(7,"days"),{type:"timeGridWeek",start:d.format("YYYY-MM-DD"),end:h.format("YYYY-MM-DD")};case"timeGridDay":return r=f?Q($).subtract(1,"days"):Q($).add(1,"days"),F=f?Q($):Q($).add(2,"days"),{type:"timeGridDay",start:r.format("YYYY-MM-DD"),end:F.format("YYYY-MM-DD")}}};return s.exports.useEffect(()=>{if(l.current){const m=document.querySelector("fieldset > div > div > div > div > div");m.style.height="calc(100vh - 250px)",m.style.overflow="hidden"}},[]),e("div",{children:e("div",{className:"card text-sm font-inter",children:e(rt,{plugins:[lt,ct,dt,pt,ut],hiddenDays:[0],slotLabelInterval:"5vw",slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotDuration:"00:20:00",slotMinTime:"07:00:00",slotMaxTime:"20:00:00",allDaySlot:!1,locale:"pt",navLinks:!0,timeZone:"America/Sao_Paulo",initialView:"timeGridWeek",events:a,headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},ref:l,eventClick:t,dayMaxEventRows:!0,views:{timeGrid:{dayMaxEventRows:8}},businessHours:{daysOfWeek:[1,2,3,4,5,6],startTime:"07:00",endTime:"20:00"},buttonText:{month:"M\xEAs",week:"Semana",day:"Dia",list:"Lista"},dateClick:({date:m})=>u(Dt(m)),eventMouseEnter:o,eventContent:m=>{},customButtons:{prev:{text:"prev",click:m=>{const x=l.current&&l.current.getApi();let f=g(x,"prev");i(f),x&&x.prev()}},next:{text:"next",click:m=>{const x=l.current&&l.current.getApi();let f=g(x,"next");n(f),x&&x.next()}}}})})})};var Ae=(a=>(a.atendido="Atendido",a.atestado="Atestado",a.livre="Livre",a))(Ae||{});const Us=({evento:a,open:t,onClose:o,onEdit:n,onDelete:i,onClick:u,onClickSecond:l})=>{const[g,m]=s.exports.useState(!0),{hasPermition:x,perfil:f}=ne(),E=T=>{let d=T.modalidade.nome;if(d!=="Avalia\xE7\xE3o"||!(T!=null&&T.dataInicio)||!(T!=null&&T.dataFim))return e("span",{children:d});const h=la(T.dataInicio,T.dataAtual),r=la(T.dataInicio,T.dataFim);return e(B,{children:p("span",{children:[d,e("span",{className:"font-inter ml-2",children:`${h}/${r}`})," "]})})},y=p("div",{className:"flex justify-between items-center gap-8",children:[a.paciente.nome!==Ae.livre?e(sa,{type:a.especialidade.nome,disabled:!1}):e("div",{}),e("span",{children:a.paciente.nome}),p("div",{className:"flex mt-[-0.5rem]",children:[x("AGENDA_CALENDARIO_LISTA_EDITAR")?e("div",{children:g&&e(W,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:n})}):null,x("AGENDA_CALENDARIO_LISTA_EXCLUIR")&&(a==null?void 0:a.canDelete)?e("div",{children:g&&e(W,{text:"Edit",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:i})}):null]})]});return s.exports.useEffect(()=>{const T=Q().format("YYYY-MM-DD");m(T<=a.dataAtual)}),e(xa,{header:y,visible:t,onHide:o,breakpoints:{"960px":"80vw"},children:p("div",{children:[p("p",{className:"flex gap-4 items-center justify-between",children:[E(a)," ",e("span",{children:a.statusEventos.nome})]}),e("br",{}),p("p",{className:"font-inter font-bold",children:[a.date," \u2022 ",`${a.start} at\xE9 ${a.end}`]}),a.frequencia.id!==1&&p("p",{children:[a.intervalo.nome," \u2022"," ",a==null?void 0:a.diasFrequencia.map(T=>ya[T-1]).join("-")]}),e("br",{}),p("p",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-map-marker"}),a.localidade.nome,a.isExterno&&p("span",{className:"font-bold font-inter",children:[" ",`- ${a.km}km`," "]})]}),e("br",{}),a.observacao?p(B,{children:[p("p",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-bars"}),a.observacao]}),e("br",{})]}):null,p("p",{className:"flex gap-4 items-center ",children:[a.terapeuta.nome," ",e("i",{className:"pi pi-tag",children:" "})," ",a.funcao.nome]}),p("div",{className:"flex justify-between mt-8 gap-2",children:[(f===Ke||f===Sa)&&a.statusEventos.nome!==Ae.atendido&&!ca(a.date)&&a.paciente.nome!==Ae.livre?e(W,{text:"Atendido",icon:"pi pi-check",type:"primary",color:"white",size:"full",onClick:u}):null,(f==Ke||f===Pt)&&ca(a.date)&&a.paciente.nome!==Ae.livre&&a.statusEventos.nome!==Ae.atendido&&a.statusEventos.nome!==Ae.atestado?e(W,{text:"Atestado",icon:"pi pi-book",type:"second",color:"white",size:"full",onClick:l}):null]})]})})},Ka=gs,Ys={};Ka.forEach(a=>Ys[a.id]="");function Hs(){const a=new Date,{perfil:t}=we(),[o,n]=s.exports.useState([]),{hasPermition:i}=ne(),[u,l]=s.exports.useState(!1),{renderToast:g}=ue(),[m,x]=s.exports.useState([]),{renderDropdownCalendar:f,renderPacientes:E}=ve(),[y,T]=s.exports.useState(),[d,h]=s.exports.useState(!1),[r,F]=s.exports.useState(!1),[$,q]=s.exports.useState(!1),[N,C]=s.exports.useState(!1),[c,D]=s.exports.useState([]),[O,k]=s.exports.useState({start:Ea(a.getFullYear(),a.getMonth()+1),end:Aa(a.getFullYear(),a.getMonth()+1)});async function V(_=O){if(t.toLowerCase()===Ye.terapeuta.toLowerCase()){await k({start:_.start,end:_.end});const j=await sessionStorage.getItem("auth"),S=JSON.parse(j);te({terapeutaId:{id:S.id},..._})}else{k({start:_.start,end:_.end});const j=await ge(`/evento/filtro/${_.start}/${_.end}?${o.join("&")}`);D(j)}}async function X(){try{await Ta(`/evento?id=${y.id}`),V(),q(!1),g({type:"success",title:"",message:"Evento exclu\xEDdo com sucesso!",open:!0})}catch(_){console.error(_),g({type:"failure",title:"401",message:"Evento n\xE3o exclu\xEDdo!",open:!0})}}async function U(){try{await re("/evento/check",y),q(!1),g({type:"success",title:"",message:"Evento atualizado!",open:!0}),setTimeout(()=>{V()},1e3)}catch(_){console.error(_),g({type:"failure",title:"401",message:"Evento n\xE3o atualizado!",open:!0})}}async function J(){try{await re("/evento/atestado",y),q(!1),g({type:"success",title:"",message:"Evento atualizado!",open:!0}),setTimeout(()=>{V()},1e3)}catch(_){console.error(_),g({type:"failure",title:"401",message:"Evento n\xE3o atualizado!",open:!0})}}async function te(_){try{const j=[];Object.keys(_).map(M=>{var A;(A=_[M])!=null&&A.id&&j.push(`${M}=${_[M].id}`)}),n(j);const S=await ge(`/evento/filtro/${_.start||O.start}/${_.end||O.end}?${j.join("&")}`);D(S)}catch{l(!1)}}s.exports.useMemo(async()=>{const _=await f(P.therapy);x(_)},[]);const ae=({event:_})=>{const j={id:Number(_.id),..._._def.extendedProps,..._._def.extendedProps.data,dataAtual:_t(_._instance.range.start),date:Ft(_._instance.range.start),groupId:_._def.groupId};T(j),q(!0)},w=()=>{q(!1),h(!0),F(!0)};return s.exports.useEffect(()=>{},[]),s.exports.useEffect(()=>{l(!0),V(),setTimeout(()=>{l(!1)},500)},[]),p("div",{className:"h-max-screen",children:[i("AGENDA_CALENDARIO_FILTRO_BOTAO_PESQUISAR")?e(be,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:Ka,onSubmit:te,onReset:V,screen:"AGENDA_CALENDARIO",loading:u,dropdown:m,onInclude:()=>{T(null),h(!0),F(!1)}}):e(B,{}),e(de,{children:e("div",{className:"flex-1",children:e(Gs,{openModalEdit:ae,events:c,onNext:_=>V(_),onPrev:_=>V(_),dateClick:_=>{T({dataInicio:_}),h(!0),F(!1)}})})}),$&&e(Us,{evento:y,open:$,onEdit:w,onDelete:()=>C(!0),onClose:()=>q(!1),onClick:U,onClickSecond:J}),d&&i("AGENDA_CALENDARIO_FILTRO_BOTAO_CADASTRAR")?e(pe,{title:"Agendamento",open:d,onClose:()=>h(!1),width:"80vw",children:e($e,{value:y,isEdit:r,screen:"calendar",statusPacienteCod:P.therapy,onClose:()=>{T(null),V(),h(!1)}})}):null,e(Te,{onAccept:X,onReject:()=>C(!1),onClose:()=>C(!1),title:"Evento(s)",message:"O evento exclu\xEDdo perder\xE1 todo hist\xF3rico. Deseja realmente exclui-lo?",icon:"pi pi-exclamation-triangle",open:N,acceptLabel:"Excluir",rejectLabel:"Cancelar"})]})}const Za=xs,Qs={};Za.forEach(a=>Qs[a.id]="");function Xs(){const{user:a}=we(),{hasPermition:t}=ne(),[o,n]=s.exports.useState(),[i,u]=s.exports.useState({}),[l,g]=s.exports.useState({currentPage:1,pageSize:10,totalPages:0}),[m,x]=s.exports.useState(!1),[f,E]=s.exports.useState([]),{renderDropdownBaixa:y}=ve(),{renderToast:T}=ue(),d=async c=>{g(c),h()},h=async(c=i)=>{x(!0),u(c);const D={baixa:c.baixa===void 0?!1:c.baixa};delete c.baixa,await Object.keys(c).map(k=>{var V;D[k]=((V=c[k])==null?void 0:V.id)||void 0});const{data:O}=await Pe("baixa",D,`page=${l.currentPage}&pageSize=${l.pageSize}`);n(O.data||O.data.data),g(O.pagination||O.data.pagination),x(!1)},r=async c=>{try{await re("baixa",{id:c.id,usuarioId:a.id}),h()}catch(D){T({type:"failure",title:"401",message:D.data.message,open:!0})}},F=async c=>{try{await Ta(`baixa/${c.id}`),h()}catch(D){T({type:"failure",title:"401",message:D.data.message,open:!0})}},$=s.exports.useCallback(async()=>{const c=await y(P.therapy);E(c)},[]),q=c=>c.baixa?e("i",{className:"pi  text-green-400 pi-check-circle"}):t("AGENDA_BAIXA_UPDATE")&&e("div",{className:"text-end",children:e(W,{text:"BAIXA",icon:"pi pi-arrow-circle-down",type:"second",size:"full",onClick:()=>r(c)})}),N=c=>t("AGENDA_BAIXA_DELETE")&&e("div",{className:"text-center",children:e(W,{text:"Excluir",icon:"pi pi-trash",type:"transparent",size:"icon",color:"red",onClick:()=>F(c)})}),C=c=>e(sa,{type:c.especialidade,disabled:!1});return s.exports.useEffect(()=>{h(),$()},[]),p("div",{className:"grid ",children:[e(be,{id:"form-filter-patient",legend:"Filtro",fields:Za,screen:"FILA_DEVOLUTIVA",onSubmit:h,onReset:()=>h(),loading:m,dropdown:f}),p(de,{children:[o!=null&&o.length?p(Be,{value:o,showGridlines:!0,children:[e(ee,{field:"paciente",header:"Paciente",style:{minWidth:"9rem",textAlign:"start",fontSize:"0.5rem"}}),e(ee,{field:"carteirinha",header:"Carteirinha"}),e(ee,{field:"convenio",header:"Convenio"}),e(ee,{field:"dataEvento",header:"Data Evento"}),e(ee,{field:"especialidade",header:"Especialidade",dataType:"boolean",bodyClassName:"text-center",headerStyle:{textAlign:"center"},body:C}),e(ee,{field:"cargaHoraria",header:"Carga Hor\xE1ria"}),e(ee,{field:"localidade",header:"Local"}),e(ee,{field:"dataBaixa",header:"Data/Hora Baixa"}),e(ee,{field:"usuario",header:"Usu\xE1rio"}),e(ee,{field:"baixa",header:"Baixa",dataType:"boolean",bodyClassName:"text-center",headerStyle:{textAlign:"center"},body:q}),e(ee,{field:"excluir",header:"Excluir",dataType:"boolean",bodyClassName:"text-center",headerStyle:{textAlign:"center"},body:N})]}):e(Ue,{}),l.totalPages>1&&e(_e,{totalPages:l.totalPages,currentPage:l.currentPage,onChange:d})]})]})}function Ws(){const{hasPermition:a}=ne();return e("div",{className:"card",children:(()=>p(va,{className:"tabview-custom",children:[a("AGENDA_CALENDARIO")?e(ke,{header:"Agenda",leftIcon:"pi pi-calendar",children:e(Hs,{})}):e(B,{}),a("AGENDA_BAIXA")?e(ke,{header:"Baixa",leftIcon:"pi pi-book",children:e(Xs,{})}):e(B,{})]}))()})}const Js=[{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Terapeuta",id:"terapeutaId",name:"terapeutas",customCol:"col-span-6 sm:col-span-2",type:"select"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1}],Ks=[{permission:"FINANCEIRO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacienteId",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1}],et=Js,Zs={};et.forEach(a=>Zs[a.id]="");const at=Ks,en={};at.forEach(a=>en[a.id]="");function an(){const[a,t]=s.exports.useState(!1),[o,n]=s.exports.useState([]);ne();const{renderDropdownFinancial:i}=ve(),[u,l]=s.exports.useState([]),[g,m]=s.exports.useState({}),[x,f]=s.exports.useState({}),E=N=>(l([]),m({}),N),y=async(N,C)=>{t(!0);try{const c={};await Object.keys(N).map(k=>{var V;k.indexOf("Id")!==-1?c[k]=((V=N[k])==null?void 0:V.id)||void 0:c[k]=N[k]}),f({modulo:C,...N});const D=await kt(`financeiro/${C}`,c),O=D.status===200&&(D==null?void 0:D.data)?D.data:[];m(O.geral),l(O.data),t(!1)}catch{t(!1)}},T=s.exports.useCallback(async()=>{const N=await i(P.therapy);n(N)},[]),d=N=>{const C=N.map(c=>c.valorTotal).reduce((c,D)=>c+=D);return me.format(C)},h=N=>{const C=N.map(c=>c.horas).reduce((c,D)=>{const O=Q.duration(c);return O.add(Q.duration(D)),O});return Lt(C)},r=(N,C)=>p("span",{className:"",children:[p("span",{className:"image-text mr-24",children:[C," "]}),p("span",{className:"image-text mr-24",children:["Valor total:"," ",e("span",{className:"font-inter",children:d(N)})]}),p("span",{className:"image-text",children:["Total de Horas:"," ",e("span",{className:"font-inter",children:h(N)})]})]}),F=()=>{const N=Le.book_new(),C=Le.json_to_sheet([g]),c=[];Object.values(u).map(k=>c.push(...k));const D=Le.json_to_sheet(c);Le.book_append_sheet(N,C,"Geral"),Le.book_append_sheet(N,D,"Detalhado");const O=`${g.nome} ${Q(x.dataInicio).format("DD-MM-YYYY")} at\xE9 ${Q(x.dataFim).format("DD-MM-YYYY")}.xlsx`;St(N,O)},$=()=>p(B,{children:[e(be,{id:"form-filter-patient",legend:"Filtro",fields:et,screen:"FINANCEIRO",onSubmit:N=>y(N,"terapeuta"),onReset:()=>{},loading:a,dropdown:o}),!a&&Object.values(u).length?p("div",{className:"grid sm:grid-cols-3 sm:gap-2",children:[e(de,{children:p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-users"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:g.especialidade}),e("span",{className:"font-inter",children:g.nome})]})]})}),e(de,{children:p("div",{className:"flex gap-2 justify-around",children:[p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-stopwatch"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Horas"}),e("span",{className:"font-inter",children:g.horas})]})]}),p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-car"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"km"}),e("span",{className:"font-inter",children:g.valorKm})]})]})]})}),e(de,{children:p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-money-bill"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Total total"}),e("span",{className:"font-inter",children:me.format(g.valorTotal)})]})]})})]}):null,e(de,{children:e("div",{className:"flex justify-center",children:a?e(Ze,{}):Object.keys(u).length?p("div",{className:"w-full text-md ",children:[e("div",{className:"sm:text-end mb-4",children:e(W,{text:"Download Excel",icon:"pi pi-download",type:"primary",size:"sm",onClick:F})}),e(je,{children:Object.keys(u).map((N,C)=>e(Me,{header:r(u[N],N),tabIndex:C,children:p(Be,{value:u[N],responsiveLayout:"scroll",children:[e(ee,{sortable:!0,field:"data",header:"Data",body:({data:c})=>e("span",{className:"font-inter",children:c})}),e(ee,{sortable:!0,field:"horas",header:"Tempo",body:({horas:c})=>e("span",{className:"font-inter",children:c})}),e(ee,{sortable:!0,field:"status",header:"Status"}),e(ee,{sortable:!0,field:"km",header:"km",body:c=>c.km==0?"-":c.km}),e(ee,{sortable:!0,field:"valorKm",header:"ValorKm km",body:c=>c.valorKm==0?"-":me.format(c.valorKm)}),e(ee,{sortable:!0,field:"sessao",header:"Valor da Sess\xE3o",body:({sessao:c})=>e("span",{className:"font-inter",children:me.format(c)})}),e(ee,{sortable:!0,field:"valorSessao",header:"Comiss\xE3o",body:({valorSessao:c})=>e("span",{className:"font-inter",children:me.format(c)})}),e(ee,{sortable:!0,field:"valorTotal",header:"Valor Total",body:({valorTotal:c})=>e("span",{className:"font-inter",children:me.format(c)})})]})},C))})]}):e("div",{className:"w-full flex items-center  justify-center",children:e(Ue,{})})})})]}),q=()=>p(B,{children:[e(be,{id:"form-filter-patient",legend:"Filtro",fields:at,screen:"FINANCEIRO",onSubmit:N=>y(N,"paciente"),onReset:()=>{},loading:a,dropdown:o}),!a&&Object.keys(u).length?e(B,{children:p("div",{className:"grid sm:grid-cols-2 sm:gap-2",children:[e(de,{children:p("div",{className:"flex gap-2 justify-around",children:[p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-stopwatch"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Horas"}),e("span",{className:"font-inter",children:g.horas})]})]}),p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-car"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"km"}),e("span",{className:"font-inter",children:g.valorKm})]})]}),p("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-money-bill"}),p("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Total total"}),e("span",{className:"font-inter",children:me.format(g.valorTotal)})]})]})]})}),e(de,{children:e("div",{className:"flex flex-wrap gap-2 items-left",children:g.especialidadeSessoes&&Object.keys(g.especialidadeSessoes).map(N=>e(B,{children:p("div",{className:"flex gap-2 items-center",children:[e("div",{className:`h-2 w-2 rounded-full ${oa[N.toUpperCase()]}`}),p("div",{className:"grid",children:[p("span",{children:[" ",N," "]}),p("span",{className:"font-inter",children:[" ",g.especialidadeSessoes[N]," "]})]})]})}))})})]})}):null,e(de,{children:a?e(Ze,{}):Object.keys(u).length?p("div",{className:"w-full ",children:[e("div",{className:"sm:text-end mb-4",children:e(W,{text:"Download Excel",icon:"pi pi-download",type:"primary",size:"sm",onClick:F})}),e(je,{activeIndex:0,children:Object.keys(u).map((N,C)=>e(Me,{header:r(u[N],N),tabIndex:C,children:p(Be,{value:u[N],responsiveLayout:"scroll",children:[e(ee,{sortable:!0,field:"data",header:"Data",body:({data:c})=>e("span",{className:"font-inter",children:c})}),e(ee,{sortable:!0,field:"status",header:"Status"}),e(ee,{sortable:!0,field:"km",header:"km"}),e(ee,{sortable:!0,field:"especialidade",header:"especialidade",body:({especialidade:c})=>p("div",{className:"flex gap-2 items-center",children:[e("div",{className:`h-2 w-2 rounded-full ${oa[c.toUpperCase()]}`}),p("span",{children:[" ",c," "]})]})}),e(ee,{sortable:!0,field:"sessao",header:"Valor da Sess\xE3o",body:({sessao:c})=>e("span",{className:"font-inter",children:me.format(c)})})]})}))})]}):e("div",{className:"w-full flex items-center  justify-center",children:e(Ue,{})})})]});return s.exports.useEffect(()=>{T()},[]),e("div",{className:"grid gap-8",children:p(ha,{className:"tabview-custom",onBeforeTabChange:N=>E(N),children:[e(Ce,{header:"Terapeuta",leftIcon:"pi pi-user",children:$()}),e(Ce,{header:"Paciente",leftIcon:"pi pi-user",children:q()})]})})}const tt=[{path:"*",componentRoute:ma,icon:""},{path:"home",componentRoute:ma,icon:"pi pi-home"},{path:"cadastro",componentRoute:Rs,icon:"pi pi-credit-card"},{path:"fila",componentRoute:Bs,icon:"pi pi-sort-amount-down"},{path:"agenda",componentRoute:Ws,icon:"pi pi-calendar"},{path:"financeiro",componentRoute:an,icon:"pi pi-money-bill"}],tn=()=>{const{hasPermition:a}=ne(),{open:t}=s.exports.useContext(na);return p("div",{className:"min-h-full overflow-hidden bg-background h-screen w-full",children:[e(Fs,{}),e("main",{className:`${t?"ml-36":"ml-14"} p-4 duration-700`,children:e(Ca,{children:tt.map((n,i)=>e(Je,{path:n.path,element:a(n.path)?e(_s,{children:e(n.componentRoute,{})}):null},i))})})]})};function sn(){const{signed:a}=we();return a?e(fa,{children:e(qt,{children:e(Ls,{children:e(Ds,{children:e(tn,{})})})})}):e(ws,{})}function nn(){return e("div",{className:"App",children:e(zt,{children:e(jt,{children:e(sn,{})})})})}ot.createRoot(document.getElementById("root")).render(e(nt.StrictMode,{children:e(nn,{})}));
