import{r as t,R as Ya}from"./react.5e86ad27.js";import{c as Ha}from"./react-dom.9fb0e807.js";import{a as Ua}from"./axios.d349c3b3.js";import{j as e,a as h,F as M,b as Qa,m as Wa,c as Ja,d as Ka,e as Za,f as Xa}from"./@fullcalendar.e9cd324a.js";import{B as na,N as Ke}from"./react-router-dom.f52f36d8.js";import{T as et,P as at,A as Le,a as Oe,D as Re,C as te,b as ia,I as Ye,c as tt,d as st,e as ot,L as nt,M as it,f as ra,g as rt,h as lt,i as ct,S as dt,j as la,k as xe,K as pt,l as Be}from"./primereact.b5109af3.js";import{h as B}from"./moment.9709ab41.js";import{c as fe}from"./clsx.09c75e33.js";import{L as ut}from"./react-lottie-player.28ec4ee1.js";import{C as ne,u as ve}from"./react-hook-form.4e7bbe2b.js";import{e as ca,f as He}from"./react-router.f66119ed.js";import{B as mt,D as ft}from"./react-chartjs-2.bf821a56.js";import{C as ht,a as xt,L as gt,b as vt,p as bt,c as yt,A as Ct}from"./chart.js.2222c2ea.js";import{u as me,w as da}from"./xlsx.86b9426e.js";/* empty css                   */import"./fast-deep-equal.aae8ee5f.js";import"./scheduler.87d985fa.js";import"./form-data.d1f94bc2.js";import"./tslib.101f86d7.js";import"./rrule.25315786.js";import"./@remix-run.f7ecdf14.js";import"./react-transition-group.1c2afae3.js";import"./@babel.4f1e7424.js";import"./dom-helpers.2a8a4335.js";import"./lottie-web.ab3fbcf1.js";import"./rfdc.0929fce7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerpolicy&&(d.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?d.credentials="include":r.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(r){if(r.ep)return;r.ep=!0;const d=n(r);fetch(r.href,d)}})();const ue=Ua.create({baseURL:"https://lfzqax.hospedagemelastica.com.br",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",device:"web"}}),Ze=(a,s)=>{ue.interceptors.request.use(async n=>(n.url.endsWith("login")||(n.headers.Authorization=`Bearer ${a}`,n.headers.login=s),n),n=>Promise.reject(n))},X=async(a,s)=>{var r;const n=s?`${a}?${s}`:a,o=await ue(`/dropdrown/${n}`);return o.status===200?((r=o.data)==null?void 0:r.data)||o.data:[]},Qe=async(a,s)=>await ue.post(a,s),re=async(a,s)=>await ue.put(a,s),Et=async a=>await ue.delete(`${a}`),se=async a=>{var n;const s=await ue(a);return s.status===200?((n=s.data)==null?void 0:n.data)||s.data:[]},At=async(a,s)=>await ue(`${a}/${s}`),Se=async(a,s)=>await ue.post(`filtro/${a}`,s),St="developer",It="coordenador",Tt="coordenador-terapeuta",wt="terapeuta",pa=t.exports.createContext({}),Nt=({children:a})=>{const{perfil:s}=$e(),[n,o]=t.exports.useState([]),r=c=>{o(c)};t.exports.useMemo(async()=>{const c=sessionStorage.getItem("auth"),m=(c?JSON.parse(c):[]).permissoes||await se("permissao");o(m)},[]),t.exports.useEffect(()=>{n.length},[]);const d=c=>{const x=c||"";switch(!0){case!s:throw new Error("Voce n\xE3o tem permissao");case c==="*":return!0;default:return!!(n.length&&n.includes(x.toUpperCase())||s===St)}};return e(pa.Provider,{value:{hasPermition:d,perfil:s,permissions:n,setPermissionsLogin:r},children:a})},ee=()=>t.exports.useContext(pa),Dt="absolute animate-bounce min-w-[24rem] top-2 right-0 block flex p-4 mb-4 text-sm rounded-lg items-center gap-2 z-[70] ",ua=t.exports.createContext({}),_t=({children:a})=>{const[s,n]=t.exports.useState("hidden"),[o,r]=t.exports.useState(),[d,c]=t.exports.useState(""),[x,m]=t.exports.useState({type:"info",title:"",message:"",open:!1}),g=y=>{switch(y){case"success":r(e("i",{className:"pi pi-check-circle"}));break;case"failure":r(e("i",{className:"pi pi-times-circle"}));break;case"warning":r(e("i",{className:"pi pi-exclamation-circle"}));break;case"info":r(e("i",{className:"pi pi-info-circle"}));break;default:r(e("i",{className:"pi pi-undo"}));break}},p=y=>{switch(y){case"success":c("z-[10000] text-white bg-green-400 rounded-lg  w-24 ");break;case"failure":c("z-[10000] text-white bg-red-400 rounded-lg  w-24");break;case"warning":c("z-[10000] text-white bg-yellow-400 rounded-lg  w-24");break;case"info":c("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break;default:c("z-[10000] text-white bg-gray-400 rounded-lg  w-24");break}},I=({type:y,message:w,title:l,open:E})=>{g(y),p(y),m({type:y,message:w,title:l,open:E}),n(E?"block":"hidden"),setTimeout(()=>{n("hidden")},3e3)};return e(ua.Provider,{value:{renderToast:I},children:h(M,{children:[a,h("div",{className:`${Dt} ${s} ${d}`,role:"alert",children:[o,h("span",{children:[e("span",{className:"font-medium",children:"   "+x.title})," "+x.message]})]})]})})};function le(){return t.exports.useContext(ua)}const ma=t.exports.createContext({}),Ft=({children:a})=>{const[s,n]=t.exports.useState(null),[o,r]=t.exports.useState(null),{setPermissionsLogin:d}=ee(),{renderToast:c}=le();t.exports.useEffect(()=>{const p=sessionStorage.getItem("token"),I=sessionStorage.getItem("auth"),y=sessionStorage.getItem("perfil");if(p&&I){const w=JSON.parse(I);n(w),r(y),Ze(p,w.login)}},[]);const x=async p=>{var I;try{ue.defaults.headers.device="web";const w=(await ue.post("/login",p)).data,l=(w==null?void 0:w.user)||w.data,E=(w==null?void 0:w.accessToken)||w.data.accessToken,i=(I=l.perfil)!=null&&I.nome?l.perfil.nome.toLowerCase():l.perfil.toLowerCase();sessionStorage.setItem("token",E),sessionStorage.setItem("auth",JSON.stringify(l)),sessionStorage.setItem("perfil",i),l.permissoes.length&&d&&d(l.permissoes),r(i),n(l),await Ze(E,l.login),c({type:"success",title:" ",message:w.message,open:!0})}catch({response:y}){m(y)}},m=p=>{var y;const I=p!=null&&p.data?(y=p==null?void 0:p.data)==null?void 0:y.message:"Usu\xE1rio n\xE3o encontrado!";c({type:"failure",title:p.status,message:I,open:!0})},g=()=>{n(null),sessionStorage.clear()};return e(ma.Provider,{value:{signed:Boolean(s),user:s,Login:x,Logout:g,perfil:o},children:a})},$e=()=>t.exports.useContext(ma),kt="/assets/logo-lg.ee70d40f.jpg";function W({icon:a,size:s="full",type:n="primary",color:o="white",text:r,loading:d,onClick:c}){return e(et,{icon:a,loading:d,label:s==="icon"?"":r,onClick:c,className:fe(" text-white text-sm rounded-md border-none ",{"bg-violet-800 hover:bg-violet-600":n==="primary","bg-yellow-400 hover:bg-violet-800":n==="second","bg-transparent hover:bg-transparent":n==="transparent","text-white":o==="white","text-red-400 hover:text-violet-800 focus:text-violet-600":o==="red","text-green-400 hover:text-violet-800 focus:text-violet-600":o==="green","text-yellow-400 hover:text-violet-800 focus:text-violet-600":o==="yellow","text-violet-800 hover:text-violet-600 focus:text-violet-600":o==="violet","w-full":s==="full","sm:w-2/5 w-full":s==="md"})})}B.locale("pt-br");const Lt={TO:"#ef6c00",FONO:"#f6bf26",PSICO:"#8e24aa",PSICOPEDAG:"#000000"},Xe={TO:"bg-to",FONO:"bg-fono",PSICO:"bg-psico",PSICOPEDAG:"bg-psico-pdeg"},Ot={TO:"#ffffff",FONO:"#ffffff",PSICO:"#ffffff",PSICOPEDAG:"#ffffff"},Rt=a=>a.charAt(0).toUpperCase()+a.slice(1),fa=()=>{setTimeout(()=>{(document.querySelectorAll(".p-multiselect-token")||[]).forEach(s=>{const n=Lt[s.textContent.toUpperCase()],o=Ot[s.textContent.toUpperCase()];s.style.background=n,s.style.color=o})},0)},ea=a=>B(a).format("DD/MM/YYYY"),Pt=a=>(B.locale("pt-br"),B(a).format("YYYY-MM-DD")),qt=a=>B(a).add(1,"days").format("YYYY-MM-DD"),aa=(a,s)=>{const n=B(a);return B(s).diff(n,"weeks")+1},ha=["Segunda-feira","Terca-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xE1bado"],$t=a=>{const s=B(a),n=Number(s.day()-1);return`${ha[n]}, ${s.format("ll")}`},Ve=a=>{var s;return{id:a.id,nome:a.nome,dataNascimento:a.dataNascimento,telefone:a.telefone,responsavel:a.responsavel,carteirinha:a.carteirinha,periodoId:a.vaga.periodo,convenioId:a.convenio,statusId:a.status,dataContato:a.vaga.dataContato,dataVoltouAba:(s=a==null?void 0:a.vaga)==null?void 0:s.dataVoltouAba,sessao:a==null?void 0:a.sessao,vagaId:a.vaga.id,especialidades:a.vaga.especialidades.map(n=>({nome:n.especialidade.nome,id:n.especialidade.id})),tipoSessaoId:a.tipoSessao,observacao:a.vaga.observacao}},xa=(a,s)=>B(new Date(a,s-1,1)).format("YYYY-MM-DD"),ga=(a,s)=>B(new Date(a,s,0)).format("YYYY-MM-DD"),Vt=a=>{const s=B.duration(a);return`${s.hours().toString().padStart(2,"0")}:${s.minutes().toString().padStart(2,"0")}:${s.seconds().toString().padStart(2,"0")}`},ce=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"});const jt=({list:a,onChange:s,selected:n})=>{const[o,r]=t.exports.useState(a),[d,c]=t.exports.useState([]),x=g=>{r(g.source),c(g.target),s(g.target)};return t.exports.useEffect(()=>{if(n.length){const g=a.filter(I=>!n.includes(I.id)),p=a.filter(I=>n.includes(I.id));r(g),c(p)}},[]),e("div",{className:"picklist-demo mb-8",children:e("div",{className:"card",children:e(at,{source:o,target:d,itemTemplate:g=>e("div",{className:"product-item",children:h("div",{className:"product-list-detail",children:[e("span",{className:"text-sm text-gray-800",children:g.descricao}),e("h5",{className:" product-category text-xs text-gray-400",children:g.cod})]})}),sourceHeader:"Permiss\xF5es",targetHeader:"Selecionados",showSourceControls:!1,showTargetControls:!1,sourceStyle:{height:"342px"},targetStyle:{height:"342px"},onChange:x,filterBy:"descricao",sourceFilterPlaceholder:"Pesquisar",targetFilterPlaceholder:"Pesquisar"})})})},Mt=({value:a,onChange:s,control:n})=>{const o={"08:00":!1,"09:00":!1,"10:00":!1,"11:00":!1,"12:00":!1,"13:00":!1,"14:00":!1,"15:00":!1,"16:00":!1,"17:00":!1,"18:00":!1,"19:00":!1,"20:00":!1},r=Object.keys(a).length?a:{"Segunda-feira":o,"Terca-feira":o,"Quarta-feira":o,"Quinta-feira":o,"Sexta-feira":o,S\u00E1bado:o},[d,c]=t.exports.useState(r),x=m=>Object.keys(d[m]).map(g=>e(Q,{labelText:g,id:m+g,type:"switch",control:n,value:d[m][g],onChange:p=>{const I={...d};I[m][g]=p,c(I),s(I)},customCol:"w-24 font-inter"},m+g));return h("div",{className:"card p-fluid",children:[e("h5",{className:"text-md my-2 text-gray-800 font-bold ",children:"Hor\xE1rio de trabalho da terapeuta"}),e(Le,{children:Object.keys(d).map(m=>e(Oe,{header:m,tabIndex:m,children:x(m)},m))})]})},zt=({value:a,onChange:s,type:n})=>{const[o,r]=t.exports.useState(a),d=n==="sessao"?[{field:"especialidade",header:"Especialidade"},{field:"valor",header:"Valor"},{field:"km",header:"KM"}]:[{field:"funcao",header:"Fun\xE7\xE3o"},{field:"valor",header:"Valor"},{field:"tipo",header:"Tipo Comiss\xE3o"}],c=m=>{switch(m.field){case"valor":return m.rowData.tipo==="Fixo"||n==="sessao"?e(Ye,{onValueChange:g=>{const p=[...o];p[m.rowIndex].valor=ce.format(g.target.value),r(p)},mode:"currency",currency:"BRL",locale:"pt-BR",className:"font-inter"}):e(Ye,{onValueChange:g=>{const p=[...o];p[m.rowIndex].valor=g.target.value,r(p)},suffix:"%",className:"font-inter"});case"km":return e("input",{type:"number",onInput:g=>{const p=[...o];p[m.rowIndex].km=g.target.value,r(p)}});case"tipo":return e(ia,{virtualScrollerOptions:{itemSize:38},options:[{id:"fixo",nome:"Fixo"},{id:"porcentagem",nome:"%"}],onChange:g=>{const p=[...o];p[m.rowIndex].tipo=g.target.value.nome,r(p)},optionLabel:"nome"});default:return m.value}},x=m=>{m.field==="especialidade"||m.field==="funcao"||s(o)};return t.exports.useEffect(()=>{r(a)},[a]),h("div",{className:"card p-fluid",children:[e("h5",{className:"text-md my-2 text-gray-800 font-bold ",children:"Infoma\xE7\xF5es das sess\xF5es"}),e(Re,{value:o,editMode:"cell",className:"editable-cells-table font-inter",responsiveLayout:"scroll",children:d.map(({field:m,header:g})=>e(te,{field:m,header:g,style:{width:"25%"},onCellEditComplete:x,editor:p=>c(p)},m))})]})};function Q({onChange:a,value:s,labelText:n,id:o,type:r,customClass:d,options:c,customCol:x,validate:m,errors:g,control:p,disabled:I,hidden:y}){const w=()=>{switch(r){case"select":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e(ia,{value:s||l.value,virtualScrollerOptions:{itemSize:38},options:c,onChange:E=>(a&&a(E.value),l.onChange(E.value)),optionLabel:"nome",filter:!0,showClear:!0,filterBy:"nome",disabled:I})});case"multiselect":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e(it,{disabled:I,id:l.id,display:"chip",optionLabel:"nome",filter:!0,value:s||l.value,onChange:E=>{fa(),a&&a(E.value),l.onChange(E.value)},options:c})});case"list":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e(nt,{value:l.value,options:c,onChange:E=>l.onChange(E.value),multiple:!0,filter:!0,optionLabel:"nome",listStyle:{maxHeight:"300px"}})});case"textarea":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e("textarea",{id:l.id,...l,value:s||l.value,className:d,placeholder:l.placeholder,disabled:I})});case"switch":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>h("div",{className:"grid grid-cols-6 justify-start items-center h-8",children:[h("span",{className:"col-span-4 text-violet-800",children:[" ",n," "]}),e("div",{className:"col-span-2",children:e(ot,{checked:s||l.value,color:"#685ec5",value:s,disabled:I,onChange:E=>{l.onChange(E.target.value),a&&a(E.target.value)}})})]})});case"tel":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e(st,{disabled:I,value:s||l.value,type:r,className:"inputAnimado font-inter font-light"+d,mask:"(99) 9999-9999",onChange:E=>l.onChange(E.value)},l.id)});case"checkbox":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>h(M,{children:[e(tt,{checked:s,type:r,className:"inputAnimado "+d,onChange:E=>{l.onChange(E.target.checked),a&&a(E.target.checked)}}),h("span",{className:"col-span-4 text-violet-800",children:[" ",n," "]})]})});case"time":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>t.exports.createElement("input",{id:l.id,...l,value:s||l.value,key:l.id,type:r,className:"inputAnimado font-inter "+d,disabled:I,onInput:E=>{l.onChange(E),a&&a(E)}})});case"price":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e("div",{className:"inputAnimado font-inter "+d,id:l.id,children:h("div",{className:"p-inputgroup",children:[e(Ye,{value:s||l.value,disabled:I,onInput:E=>{l.onChange(E),a&&a(E)}}),e("span",{className:"p-inputgroup-addon",children:"R$"})]})})});case"date":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>t.exports.createElement("input",{disabled:I,id:l.id,...l,value:s||l.value,key:l.id,type:r,className:"inputAnimado "+d,autoComplete:"off",min:(m==null?void 0:m.min)&&m.min,onInput:E=>{l.onChange(E),a&&a(E)}})});case"picker":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e(jt,{list:c,selected:s,onChange:E=>{l.onChange(E),a&&a(E)}})});case"dataTable":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e(Mt,{value:s,control:p,onChange:E=>{l.onChange(E),a&&a(E)}})});case"dataTableSessaoHeron":return e(ne,{name:o,control:p,rules:m,render:({field:l})=>e(zt,{value:s,type:o,onChange:E=>{l.onChange(E),a&&a(E)}})});default:return e(ne,{name:o,control:p,rules:m,render:({field:l})=>t.exports.createElement("input",{disabled:I,id:l.id,...l,value:s||l.value,key:l.id,type:r,className:"inputAnimado "+d,autoComplete:"off",onInput:E=>{l.onChange(E),a&&a(E)}})})}};return h("div",{className:fe("label-float",{"my-5":!x,hidden:y&&y},x),children:[w(),r!=="switch"&&r!=="checkbox"&&h("label",{children:[" ",n," "]}),g&&g[o]&&e("p",{className:"text-xs text-red-400 text-end",children:g[o].message})]})}function je({size:a="md",color:s="gray-dark",children:n}){return e("span",{className:fe("font-bold",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"}),children:n})}function de({size:a="md",color:s="gray-dark",text:n,display:o="grid",subtext:r,icon:d,className:c}){return h("div",{className:fe("flex gap-4 font-normal tracking-wider text-start items-center text-ellipsis overflow-hidden whitespace-nowrap",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-red-900":s==="red","text-black":s==="black"},c),children:[d&&e("div",{className:"flex items-center",children:e("i",{className:d})}),h("span",{className:o,children:[n,"\xA0",h("strong",{children:[" ",r]})]})]})}function ae({children:a,legend:s}){return e("fieldset",{className:"px-8 items-center bg-white rounded-lg border border-gray-200 shadow-md mt-4 ",children:e("div",{className:"py-4",children:a})})}function Bt({onSubmit:a,control:s,loading:n}){return h("div",{className:"grid grid-cols-12 items-center gap-1",children:[e(Q,{labelText:"Search",id:"search",type:"text",customCol:"col-span-11",control:s}),e("div",{className:"mt-4",children:e(W,{text:"Buscar",icon:"pi pi-search",type:"primary",size:"icon",onClick:a,loading:n})})]})}function Gt({onClick:a,onSubmit:s,textButton:n,iconButton:o,control:r,loading:d,screen:c}){const{hasPermition:x}=ee();return h("div",{className:"grid grid-cols-8 gap-2 justify-between",children:[e("form",{action:"#",onSubmit:s,className:"col-span-8 sm:col-span-7",children:e(Bt,{onSubmit:s,control:r,loading:!!d})}),h("div",{className:"col-span-8 sm:col-span-1",children:[x(`${c}_BOTAO_CADASTAR`)?e("div",{className:"sm:hidden ",children:e(W,{text:n,icon:o,type:"primary",size:"full",onClick:a})}):null,x(`${c}_BOTAO_CADASTAR`)?e("div",{className:"hidden sm:block mt-5 text-end",children:e(W,{text:n,icon:o,type:"primary",size:"icon",onClick:a})}):null]})]})}function ie({title:a,children:s,open:n,width:o="50vw",onClose:r}){return e(ra,{header:a,modal:!0,visible:n,onHide:r,breakpoints:{"960px":"75vw"},style:{width:o},children:s})}function be({title:a,message:s,icon:n,onAccept:o,onReject:r,open:d,onClose:c,rejectLabel:x="N\xE3o",acceptLabel:m="Sim"}){return e(rt,{visible:d,onHide:c,message:s,header:a,icon:n,accept:o,reject:r,acceptLabel:m,rejectLabel:x})}const Yt="text-sm items-center flex text-white py-2 px-6 rounded-full cursor-not-allowed cursor-pointer opacity-25 disabled:opacity-100 ";function va({onClick:a,type:s,disabled:n}){return e("button",{onClick:a,className:fe(Yt,{"bg-to":s.toUpperCase()==="TO","bg-fono":s.toUpperCase()==="FONO","bg-psico":s.toUpperCase()==="PSICO","bg-black":s.toUpperCase()==="PSICOPEDAG"}),disabled:!n,children:s.toUpperCase()})}function pe({size:a="md",color:s="gray-dark",text:n,className:o}){return e("span",{className:fe("font-normal tracking-wider",{"text-xs":a==="xs","text-sm":a==="sm","text-md":a==="md","text-lg":a==="lg","text-white":s==="white","text-gray-300":s==="gray-light","text-gray-400":s==="gray","text-gray-800":s==="gray-dark","text-violet-800":s==="violet","text-yellow-400":s==="yellow","text-black":s==="black"},o),children:n})}function ba({onClickEdit:a,onClickTrash:s,onClickReturn:n,positionActions:o="left",actionEdit:r,actionTrash:d,actionReturn:c,screen:x}){const{hasPermition:m}=ee();return e("div",{className:fe("",{"flex justify-start":o==="left","text-right":o==="right"}),children:h(M,{children:[r&&m(`${x}_LISTA_BOTAO_EDITAR`)&&e(W,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:a}),d&&m(`${x}_LISTA_BOTAO_EXCLUIR`)&&e(W,{text:"Trash",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:s}),c&&m(`${x}_LISTA_BOTAO_RETORNAR`)&&e(W,{text:"Return",icon:"pi pi-replay",type:"transparent",color:"yellow",size:"icon",onClick:n})]})})}function ta({onClick:a,textButtonFooter:s,iconButtonFooter:n,sizeButtonFooter:o,typeButtonFooter:r}){return s===""||s===void 0?e(M,{}):h(M,{children:[e("div",{className:"hidden sm:block",children:e(W,{text:s,icon:n,type:r,size:o,onClick:a})}),e("div",{className:"sm:hidden  flex-1",children:e(W,{text:s,icon:n,type:r,size:"full",onClick:a})})]})}function Ht({children:a,textButtonFooter:s,iconButtonFooter:n,typeButtonFooter:o,isDevolutiva:r,sizeButtonFooter:d,onClick:c,onClickLink:x}){return h("div",{className:"w-full text-center bg-white overflow-hidden",children:[a,h("div",{className:"flex text-sm  text-gray-400 mt-4 sm:m-0 justify-end gap-2",children:[r&&ta({textButtonFooter:"Retornar",iconButtonFooter:"pi pi-sync",typeButtonFooter:"second",sizeButtonFooter:d,onClick:x||(()=>{})}),ta({textButtonFooter:s,iconButtonFooter:n,typeButtonFooter:o,sizeButtonFooter:d,onClick:c})]})]})}function Ut({textPrimaryLeft:a,textPrimaryRight:s,textSecondLeft:n,onClickLink:o,onClick:r,textButtonFooter:d,iconButtonFooter:c,typeButtonFooter:x,sizeButtonFooter:m,onClickEdit:g,onClickTrash:p,onClickReturn:I,positionActions:y="right",actionEdit:w,actionTrash:l,actionReturn:E,screen:i}){return e(Pe.Root,{textButtonFooter:d,iconButtonFooter:c,typeButtonFooter:x,sizeButtonFooter:m,onClick:r,children:h(M,{children:[h("div",{className:"grid grid-cols-5 justify-between text-base font-medium text-gray-800 mt-4",children:[h("div",{className:"col-span-4 grid sm:grid-cols-2 gap-2 sm:justify-between text-left",children:[e(pe,{text:a,size:"md",color:"violet"}),e(pe,{text:s,size:"sm",color:"gray"}),e("span",{})]}),ba({onClickEdit:g,onClickTrash:p,onClickReturn:I,positionActions:y,actionEdit:w,actionTrash:l,actionReturn:E,screen:i})]}),n&&h("div",{className:"mt-1  flex items-center gap-2",children:[e("i",{className:"pi pi-user text-sm text-gray-400 "}),e(pe,{text:n,size:"xs",color:"gray"})]})]})})}function Qt({textPrimaryLeft:a,textPrimaryCenter:s,textPrimaryRight:n,textSecondLeft:o,textSecondRight:r,textSecondCenter:d,textFooter:c,tags:x,onClickEdit:m,onClickTrash:g,onClickReturn:p,onClick:I,onClickLink:y,textButtonFooter:w,iconButtonFooter:l,typeButtonFooter:E,sizeButtonFooter:i,isDevolutiva:_,actionEdit:k,actionTrash:V,actionReturn:T,positionActions:v="left",children:u,screen:N}){const{hasPermition:L}=ee(),F=()=>e("div",{className:"text-right flex gap-1 h-8 justify-end",children:x==null?void 0:x.map(z=>e(va,{onClick:L(`${N}_LISTA_TAG_ESPECIALIDADES`)?y:void 0,type:z.type,disabled:N==="FILA_DEVOLUTIVA"||N==="CADASTRO_PACIENTES"?!1:z==null?void 0:z.disabled},z.type))});return e(Pe.Root,{textButtonFooter:w,iconButtonFooter:l,typeButtonFooter:E,isDevolutiva:_,sizeButtonFooter:i,onClick:I,onClickLink:y,children:h(M,{children:[h("div",{className:"grid grid-rows-2 sm:grid-cols-2 mb-4 sm:mb-0 h-12 mt-6",children:[N!=="FILA_DEVOLUTIVA"?ba({onClickEdit:m,onClickTrash:g,onClickReturn:p,positionActions:v,actionEdit:k,actionTrash:V,actionReturn:T,screen:N}):e("div",{}),F()]}),h("div",{children:[h("div",{className:"flex items-end gap-2 sm:gap-8 text-left ",children:[e(pe,{text:a,size:"lg",color:"violet"}),e(pe,{className:"font-inter",text:s,size:"sm",color:"gray-dark"}),e(pe,{className:"font-inter",text:n,size:"sm",color:"gray-dark"})]}),h("div",{className:"mt-1 grid sm:flex items-center sm:gap-2 justify-between font-light text-left",children:[e("div",{className:"flex justify-center items-center ",children:e(pe,{text:o,size:"md",color:"gray-dark"})}),L(`${N}_LISTA_TEXT_TELEFONE`)?h("div",{className:"flex items-center gap-2 p-2 font-sans text-left",children:[e("i",{className:"pi pi-phone text-gray-400 text-xs"}),e(pe,{text:d,size:"md",color:"gray-dark",className:"font-inter"})]}):e(M,{}),e(pe,{text:r,size:"md",color:"gray-dark",className:"font-inter"})]}),e("div",{className:"mt-2",children:u}),h("div",{className:"mt-4 flex items-center gap-2 text-ellipsis overflow-hidden",children:[e(lt,{target:".obs",mouseTrack:!0,className:"w-2/4 sm:w-1/4"}),e("p",{className:" text-gray-800  text-sm justify-start text-start obs text-ellipsis overflow-hidden","data-pr-tooltip":c,children:c})]})]})]})})}const Pe={Root:Ht,Simples:Ut,Complete:Qt};function qe(){return h("div",{className:"uppercase flex items-center gap-4 m-auto mt-2",children:[e("i",{className:"pi pi-folder-open"}),e(je,{color:"gray",children:"N\xE3o h\xE1 itens"})]})}const ya="Comp 1",Ca="",Ea=[{ty:4,nm:"circle outline",mn:"",sr:1,st:0,op:180,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[0,0,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[55.228,0],[0,-55.228],[-55.228,0]],o:[[0,-55.228],[-55.228,0],[0,55.228],[55.228,0]],v:[[0,0],[-100,-100],[-200,0],[-100,100]]},ix:2}},{ty:"sh",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[0,55.228],[-55.228,0],[0,-55.228],[55.228,0]],o:[[0,-55.228],[55.228,0],[0,55.228],[-55.228,0]],v:[[0,0],[100,-100],[200,0],[100,100]]},ix:2}},{ty:"tm",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:0,k:80,ix:2},o:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:3},s:{a:0,k:100,ix:1},m:2},{ty:"st",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100,ix:4},w:{a:0,k:52,ix:5},d:[],c:{a:0,k:[.4,.1608,.4667],ix:3}}],ind:1,parent:2},{ty:4,nm:"circle",mn:"",sr:1,st:0,op:200,ip:0,hd:!1,cl:"",ln:"",ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[960,540,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[360],t:60}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 1",d:1,p:{a:0,k:[-100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"el",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Shape - Ellipse",nm:"Ellipse Path 2",d:1,p:{a:0,k:[100,0],ix:3},s:{a:0,k:[100,100],ix:2}},{ty:"fl",bm:0,cl:"",ln:"",hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.4,.1608,.4667],ix:4},r:1,o:{a:0,k:100,ix:5}}],ind:2}],Aa=0,Sa=1080,Ia=1920,Ta={a:"",k:"",d:"",g:"@lottiefiles/toolkit-js 0.22.1",tc:"#000000"},wa="5.7.4",Na=30,Da=180,_a=0,Fa=[],Wt={nm:ya,mn:Ca,layers:Ea,ddd:Aa,h:Sa,w:Ia,meta:Ta,v:wa,fr:Na,op:Da,ip:_a,assets:Fa},Jt=Object.freeze(Object.defineProperty({__proto__:null,nm:ya,mn:Ca,layers:Ea,ddd:Aa,h:Sa,w:Ia,meta:Ta,v:wa,fr:Na,op:Da,ip:_a,assets:Fa,default:Wt},Symbol.toStringTag,{value:"Module"}));function Ue(){return e("div",{className:"flex items-center justify-center",children:e(ut,{loop:!0,animationData:Jt,play:!0,style:{width:200,height:200}})})}var R=(a=>(a.queue_avaliation="queue_avaliation",a.avaliation="avaliation",a.queue_devolutiva="queue_devolutiva",a.devolutiva="devolutiva",a.queue_therapy="queue_therapy",a.therapy="therapy",a.crud_therapy="crud_therapy",a))(R||{});const ka=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data do Contato",id:"dataContato",name:"dataContato",type:"date",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Per\xEDodo",id:"periodoId",name:"periodos",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-3"},{labelText:"Tipo Sess\xE3o",id:"tipoSessaoId",name:"tipoSessao",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Prioridade",id:"statusId",name:"status",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}],Kt=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data Contato",id:"dataVoltouAba",name:"dataVoltouAba",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Per\xEDodo",id:"periodoId",name:"periodos",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-4"},{labelText:"Prioridade",id:"statusId",name:"status",type:"select",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}],Zt=[{permission:"CADASTRO_PACIENTES",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"CADASTRO_PACIENTES",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1}],Xt=[{labelText:"Paciente",id:"nome",name:"pacientes",type:"text",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Carteirinha",id:"carteirinha",name:"carteirinha",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Data de nascimento",id:"dataNascimento",name:"dataNascimento",type:"date",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Respons\xE1vel",id:"responsavel",name:"responsavel",type:"text",customCol:"col-span-6 sm:col-span-4",singleSelect:!1,validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Telefone",id:"telefone",name:"telefone",type:"tel",customCol:"col-span-6 sm:col-span-2",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Conv\xEAnio",id:"convenioId",name:"convenios",type:"select",customCol:"col-span-6 sm:col-span-3",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Especialidade",id:"especialidades",name:"especialidades",type:"multiselect",singleSelect:!1,validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-3"},{labelText:"",id:"sessao",name:"sessao",type:"dataTableSessaoHeron",validate:{required:"Campo obrigat\xF3rio!"},customCol:"col-span-6 sm:col-span-6 mb-8"},{labelText:"Observa\xE7\xE3o",id:"observacao",name:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",singleSelect:!1,validate:{required:!1}}];function Ie({type:a="simples",iconButtonFooter:s,textButtonFooter:n,onClickLink:o,onClick:r,onClickEdit:d,onClickTrash:c,onClickReturn:x,items:m,screen:g,loading:p=!1}){const{hasPermition:I}=ee(),y=i=>{var k;if(!i.status||i.statusPacienteCod===R.crud_therapy)return null;const _=`${(k=i.status)==null?void 0:k.nome}`;switch(_){case"Urgente":return e(de,{text:"Prioridade: ",subtext:h("strong",{className:"text-red-900  px-1 flex",children:[_,h("span",{className:"flex h-2 w-2 relative",children:[e("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-900"})]})]}),size:"sm",color:"gray-dark",display:"flex"});case"Padr\xE3o":return e(de,{text:"Prioridade: ",subtext:"Padr\xE3o",size:"sm",color:"gray-dark",display:"flex"});case"Voltou ABA":return e(de,{text:"Prioridade: ",subtext:"Voltou ABA",size:"sm",color:"gray-dark",display:"flex"})}},w=()=>m.map(i=>{var v,u;const _=(i==null?void 0:i.nome)||(i==null?void 0:i.casa),k=((v=i==null?void 0:i.perfil)==null?void 0:v.nome.toUpperCase())||(i==null?void 0:i.sala)||((u=i==null?void 0:i.especialidade)==null?void 0:u.nome),V=(i==null?void 0:i.login)||"",T=!!(i!=null&&i.ativo);return e(Pe.Simples,{textPrimaryLeft:_,textPrimaryRight:k,textSecondLeft:V,onClickLink:()=>o(i),onClick:()=>r(i),textButtonFooter:n,iconButtonFooter:s,typeButtonFooter:"second",sizeButtonFooter:"sm",onClickEdit:()=>d(i),onClickTrash:()=>c(i),onClickReturn:()=>x(i),actionEdit:T,actionTrash:T,actionReturn:!T,screen:g},(i==null?void 0:i.login)||i.id)}),l=()=>m.map(i=>{var U,Z,S,q,f,P,C,b;const _=i==null?void 0:i.nome,k=i==null?void 0:i.idade,V=i!=null&&i.responsavel?`Respons\xE1vel: ${i.responsavel}`:"",T=i==null?void 0:i.telefone;let v=i!=null&&i.convenio?i==null?void 0:i.convenio.nome:"";const u=(U=i==null?void 0:i.vaga)==null?void 0:U.observacao,N=!!(i!=null&&i.disabled);let L;const F={text:"",icon:"",type:"second",size:"md"};let z=!1;if(g!=="CADASTRO_PACIENTES")switch(!0){case(i.vaga.naFila&&i.statusPacienteCod!==R.queue_devolutiva&&i.statusPacienteCod!==R.devolutiva&&I(`${g}_LISTA_BOTAO_AGENDAR`)):F.text="Agendar",F.icon="pi pi-calendar-minus",F.type="primary",F.size="md",L="agendar";break;case(g!=="FILA_DEVOLUTIVA"&&!i.vaga.naFila&&I(`${g}_LISTA_BOTAO_RETORNAR_AGENDAR`)):F.text="Retornar",F.icon="pi pi-sync",F.type="second",F.size="md",L="retornar";break;case(g==="FILA_DEVOLUTIVA"&&i.statusPacienteCod===R.queue_devolutiva):F.text="Devolutiva",F.icon="pi pi-check-circle",F.type="primary",F.size="md",L="devolutiva",z=!0;break;case(i.statusPacienteCod===R.devolutiva&&!i.naFila):F.text="Voltou ABA",F.icon="pi pi-file-export",F.type="primary",F.size="md",L="voltou_aba";break}const H=i==null?void 0:i.vaga.especialidades.map($=>({type:$.especialidade.nome,disabled:$.agendado}));return e(Pe.Complete,{textPrimaryLeft:_,textPrimaryCenter:k,textSecondLeft:V,textSecondCenter:T,textPrimaryRight:e(de,{text:"Carteirinha: ",subtext:i.carteirinha,size:"sm",color:"gray-dark",display:"flex"}),textSecondRight:v,textFooter:u,onClick:()=>r({item:i,typeButtonFooter:L}),textButtonFooter:F.text,iconButtonFooter:F.icon,typeButtonFooter:F.type,isDevolutiva:z,tags:H,onClickLink:()=>o(i),sizeButtonFooter:"sm",onClickEdit:()=>d(i),onClickTrash:()=>c(i),onClickReturn:()=>x({item:i,typeButtonFooter:L}),actionEdit:!N,actionTrash:!N,actionReturn:N,screen:g,children:!i.emAtendimento&&h("div",{className:"flex justify-between",children:[h("div",{className:"sm:flex items-center sm:gap-4",children:[R.crud_therapy!==(i==null?void 0:i.statusPacienteCod)&&h(M,{children:[e(de,{text:"Per\xEDodo: ",subtext:(S=(Z=i==null?void 0:i.vaga)==null?void 0:Z.periodo)==null?void 0:S.nome,size:"sm",color:"gray-dark",display:"flex"}),e(de,{text:"Tipo: ",subtext:(q=i==null?void 0:i.tipoSessao)==null?void 0:q.nome,size:"sm",color:"gray-dark",display:"flex"})]}),y(i),((f=i.vaga)==null?void 0:f.dataDevolutiva)&&e(de,{className:"font-inter",text:"Devolutiva:",subtext:ea((P=i.vaga)==null?void 0:P.dataDevolutiva),size:"sm",color:"gray-dark",display:"flex"})]}),((C=i==null?void 0:i.vaga)==null?void 0:C.dataContato)&&e("div",{className:"text-end",children:e(de,{className:"font-inter",text:"Inclus\xE3o: ",subtext:ea((b=i==null?void 0:i.vaga)==null?void 0:b.dataContato),size:"sm",color:"gray-dark",display:"flex"})})]})},i.id)}),E=()=>p?e(Ue,{}):m.length?e("ul",{className:"-my-6 divide-y divide-gray-200 grid gap-4 items-center",children:a==="simples"?w():l()}):e(qe,{});return e("div",{className:"pointer-events-auto flex-1",children:e("div",{className:"flex flex-col  bg-white ",children:e("div",{className:fe("flex-1  overflow-y-auto py-6",{"flex  justify-center":!m.length}),children:e("div",{className:"",children:e("div",{className:"flow-root",children:E()})})})})})}function ge({id:a,legend:s,fields:n,screen:o,loading:r,nameButton:d,dropdown:c,onSubmit:x,onInclude:m,onReset:g}){const{setValue:p,handleSubmit:I,control:y,reset:w}=ve(),{hasPermition:l}=ee(),E=()=>{w(),g()},i=_=>{_.devolutiva&&(p("naFila",!0),_.naFila=!0),x(_)};return t.exports.useEffect(()=>{l(`${o}_FILTRO_SELECT_AGENDADOS`)||p("naFila",!0)}),e(Le,{children:e(Oe,{header:s,tabIndex:0,children:h("form",{id:a,action:"#",onSubmit:I(i),className:"flex-1",children:[e("div",{className:"grid grid-cols-6 gap-4",children:n.map(_=>l(_.permission)&&e(Q,{labelText:_.labelText,id:_.id,type:_.type,customCol:_.customCol,control:y,options:_.type==="select"?c[_.name]:void 0},_.id))}),e("div",{className:"flex items-center mt-10 gap-2 justify-between",children:h(M,{children:[m&&l(`${o}_FILTRO_BOTAO_CADASTRAR`)&&e("div",{className:"sm:text-end",children:e(W,{text:d||"Cadastrar",icon:"pi pi-user-plus",type:"primary",size:"sm",onClick:m})}),e("div",{className:"hidden sm:w-2/4 ml-auto sm:grid grid-cols-2 gap-2",children:h(M,{children:[l(`${o}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(W,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"full",onClick:E})}),l(`${o}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(W,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"full",loading:r,onClick:()=>I(i)})})]})}),e("div",{className:"sm:w-2/4 ml-auto grid sm:hidden grid-cols-2 gap-2",children:h(M,{children:[l(`${o}_FILTRO_BOTAO_LIMPAR`)&&e("div",{className:"text-end",children:e(W,{text:"Limpar",icon:"pi pi-filter-slash",type:"second",size:"icon",onClick:E})}),l(`${o}_FILTRO_BOTAO_PESQUISAR`)&&e("div",{className:"text-end",children:e(W,{text:"Pesquisar",icon:"pi pi-filter",type:"primary",size:"icon",loading:r,onClick:()=>I(i)})})]})})]})})]})})})}function es({heading:a}){return h("div",{className:"mb-10 text-center",children:[e("div",{className:"flex justify-center",children:e("img",{alt:"",className:"h-32 ",src:kt})}),e(je,{size:"lg",children:a})]})}const as=[{labelText:"Login",labelFor:"login",id:"login",name:"login",type:"text",autoComplete:"email",isRequired:!0,placeholder:"Login",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o xxx.xxx"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Senha",labelFor:"senha",id:"senha",name:"senha",type:"password",isRequired:!0,placeholder:"Senha",validate:{required:"Campo obrigat\xF3rio!"}}],ts=[{permission:"FILA_AVALIACAO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Tipo sess\xE3o",id:"tipoSessoes",name:"tipoSessao",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_INATIVOS",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],ss=[{permission:"FILA_AVALIACAO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Tipo sess\xE3o",id:"tipoSessoes",name:"tipoSessao",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1},{permission:"FILA_AVALIACAO_FILTRO_SELECT_TIPO_SESSAO",labelText:"Devolutiva Agendadas",id:"isDevolutiva",name:"isDevolutiva",customCol:"col-span-6 sm:col-span-2",type:"switch",singleSelect:!1}],os=[{permission:"FILA_TERAPIA_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacientes",name:"pacientes",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_CONVENIO",labelText:"Conv\xEAnio",id:"convenios",name:"convenios",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_ESPECIALIDADE",labelText:"Especialidade",id:"especialidades",name:"especialidades",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_PERIODOS",labelText:"Per\xEDodos",id:"periodos",name:"periodos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_PRIORIDADE",labelText:"Prioridade",id:"status",name:"status",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_AGENDADOS",labelText:"Agendados",id:"naFila",name:"naFila",customCol:"col-span-3 sm:col-span-2",type:"switch",singleSelect:!1},{permission:"FILA_TERAPIA_FILTRO_SELECT_INATIVOS",labelText:"Inativos",id:"disabled",name:"disabled",customCol:"col-span-3 sm:col-span-1",type:"switch",singleSelect:!1}],ns=[{labelText:"Nome",id:"nome",name:"nome",type:"text",customCol:"col-span-6 sm:col-span-6",validate:{pattern:{value:/^[ a-zA-Zá]*$/i,message:"Apenas letras"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Login",id:"login",name:"login",type:"text",customCol:"col-span-6 sm:col-span-3",validate:{pattern:{value:/^([a-z]{3,})+\.([a-z]{3,})$/i,message:"formato padr\xE3o, ex.: nome.sobrenome"},required:"Campo obrigat\xF3rio!",minlength:8}},{labelText:"Perfil",id:"perfilId",name:"perfies",type:"select",customCol:"col-span-6 sm:col-span-3",validate:{required:"Campo obrigat\xF3rio!"}},{labelText:"Permiss\xE3o",id:"permissoesId",name:"permissoes",type:"picker",customCol:"col-span-6 sm:col-span-6 mt-8"},{labelText:"Especialidade",id:"especialidadeId",name:"especialidades",type:"select",customCol:"col-span-6 sm:col-span-3",hidden:!0},{labelText:"Fun\xE7\xE3o",id:"funcoesId",name:"funcoes",type:"multiselect",customCol:"col-span-6 sm:col-span-3",hidden:!0},{labelText:"",id:"comissao",name:"comissao",type:"dataTableSessaoHeron",customCol:"col-span-6 sm:col-span-6 mb-8",hidden:!0},{labelText:"",id:"cargaHoraria",name:"cargaHoraria",type:"dataTable",customCol:"col-span-6 sm:col-span-6 mb-12",hidden:!0}],is=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"Nome",customCol:"col-span-6 sm:col-span-6",type:"text",validate:{required:!0}},{labelText:"Especialidade",labelFor:"especialidades",id:"especialidadeId",name:"especialidades",autoComplete:"especialidades",isRequired:!1,placeholder:"Especialidades",customCol:"col-span-6",type:"select",singleSelect:!1}],rs=[{labelText:"Casa",labelFor:"casa",id:"casa",name:"casa",autoComplete:"casa",isRequired:!0,placeholder:"Casa",customCol:"col-span-6",type:"text",validate:{required:!0}},{labelText:"Sala",labelFor:"sala",id:"sala",name:"sala",autoComplete:"sala",isRequired:!0,placeholder:"Sala",customCol:"col-span-6",type:"text",validate:{required:!0}}],ls=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}}],cs=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}}],ds=[{labelText:"Nome",labelFor:"nome",id:"nome",name:"nome",autoComplete:"nome",isRequired:!0,placeholder:"nome",customCol:"col-span-6",type:"text",validate:{required:!0}},{labelText:"Cobrar",id:"cobrar",name:"cobrar",customCol:"col-span-1",type:"switch",validate:{required:!1}}],ps=[{permission:"AGENDA_FILTRO_SELECT_PACIENTE",labelText:"Pacientes",labelFor:"pacientes",id:"pacienteId",name:"pacientes",autoComplete:"paciente",isRequired:!1,placeholder:"Paciente",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"AGENDA_FILTRO_SELECT_TERAPEUTAS",labelText:"Terapeutas",labelFor:"terapeutas",id:"terapeutaId",name:"terapeutas",autoComplete:"terapeuta",isRequired:!1,placeholder:"terapeuta",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1,hidden:!0},{permission:"AGENDA_FILTRO_SELECT_STATUS_EVENTOS",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1},{permission:"AGENDA_FILTRO_SELECT_MODALIDADE",labelText:"Modalidade",labelFor:"modalidades",id:"modalidadeId",name:"modalidades",autoComplete:"modalidade",isRequired:!1,placeholder:"modalidade",customCol:"col-span-6 sm:col-span-3",type:"select",singleSelect:!1}],us={usuariosFields:ns,funcaoFields:is,localidadeFields:rs,modalidadeFields:ls,frequenciaFields:cs,statusEventosFields:ds},La=as,ms={};La.forEach(a=>ms[a.id]="");function fs(){const a={login:"",senha:""},[s,n]=t.exports.useState(!1),[o,r]=t.exports.useState(!1),{renderToast:d}=le(),{handleSubmit:c,formState:{errors:x},setValue:m,watch:g,control:p}=ve({defaultValues:a}),{Login:I}=$e(),y=async({login:l,senha:E})=>{r(!0);try{await I({login:l,senha:E}),r(!1)}catch{r(!1),d({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},w=async l=>{n(l),localStorage.setItem("rememberCheck",JSON.stringify(l)),l?(localStorage.setItem("rememberCheck","true"),localStorage.setItem("rememberLogin",JSON.stringify({login:g("login"),senha:g("senha")}))):(localStorage.removeItem("rememberLogin"),localStorage.setItem("rememberCheck","false"))};return t.exports.useEffect(()=>{const l=localStorage.getItem("rememberLogin");if(l){const{login:E,senha:i}=JSON.parse(l);n(!0),m("login",E),m("senha",i)}},[]),h("form",{className:"mt-8 space-y-6",onSubmit:c(y),children:[e("div",{children:La.map(l=>e(Q,{id:l.id,type:l.type,labelText:l.labelText,control:p,validate:l.validate,errors:x},l.id))}),e(Q,{id:"checkbox-login",labelText:"Lembrar login",type:"checkbox",control:p,onChange:w,value:s}),e(W,{text:"Entrar",type:"primary",size:"full",onClick:c(y),loading:o})]})}const hs="@heron-list/web",xs="0.9.0-beta.5",gs="module",vs="heroku-20",bs={dev:"vite --port=3000",start:"node serve.js",preview:"vite preview",sb:"start-storybook -p 6006","build-storybook":"build-storybook",format:'prettier --write "src/**/*.{ts,js,tsx}"',lint:'eslint "src/**/*.{ts,js}" --quiet',build:"tsc && vite build"},ys={"@fullcalendar/core":"5.11.3","@fullcalendar/daygrid":"5.11.3","@fullcalendar/interaction":"5.11.3","@fullcalendar/list":"5.11.3","@fullcalendar/moment":"5.11.3","@fullcalendar/moment-timezone":"5.11.3","@fullcalendar/react":"5.11.2","@fullcalendar/rrule":"5.11.3","@fullcalendar/timegrid":"5.11.3","@vitejs/plugin-react-refresh":"^1.3.6",autoprefixer:"10.4.12",axios:"1.1.3","chart.js":"3.9.1",clsx:"1.2.1",cors:"2.8.5",express:"4.18.2","lottie-react":"2.3.1",moment:"2.29.4","postcss-import":"15.0.0",primeicons:"6.0.1",primereact:"8.7.0",quill:"1.3.7",react:"18.2.0","react-chartjs-2":"4.3.1","react-dom":"18.2.0","react-hook-form":"7.37.0","react-lottie-player":"1.5.4","react-router-dom":"6.4.2",rrule:"2.7.1",url:"0.11.0","web-vitals":"2.1.4","workbox-background-sync":"6.5.4","workbox-broadcast-update":"6.5.4","workbox-cacheable-response":"6.5.4","workbox-core":"6.5.4","workbox-expiration":"6.5.4","workbox-google-analytics":"6.5.4","workbox-navigation-preload":"6.5.4","workbox-precaching":"6.5.4","workbox-range-requests":"6.5.4","workbox-routing":"6.5.4","workbox-strategies":"6.5.4","workbox-streams":"6.5.4",xlsx:"^0.18.5"},Cs={"@babel/core":"7.19.3","@types/react":"18.0.17","@types/react-dom":"18.0.6","@vitejs/plugin-react":"2.1.0","babel-loader":"8.2.5",prettier:"latest","standard-version":"9.5.0",tailwindcss:"3.2.1",typescript:"4.8.4",vite:"3.1.0","workbox-build":"6.5.4"},Es={name:hs,version:xs,private:!0,type:gs,stack:vs,scripts:bs,dependencies:ys,devDependencies:Cs};function sa(){const[a,s]=t.exports.useState(""),n=t.exports.useCallback(async()=>{const o=await se("/");s(`vers\xE3o frontend: ${Es.version} - ${o}`)},[]);return t.exports.useEffect(()=>{n()},[n]),h(M,{children:[e(es,{heading:"Fila de Espera"}),e(fs,{}),e("div",{className:"text-xs absolute bottom-0 text-gray-300 left-0  w-full flex justify-center",children:e("div",{className:"",children:a})})]})}const As=()=>e("div",{className:"min-h-full h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-md w-full space-y-8",children:e(na,{children:h(ca,{children:[e(He,{path:"/",element:e(sa,{})}),e(He,{path:"*",element:e(sa,{})})]})})})}),Ss=({children:a})=>e("main",{className:"h-screen overflow-y-auto bg-white",children:e("div",{className:"py-6 px-1 sm:px-8 lg:px-4  my-8 mb-2",children:e("div",{className:"py-6",children:a})})}),Is="/assets/logo-md-write.dfbf1470.png",Ts=()=>{const{Logout:a}=$e(),{hasPermition:s,permissions:n}=ee(),[o,r]=t.exports.useState([]),d=Object.values(za),c="font-medium hover:cursor-pointer text-white text-xs sm:text-base px-3 sm:py-6 font-sans  border-violet-800 md:border-white md:border-b-2",x="font-medium hover:cursor-pointer text-white text-xs sm:text-base px-3 sm:py-6 font-sans hover:border-white   border-none";t.exports.useMemo(async()=>{const g=await Promise.all(d.filter(I=>s(I))),p=await Promise.all(g.map(I=>({label:I,template:(y,w)=>e(Ke,{to:`${y.label}`,className:({isActive:l})=>l?c:x,children:Rt(y.label)},y.label)})));r(p)},[]);const m=h(Ke,{to:"/login",className:"rounded-full bg-violet-800 p-1 mr-8 text-yellow-400 hover:text-violet-200 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",onClick:a,children:[e("span",{className:"sr-only",children:"Sair"}),e("i",{className:"pi pi-sign-out"})]});return t.exports.useEffect(()=>{n.length},[n]),e(ct,{className:"bg-violet-800 fixed w-full mb-10 z-30 text-white h-16 rounded-none border-none p-2 text-sm font-sans",model:o,start:e("img",{className:"h-12 sm:h-24 py-2",src:Is,alt:"logo"}),end:m})},Oa=t.exports.createContext({}),ws=({children:a})=>{const{perfil:s}=ee(),n=[{nome:"S",value:0},{nome:"T",value:1},{nome:"Q",value:2},{nome:"Q",value:3},{nome:"S",value:4},{nome:"S",value:5}],o=t.exports.useCallback(async S=>await X(`paciente?statusPacienteCod=${S}`),[]),r=t.exports.useCallback(async S=>await X(`paciente-terapeuta?terapeutaId=${S}`),[]),d=t.exports.useMemo(async()=>await X("especialidade"),[]),c=t.exports.useCallback(async()=>await X("statusEventos"),[]),x=t.exports.useCallback(async S=>await X(`modalidade?statusPacienteCod=${S}`),[]),m=t.exports.useCallback(async()=>await X("frequencia"),[]),g=t.exports.useCallback(async()=>await X("localidade"),[]),p=t.exports.useCallback(async()=>await X("funcao"),[]),I=t.exports.useMemo(async()=>await X("perfil"),[]),y=t.exports.useCallback(async()=>await X("periodo"),[]),w=t.exports.useCallback(async S=>await X(`status?statusPacienteCod=${S}`),[]),l=t.exports.useCallback(async()=>await X("tipo-sessao"),[]),E=t.exports.useCallback(async(S,q)=>await X("paciente-especialidade",`pacienteId=${S}&statusPacienteCod=${q}`),[]),i=t.exports.useCallback(async S=>await X("especialidade-funcao",`especialidade=${S}`),[]),_=t.exports.useCallback(async S=>await X("especialidade-terapeuta",`especialidade=${S}`),[]),k=t.exports.useCallback(async S=>await X("terapeuta-funcao",`terapeutaId=${S}`),[]),V=t.exports.useMemo(async()=>await X("convenio"),[]),T=t.exports.useMemo(async()=>await X("permissao"),[]),v=async()=>await X("terapeuta"),u=async()=>await X("intervalo"),N=async S=>({pacientes:await o(S),statusEventos:await c(),modalidades:await x(S),frequencias:await m(),localidades:await g(),funcoes:await p(),terapeutas:await v(),especialidades:await d,intervalos:await u(),diasFrequencia:n}),L=async(S,q)=>({pacientes:await o(S),statusEventos:await c(),modalidades:await x(S),frequencias:await m(),localidades:await g(),funcoes:await p(),terapeutas:await v(),especialidades:await E(q,S),intervalos:await u(),diasFrequencia:n}),F=async S=>({pacientes:await o(S),convenios:await V,especialidades:await d,tipoSessao:await l(),periodos:await y(),status:await w(S)}),z=async S=>({pacientes:await o(S),statusEventos:await c(),modalidades:await x(S),terapeutas:await v(),especialidades:await d,convenios:await V,tipoSessao:await l(),status:await w(S)}),H=async S=>{let q;if(s===It||s===Tt||s===wt){const P=await sessionStorage.getItem("auth"),C=JSON.parse(P);q=await r(C.id)}else q=await o(S);return{pacientes:q,statusEventos:await c(),modalidades:await x(S),terapeutas:await v()}},U=async S=>({terapeutas:await v(),pacientes:await o(S),statusEventos:await c()}),Z=async()=>({funcoes:await p(),especialidades:await d,perfies:await I,permissoes:await T});return e(Oa.Provider,{value:{renderPacientes:o,renderStatusEventos:c,renderModalidade:x,renderFrequencia:m,renderLocalidade:g,renderFuncao:p,renderTerapeutas:v,renderDropdownCalendario:N,renderDropdownCrud:Z,renderEspecialidadeFuncao:i,renderEspecialidadeTerapeuta:_,renderTerapeutaFuncao:k,renderDropdownPatientCrud:z,renderPacienteEspecialidade:E,renderDropdownQueue:F,renderDropdownQueueCalendar:L,renderDropdownCalendar:H,renderDropdownFinancial:U},children:a})};function he(){return t.exports.useContext(Oa)}function ke({namelist:a,onClick:s,iconButtonFooter:n,textButtonFooter:o,screen:r}){const[d,c]=t.exports.useState([]),[x,m]=t.exports.useState({}),[g,p]=t.exports.useState([]),[I,y]=t.exports.useState(!1),[w,l]=t.exports.useState(!1),[E,i]=t.exports.useState(!0),[_,k]=t.exports.useState(!1),[V,T]=t.exports.useState(!1),v=["especialidadeId","funcoesId","comissao","cargaHoraria"],[u,N]=t.exports.useState([]),[L,F]=t.exports.useState({}),[z,H]=t.exports.useState([]),[U,Z]=t.exports.useState([]),{renderDropdownCrud:S,renderEspecialidadeFuncao:q}=he(),{renderToast:f}=le(),{handleSubmit:P,control:C,formState:{errors:b},setValue:$,unregister:Y,reset:oe}=ve(),G=t.exports.useCallback(async()=>{k(!0);try{const D=await se(a);c(D),k(!1)}catch{k(!1)}I&&y(!1)},[]),J=async D=>{try{if(D.search===void 0)return;k(!0);const A=await At(a,D.search),O=A.status===200?A.data:[];c(O),k(!1)}catch(A){k(!1),Ee(A)}},ye=async D=>{try{k(!0);let A;const O={...D};Object.keys(D).forEach(j=>{if(j.indexOf("Id")!==-1){if(!D[j]||typeof D[j][0]=="number"){delete O[j];return}Array.isArray(D[j])&&D[j].length?O[j]=O[j].map(K=>K.id):O[j]=D[j].id}}),delete O.search,w?(O.id=x.id,A=await re(a,O)):A=await Qe(a,O),oe(),G(),l(!1),y(!1),f({type:"success",title:"",message:A.data.message,open:!0})}catch({message:A}){f({type:"failure",title:"401",message:`${A}`,open:!0}),k(!1);return}},Ce=async()=>{try{await re(a,x),G(),T(!1),f({type:"success",title:" Sucesso!! ",message:"Atualizado com sucesso!",open:!0})}catch({response:D}){Ee(D)}},Ee=({data:D})=>{f({type:"failure",title:"401",message:(D==null?void 0:D.message)||"N\xE3o foi poss\xEDvel realizar!",open:!0})},Ae=async(D,A)=>{switch(A){case"perfilId":const O=D.nome!=="Terapeuta"&&D.nome!=="Coordenador-terapeuta";i(O),O||Y(v,{keepDirtyValues:!0});break;case"especialidadeId":$("funcoesId",[]);const j=await q(D==null?void 0:D.nome);Z({...U,funcoes:j});break;case"cargaHoraria":F(D),$("cargaHoraria",D);break;case"funcoesId":const K=D.map(Fe=>({funcao:Fe.nome,funcaoId:Fe.id,valor:ce.format(80),tipo:"Fixo"}));$("comissao",K),N(K)}},we=(D,A)=>{switch(a){case"usuarios":Ae(D,A);break}},Ne=t.exports.useCallback(async()=>{const D=await S();Z(D)},[]),De=D=>{switch(D.type){case"select":case"multiselect":case"picker":return U[D.name]}},_e=D=>{switch(D.type){case"picker":return g;case"dataTableSessaoHeron":return u;case"dataTable":return L}};return t.exports.useLayoutEffect(()=>{Ne()},[Ne]),t.exports.useEffect(()=>{const D=`${a}Fields`,A=us[D],O={};A.forEach(j=>O[j.id]=""),H(A)},[]),t.exports.useEffect(()=>{G()},[G]),t.exports.useEffect(()=>{Y(v,{keepDirtyValues:!0})},[]),h(M,{children:[e(Gt,{onClick:()=>{oe(),l(!1),y(!0)},onSubmit:P(J),textButton:"Cadastrar usu\xE1rio",iconButton:"pi pi-plus",control:C,loading:_,screen:r}),e(ae,{children:e(Ie,{loading:_,screen:r,type:"simples",onClickTrash:D=>{D.ativo=!1,m(D),T(!0)},onClickEdit:D=>{const A={...D};F({}),N([]),Object.keys(A).forEach(O=>{typeof A[O]=="object"&&!Array.isArray(A[O])&&O!=="terapeuta"&&O!=="cargaHoraria"&&O.indexOf("Id")===-1&&(A[`${O}Id`]=A[O],O=`${O}Id`),O==="cargaHoraria"&&F(A.cargaHoraria),O==="comissao"&&N(A.comissao),$(O,A[O])}),l(!0),m(A),y(!0),a==="usuarios"&&p(A.permissoesId),A.hasOwnProperty("terapeuta")&&(A==null?void 0:A.terapeuta)!==null?i(!1):(i(!0),Y(v,{keepDirtyValues:!0}))},onClick:D=>s(D.id),items:d,iconButtonFooter:n,textButtonFooter:o,onClickLink:()=>{},onClickReturn:D=>{D.ativo=!0,l(!0),ye(D)}})}),e(ie,{title:"Cadastro",open:I,width:a==="usuarios"?"75vw":"50vw",onClose:()=>{y(!1),oe()},children:h("form",{onSubmit:P(ye),action:"#",className:"grid gap-6",children:[e("div",{className:"grid grid-cols-6 items-center gap-2",children:z.map(D=>e(Q,{labelText:D.labelText,id:D.id,type:D.type,options:De(D),validate:D.validate?D.validate:!E&&{required:"Campo obrigat\xF3rio!"},errors:b,control:C,onChange:A=>we(A,D.id),hidden:a==="usuarios"&&D.hidden&&E,value:_e(D),customCol:D.customCol},D.id))}),e(W,{text:w?"Atualizar":"Cadastrar",type:w?"second":"primary",size:"full",onClick:P(ye),loading:_})]})}),e(be,{onAccept:Ce,onReject:()=>T(!1),onClose:()=>T(!1),title:"Desativar",message:"Deseja realmente desativar?",icon:"pi pi-exclamation-triangle",open:V})]})}const Me=({especialidades:a,onSubmit:s})=>{const{handleSubmit:n,formState:{errors:o},control:r,setValue:d}=ve(),c=x=>{const m=[],g=[];return Object.keys(x).map(p=>{x[p]?m.push(parseInt(p)):g.push(parseInt(p))}),s(m,g)};return h("form",{action:"#",onSubmit:n(c),id:"form-cadastro-patient",children:[e("div",{className:"grid  justify-evenly",children:e("div",{className:" mb-10",children:a.map(x=>(d(`${x.especialidade.id}`,x.agendado),e(Q,{labelText:x.especialidade.nome,id:`${x.especialidade.id}`,type:"switch",errors:o,control:r,customCol:"teste "},x.especialidade.id)))})}),e(W,{text:"Agendado",type:"primary",size:"full",onClick:n(c)})]})},Ns=({title:a,options:s,control:n,id:o,rules:r,disabled:d})=>e("div",{children:h("div",{className:"card",children:[e(pe,{size:"sm",color:"violet",text:a}),e(ne,{name:o,control:n,rules:r,render:({field:c})=>e(dt,{value:c.value,options:s,onChange:c.onChange,optionLabel:"nome",multiple:!0,disabled:d})})]})});B.locale("pt-br");const Te=({value:a,onClose:s,isEdit:n,statusPacienteCod:o})=>{const{hasPermition:r}=ee(),[d,c]=t.exports.useState(!1),[x,m]=t.exports.useState(!1),[g,p]=t.exports.useState(!1),[I,y]=t.exports.useState(!1),[w,l]=t.exports.useState(!1),[E,i]=t.exports.useState(!1),[_,k]=t.exports.useState(!1),[V,T]=t.exports.useState([]),{renderToast:v}=le(),[u,N]=t.exports.useState([]),[L,F]=t.exports.useState([]),[z,H]=t.exports.useState(B(new Date)),{renderDropdownQueueCalendar:U,renderDropdownCalendario:Z,renderEspecialidadeTerapeuta:S,renderTerapeutaFuncao:q,renderPacienteEspecialidade:f}=he(),P=a||{dataInicio:"",dataFim:"",start:"",end:"",paciente:"",especialidade:"",modalidade:"",terapeuta:"",funcao:"",localidade:"",frequencia:"",statusEventos:"",diasFrequencia:[],observacao:""},{getValues:C,setValue:b,unregister:$,handleSubmit:Y,watch:oe,formState:{errors:G},control:J,trigger:ye}=ve({defaultValues:P}),Ce=async(A,O)=>{m(!1);try{if(JSON.stringify(a)===JSON.stringify(A)){v({type:"warning",title:"401",message:"N\xE3o houve altera\xE7\xE3o no evento!",open:!0});return}c(!0);let j;n?(A.id=a.id,A.changeAll=O,j=await re("evento",A)):j=await Qe("evento",A),s(A),v({type:"success",title:"",message:j.data.message,open:!0}),c(!1)}catch({message:j}){v({type:"failure",title:"401",message:`${j}`,open:!0}),c(!1);return}},Ee=A=>{n&&A.frequencia.nome==="Recorrente"?(A.dataAtual=a.dataAtual,F(A),m(!0)):Ce(A,null)},Ae=async(A,O,j="")=>{let K=[];switch(O){case"paciente-especialidade":K=await f(A,o),N({...u,especialidades:K}),b(`funcao${j}`,[]);break;case"especialidade-terapeuta":K=await S(A),N({...u,[`terapeutas${j}`]:K}),b(`funcao${j}`,[]);break;case"terapeuta-funcao":K=await q(A),N({...u,[`funcoes${j}`]:K});break}},we=(A="",O=null)=>(O&&b(`especialidade${A}`,{id:O.especialidade.id,nome:O.especialidade.nome}),h(M,{children:[e(Q,{labelText:"Especialidade",id:`especialidade${A}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:G,control:J,options:u==null?void 0:u.especialidades,onChange:j=>Ae(j.nome,"especialidade-terapeuta",A),validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_ESPECIALIDADE")}),e(Q,{labelText:"Terapeuta",id:`terapeuta${A}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:G,control:J,options:O?O.terapeutas:u.terapeutas,onChange:j=>Ae(j.id,"terapeuta-funcao",A),validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_TERAPEUTA")}),e(Q,{labelText:"Fun\xE7\xE3o",id:`funcao${A}`,type:"select",customCol:"col-span-6 sm:col-span-2",errors:G,control:J,options:u[`funcoes${A}`],validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_FUNCAO")})]})),Ne=t.exports.useCallback(async()=>{let A=[];switch(o){case R.therapy:A=await Z(o);break;case R.queue_avaliation:A=await U(o,a.paciente.id),De();break;case R.queue_devolutiva:A=await U(o,a.paciente.id),D();break;case R.queue_therapy:A=await U(o,a.paciente.id),b("modalidade",A.modalidades[0]);break;default:A=await U(o,a.paciente.id);break}if(N(A),n){const O=B(a.dataAtual),j=Number(O.day()-1);b("diasFrequencia",[j])}},[]),De=()=>{y(!0),b("modalidade",{id:1,nome:"Avalia\xE7\xE3o"}),b("frequencia",{id:2,nome:"Recorrente"}),b("intervalo",{id:1,nome:"Todas Semanas"}),p(!0)},_e=async(A,O)=>{const j=await se(`/pacientes/especialidades?statusPacienteCod=${O}&pacienteId=${A}`);T(j),k(!0)},D=()=>{b("modalidade",{id:2,nome:"Devolutiva"}),p(!1),l(!0),$(["frequencia","intervalo","especialidade"],{keepDirtyValues:!0})};return t.exports.useEffect(()=>{Ne()},[]),t.exports.useEffect(()=>{a!=null&&a.isExterno&&i(!0)},[]),t.exports.useEffect(()=>{o===R.queue_devolutiva&&_e(a.paciente.id,o)},[w]),t.exports.useEffect(()=>{var A,O;n&&((A=a==null?void 0:a.frequencia)==null?void 0:A.nome)==="Recorrente"&&(p(!0),b("dataInicio",a.dataAtual)),n&&((O=a==null?void 0:a.mododalidade)==null?void 0:O.nome)==="Avalia\xE7\xE3o"&&y(!0)},[]),h(M,{children:[h("form",{action:"#",onSubmit:Y(Ee),id:"form-cadastro-agendamento",children:[h("div",{className:"grid grid-cols-6 gap-4 mb-8 overflow-y-auto",children:[e(Q,{labelText:"Modalidade",id:"modalidade",type:"select",customCol:`col-span-6 ${I||n?"sm:col-span-2":"sm:col-span-3"}`,errors:G,control:J,options:u==null?void 0:u.modalidades,onChange:A=>{ye("dataFim",{shouldFocus:!0}),l(A.nome==="Devolutiva"),A.nome==="Avalia\xE7\xE3o"&&De(),A.nome==="Devolutiva"&&D()},validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_MODALIDADE")}),e(Q,{labelText:"Data",id:"dataInicio",type:"date",customCol:`col-span-6 font-inter font-light ${I||n?"sm:col-span-2":"sm:col-span-3"}`,errors:G,control:J,onChange:()=>{const A=C("frequencia");if(A&&(A==null?void 0:A.nome)==="Recorrente"){const O=C("dataInicio"),j=B(O),K=Number(j.day()-1);b("diasFrequencia",[K]),H(j.add(1,"days"))}},validate:{required:!0,min:B(new Date).format("YYYY-MM-DD")},disabled:!r("AGENDA_EVENTO_EDITAR_DATA_INICIO")}),I&&e(Q,{labelText:"Data Final",id:"dataFim",type:"date",customCol:"col-span-6 sm:col-span-2 font-inter font-light",errors:G,control:J,validate:{min:z.format("YYYY-MM-DD")},disabled:!r("AGENDA_EVENTO_EDITAR_DATA_FIM")}),e(Q,{labelText:"Horario Inicial",id:"start",type:"time",customCol:`col-span-6 ${g?"sm:col-span-3":"sm:col-span-2"}`,errors:G,control:J,onChange:A=>{var We,Je;const O=C("start"),K=B.duration(O).add(1,"hours"),Fe=((We=K==null?void 0:K._data)==null?void 0:We.hours).toLocaleString("pt-Br",{minimumIntegerDigits:2,useGrouping:!1}),Ba=((Je=K==null?void 0:K._data)==null?void 0:Je.minutes).toLocaleString("pt-Br",{minimumIntegerDigits:2,useGrouping:!1}),Ga=`${Fe}:${Ba}`;b("end",Ga)},validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_HORA_INICIO")}),e(Q,{labelText:"Horario Final",id:"end",type:"time",customCol:`col-span-6 ${g?"sm:col-span-3":"sm:col-span-2"}`,errors:G,control:J,validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_HORA_FIM")}),!w&&(!a||a.id===a.groupId)&&e(Q,{labelText:"Frequ\xEAncia",id:"frequencia",type:"select",customCol:"col-span-6 sm:col-span-2",errors:G,control:J,options:u==null?void 0:u.frequencias,onChange:A=>{if(p(A.nome==="Recorrente"),A.nome==="Recorrente"){const O=C("dataInicio"),j=B(O),K=Number(j.day()-1);b("diasFrequencia",[K])}},validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_FREQUENCIA")||n}),g&&e(Q,{labelText:"Intervalo",id:"intervalo",type:"select",customCol:"col-span-6 sm:col-span-2",errors:G,control:J,options:u==null?void 0:u.intervalos,validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_INTERVALO")||n}),g&&e("div",{className:"col-span-6 sm:col-span-2",children:e(Ns,{id:"diasFrequencia",title:"Dias da semana",options:u==null?void 0:u.diasFrequencia,control:J,rules:{required:!!C("frequencias")},disabled:!r("AGENDA_EVENTO_EDITAR_DIAS_FREQUENCIA")||n})}),e("div",{className:"col-span-6"}),e("div",{className:"col-span-6",children:e(je,{size:"md",color:"violet",children:"Informa\xE7\xF5es Para Consulta"})}),e(Q,{labelText:"Paciente",id:"paciente",type:"select",customCol:"col-span-6 sm:col-span-6",errors:G,control:J,options:u==null?void 0:u.pacientes,onChange:A=>{w?_e(A.id,o):(Ae(A.id,"paciente-especialidade"),k(!1))},validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_PACIENTE")}),w&&_?V.map((A,O)=>we(`${O}`,A)):we(),e(Q,{labelText:"Local Externo?",id:"isExterno",type:"switch",customCol:"col-span-6 sm:col-span-1",errors:G,control:J,disabled:!r("AGENDA_EVENTO_EDITAR_LOCALIDADE"),onChange:A=>{i(A)}}),E&&e(Q,{labelText:"km",id:"km",type:"number",customCol:"col-span-6 sm:col-span-1 font-inter font-light",errors:G,control:J,disabled:!r("AGENDA_EVENTO_EDITAR_LOCALIDADE")}),e(Q,{labelText:"Local",id:"localidade",type:"select",customCol:`col-span-6 sm:col-span-${E?"2":"3"}`,errors:G,control:J,options:u==null?void 0:u.localidades,validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_LOCALIDADE")}),e(Q,{labelText:"Status Eventos",id:"statusEventos",type:"select",customCol:"col-span-6 sm:col-span-2",errors:G,control:J,options:u==null?void 0:u.statusEventos,validate:{required:!0},disabled:!r("AGENDA_EVENTO_EDITAR_STATUS_EVENTOS")}),e(Q,{labelText:"Observa\xE7\xE3o",id:"observacao",type:"textarea",customCol:"col-span-6 sm:col-span-6",errors:G,control:J,validate:{required:!1},disabled:!r("AGENDA_EVENTO_EDITAR_OBSERVACAO")})]}),r("AGENDA_EVENTO_BOTAO_ATUALIZAR_SALVAR")?e(W,{text:n?"Atualizar":"Agendar",type:n?"second":"primary",size:"full",onClick:Y(Ee),loading:d}):null]}),e(be,{onAccept:()=>Ce(L,!0),onReject:()=>Ce(L,!1),onClose:()=>m(!1),title:"Evento(s)",message:"Alterar eventos futuros ou apenas o atual?",icon:"pi pi-exclamation-triangle",open:x,acceptLabel:"Eventos Futuros",rejectLabel:"Atual"})]})},ze=({onClose:a,dropdown:s,value:n,statusPacienteCod:o,fieldsCostant:r})=>{const[d,c]=t.exports.useState(!1),{renderToast:x}=le(),[m,g]=t.exports.useState(r),[p,I]=t.exports.useState([]),y=!!(n!=null&&n.nome),w=n||{},{reset:l,handleSubmit:E,formState:{errors:i},control:_,setValue:k}=ve({defaultValues:w}),V=async v=>{c(!0);try{let u;const N=o===R.queue_avaliation?{...v,periodoId:v.periodoId.id,convenioId:v.convenioId.id,statusId:v.statusId.id,tipoSessaoId:v.tipoSessaoId.id,especialidades:v.especialidades.map(L=>L.id),statusPacienteCod:o}:{...v,periodoId:v!=null&&v.periodoId?v==null?void 0:v.periodoId.id:3,convenioId:v.convenioId.id,statusId:v!=null&&v.statusId?v==null?void 0:v.statusId.id:1,tipoSessaoId:2,especialidades:v.especialidades.map(L=>L.id),statusPacienteCod:o};return y?(N.id=n.id,u=await re("pacientes",N)):u=await Qe("pacientes",N),l(),c(!1),x({type:"success",title:"",message:u==null?void 0:u.data.message,open:!0}),a()}catch{c(!1),x({type:"failure",title:"401",message:"N\xE3o cadastrado!",open:!0})}},T=(v,u)=>{switch(u){case"especialidades":const N=v.map(L=>({especialidade:L.nome,especialidadeId:L.id,valor:ce.format(200),km:0}));I(N),k("sessao",N);break}};return t.exports.useEffect(()=>{n!=null&&n.nome&&fa(),n!=null&&n.sessao&&I(n.sessao)},[n]),t.exports.useEffect(()=>{const v=r,u={};v.forEach(N=>u[N.id]=""),g(v)},[]),h("form",{action:"#",onSubmit:E(V),id:"form-cadastro-patient",children:[e("div",{className:"grid grid-cols-6 gap-2 mb-4 min-h-[300px] overflow-y-auto",children:m.map(v=>e(Q,{labelText:v.labelText,id:v.id,type:v.type,customCol:v.customCol,errors:i,validate:v.validate,value:v.id==="sessao"?p:null,control:_,onChange:u=>T(u,v.id),options:v.type==="select"||v.type==="multiselect"?s[v.name]:void 0},v.id))}),e(W,{text:y?"Atualizar":"Cadastrar",type:y?"second":"primary",size:"full",onClick:E(V),loading:d})]})},Ra=Zt,Ds={};Ra.forEach(a=>Ds[a.id]="");function _s(){var C;const a="CADASTRO_PACIENTES",{hasPermition:s}=ee(),[n,o]=t.exports.useState(Ra),[r,d]=t.exports.useState([]),[c,x]=t.exports.useState(),[m,g]=t.exports.useState(),[p,I]=t.exports.useState(!1),[y,w]=t.exports.useState(!1),[l,E]=t.exports.useState(!1),[i,_]=t.exports.useState(!1),[k,V]=t.exports.useState(!1),[T,v]=t.exports.useState([]),{renderDropdownQueue:u,renderPacientes:N}=he(),{renderToast:L}=le(),F=t.exports.useCallback(async()=>{try{V(!0),d([]);const b=await se(`pacientes?statusPacienteCod=${R.crud_therapy}`);d(b),V(!1)}catch{V(!1),L({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),z=async()=>{_(!1);try{const b=await re("paciente/desabilitar",{id:c.id,disabled:!c.disabled});H({disabled:c.disabled}),L({type:"success",title:b.data.message,message:b.data.data,open:!0})}catch{L({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},H=async b=>{V(!0);try{const $={statusPacienteCod:R.crud_therapy};await Object.keys(b).map(G=>{var J;$[G]=((J=b[G])==null?void 0:J.id)||void 0});const Y=await Se("pacientes",$),oe=Y.status===200?Y.data:[];d(oe),V(!1)}catch{V(!1),L({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},U=async(b,$,Y)=>{try{await re(b,$),E(!1),H(Y)}catch({response:oe}){L({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},Z=async({item:b,typeButtonFooter:$})=>{switch($){case"agendar":x(b),S(b),w(!0);break;case"devolutiva":const Y={id:b.vaga.id,devolutiva:!b.vaga.devolutiva};U("vagas/devolutiva",Y,{naFila:!1,devolutiva:b.vaga.devolutiva});break;default:if(b.vaga.especialidades.length===1){const oe=b.vaga.especialidades[0],G={statusPacienteCod:R.crud_therapy,pacienteId:b.id,vagaId:b.vaga.id,id:b.vaga.id,agendar:oe.agendado?[]:[oe.especialidadeId],desagendar:oe.agendado?[oe.especialidadeId]:[]};U("vagas/agendar",G,{naFila:!b.vaga.naFila})}else x(b),S(b),E(!0),w(!0);break}},S=b=>{const $={paciente:{nome:b.nome,id:b.id}};x(b),g($)},q=(b,$)=>{const Y={pacienteId:c.id,vagaId:c.vaga.id,id:c.vaga.id,agendar:b,desagendar:$,statusPacienteCod:R.crud_therapy};E(!1),U("vagas/agendar",Y,{naFila:!c.vaga.naFila})},f=b=>{const $=Ve(b);x($),I(!0)},P=t.exports.useCallback(async()=>{const b=await u(R.crud_therapy);v(b)},[]);return t.exports.useEffect(()=>{s("CADASTRO_PACIENTES_FILTRO_SELECT_AGENDADOS")?F():H({naFila:!0}),P()},[F]),h("div",{className:"grid",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:n,screen:a,onSubmit:H,onReset:F,loading:k,dropdown:T,onInclude:()=>{x(null),I(!0)}}),e(ae,{children:e(Ie,{loading:k,type:"complete",items:r,screen:a,onClick:Z,onClickLink:b=>{x(b),E(!0)},onClickTrash:b=>{x(b),_(!0)},onClickEdit:f,onClickReturn:b=>{x(b),_(!0)}})}),e(ie,{title:"Cadastro de Paciente",open:p,onClose:()=>I(!1),children:e(ze,{onClose:async()=>{const b=await N(R.crud_therapy);v({...T,pacientes:b}),F(),I(!1)},dropdown:T,value:c,statusPacienteCod:R.crud_therapy,fieldsCostant:Xt})}),y&&e(ie,{title:"Agendamento",open:y,onClose:()=>w(!1),width:"80vw",children:e(Te,{value:m,isEdit:!1,statusPacienteCod:R.crud_therapy,onClose:async b=>{U("vagas/agendar/especialidade",{vagaId:c.vaga.id,especialidadeId:b.especialidade.id,statusPacienteCod:R.crud_therapy,pacienteId:b.paciente.id},{naFila:!c.vaga.naFila}),F(),w(!1)}})}),e(ie,{title:"Selecione a(s) especialidade(s) agendada(s)",open:l,onClose:()=>E(!1),children:e(Me,{onSubmit:q,especialidades:(C=c==null?void 0:c.vaga)==null?void 0:C.especialidades})}),e(be,{title:"",onAccept:z,onReject:()=>_(!1),onClose:()=>_(!1),message:`Deseja realmente ${c!=null&&c.disabled?"ativar":"inativar"} o paciente ${c==null?void 0:c.nome}?`,icon:"pi pi-exclamation-triangle",open:i})]})}const Fs=()=>{const{renderToast:a}=le(),{hasPermition:s}=ee(),n=async o=>{try{const{message:r}=await se(`/usuarios/reset-senha/${o}`);a({type:"success",title:"",message:r,open:!0})}catch({message:r}){a({type:"failure",title:"401",message:`${r}`,open:!0});return}};return e("div",{className:"card",children:h(la,{className:"tabview-custom",children:[s("CADASTRO_PACIENTES")?e(xe,{header:"Pacientes",leftIcon:"pi pi-user",children:e(_s,{})}):e(M,{}),s("CADASTRO_USUARIOS")?e(xe,{header:"Usu\xE1rios",leftIcon:"pi pi-user",children:e(ke,{screen:"CADASTRO_USUARIOS",namelist:"usuarios",onClick:n,iconButtonFooter:"pi pi-sync",textButtonFooter:"Reset de senha"})}):e(M,{}),s("CADASTRO_STATUS_EVENTOS")?e(xe,{header:"Status eventos",leftIcon:"pi pi-calendar-plus",children:e(ke,{screen:"CADASTRO_STATUS_EVENTOS",namelist:"statusEventos",onClick:()=>{}})}):e(M,{}),s("CADASTRO_FUNCAO")?e(xe,{header:"Fun\xE7\xE3o",leftIcon:"pi pi-slack",children:e(ke,{screen:"CADASTRO_FUNCAO",namelist:"funcao",onClick:()=>{}})}):e(M,{}),s("CADASTRO_LOCALIDADE")?e(xe,{header:"Localidade",leftIcon:"pi pi-map-marker",children:e(ke,{screen:"CADASTRO_LOCALIDADE",namelist:"localidade",onClick:()=>{}})}):e(M,{})]})})};ht.register(xt,gt,vt,bt,yt,Ct);const ks={responsive:!0,scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}},plugins:{legend:{position:"top",display:!1},title:{display:!1,text:"Prioridades"}}},Ge={labels:[],datasets:[{label:"",data:[],backgroundColor:[],borderColor:[],borderWidth:1}]};function Ls(){const[a,s]=t.exports.useState(Ge),[n,o]=t.exports.useState(Ge),[r,d]=t.exports.useState(Ge),[c,x]=t.exports.useState(""),[m,g]=t.exports.useState(""),[p,I]=t.exports.useState([]),{hasPermition:y}=ee(),w=t.exports.useCallback(async()=>{const u=await se("/pacientes/dashboard");I(u)},[]),l=t.exports.useCallback(async()=>{const u=await se("/vagas/dashboard/tipoSessoes");s(u)},[]),E=t.exports.useCallback(async()=>{const u=await se("/vagas/dashboard/especialidades");o(u)},[]),i=t.exports.useCallback(async()=>{const u=await se("/vagas/dashboard/status");d(u)},[]),_=t.exports.useCallback(async()=>{const u=await se("/vagas/wait");x(u)},[]),k=t.exports.useCallback(async()=>{const{data:u}=await se("/vagas/return");g(u)},[]),V=()=>h("div",{className:"grid sm:gap-2 md:flex md:h-48 sm:grid-cols-3 overflow-hidden",children:[y("DASHBOARD_TEMPO_FILA")?e("div",{className:"w-full",children:e(ae,{children:e(de,{text:"Tempo de espera: ",subtext:c,color:"gray-dark",size:"md",icon:"pi pi-hourglass",display:"grid"})})}):null,y("DASHBOARD_RETORNO_FILA")?e("div",{className:"w-full",children:e(ae,{children:e(de,{text:"Retornos para fila:  ",subtext:m,color:"gray-dark",size:"md",icon:"pi pi-sync",display:"grid"})})}):null,r.length&&y("DASHBOARD_GRAFICO_FILA")?e("div",{className:"",children:e(ae,{children:e("div",{className:"md:h-12",children:e(mt,{options:ks,data:r,height:98,style:{marginTop:"-1rem"}})})})}):null]}),T=(u,N)=>e(ae,{children:h("div",{className:"md:grid gap-4 items-center mx-auto",children:[e(je,{size:"md",children:u}),N&&N.datasets[0].data.length?e("div",{className:"grid justify-center",children:e(ft,{data:N})}):e(qe,{})]})}),v=()=>{const u=me.book_new(),N=me.json_to_sheet(p);me.book_append_sheet(u,N,"Pacientes");const L=`Pacientes_${B().format("DD/MM")}.xlsx`;da(u,L)};return t.exports.useEffect(()=>{i(),_(),l(),k(),E(),w()},[]),h("div",{className:"grid grid-cols-2",children:[h("div",{children:[h("div",{className:"flex gap-4 m-4 items-center",children:[e("div",{className:"sm:text-end",children:e(W,{text:"Download",icon:"pi pi-download",type:"primary",size:"sm",onClick:v})}),e("span",{children:" Pacientes ativos"})]}),h(Re,{value:p,showGridlines:!0,tableStyle:{minWidth:"20rem"},stripedRows:!0,scrollHeight:"400px",virtualScrollerOptions:{itemSize:46},children:[e(te,{field:"nome",header:"Paciente"}),e(te,{field:"telefone",header:"Telefone"}),e(te,{field:"statusPaciente.nome",header:"Status"})]})]}),h("div",{className:"",children:[V(),y("DASHBOARD_GRAFICO_FILA")?h("div",{className:"grid md:grid-cols-2 gap-4 justify-center sm:justify-beteween w-full",children:[T("Especialidades por Demanda",n),T("Tipo de sess\xE3o por Demanda",a)]}):null]})]})}function oa(){const[a,s]=t.exports.useState(),[n,o]=t.exports.useState(!1),{renderToast:r}=le(),{reset:d,handleSubmit:c,formState:{errors:x},control:m}=ve(),g=()=>{const I=sessionStorage.getItem("auth"),y=JSON.parse(I);s(y)},p=async I=>{o(!0);try{I.id=a.login;const{data:y}=await re("/usuarios/reset-senha",I);o(!1),d(),r({type:"success",title:"",message:y.message,open:!0})}catch({message:y}){r({type:"failure",title:"401",message:`${y}`,open:!0}),d();return}};return t.exports.useEffect(()=>{g()},[]),e(M,{children:e(ae,{children:h("div",{className:"grid sm:grid-cols-2",children:[e(de,{text:a==null?void 0:a.nome,subtext:a==null?void 0:a.login,color:"violet",size:"md",icon:"pi pi-id-card",display:"grid"}),h("div",{className:"flex gap-2  my-6 sm:my-0  items-center",children:[e(Q,{labelText:"Alterar senha",id:"senha",type:"password",customCol:" w-full",errors:x,validate:{required:!0},control:m}),e("div",{className:" mt-4 ",children:e(W,{text:"Alterar senha",type:"second",icon:"pi pi-sync",size:"icon",onClick:c(p)})})]})]})})})}const Pa=ts,Os={};Pa.forEach(a=>Os[a.id]="");function Rs(){var q;const{hasPermition:a}=ee(),[s,n]=t.exports.useState([]),[o,r]=t.exports.useState(),[d,c]=t.exports.useState(),[x,m]=t.exports.useState(!1),[g,p]=t.exports.useState(!1),[I,y]=t.exports.useState(!1),[w,l]=t.exports.useState(!1),[E,i]=t.exports.useState(!1),[_,k]=t.exports.useState([]),{renderDropdownQueue:V,renderPacientes:T}=he(),{renderToast:v}=le(),u=t.exports.useCallback(async()=>{i(!0);try{n([]);const f=await se(`pacientes?statusPacienteCod=${R.queue_avaliation}`);n(f),i(!1)}catch({message:f}){i(!1),v({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),N=async()=>{l(!1);try{const f=await re("paciente/desabilitar",{id:o.id,disabled:!o.disabled});L({disabled:o.disabled}),v({type:"success",title:f.data.message,message:f.data.data,open:!0})}catch{v({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},L=async f=>{i(!0);try{const P={naFila:f.naFila===void 0?!0:!f.naFila,disabled:f.disabled===void 0?!1:f.disabled,statusPacienteCod:R.queue_avaliation};delete f.naFila,delete f.disabled,await Object.keys(f).map($=>{var Y;P[$]=((Y=f[$])==null?void 0:Y.id)||void 0});const C=await Se("pacientes",P),b=C.status===200?C.data:[];n(b),i(!1)}catch{i(!1),v({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},F=async(f,P,C)=>{try{await re(f,P),y(!1),L(C)}catch({response:b}){i(!1),v({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},z=async({item:f,typeButtonFooter:P})=>{switch(P){case"agendar":r(f),H(f),p(!0);break;default:if(f.vaga.especialidades.length===1){const C=f.vaga.especialidades[0],b={statusPacienteCod:R.queue_avaliation,pacienteId:f.id,vagaId:f.vaga.id,id:f.vaga.id,agendar:C.agendado?[]:[C.especialidadeId],desagendar:C.agendado?[C.especialidadeId]:[]};F("vagas/agendar",b,{naFila:!f.vaga.naFila})}else r(f),H(f),y(!0),p(!0);break}},H=f=>{const P={paciente:{nome:f.nome,id:f.id}};r(f),c(P)},U=(f,P)=>{const C={pacienteId:o.id,vagaId:o.vaga.id,id:o.vaga.id,agendar:f,desagendar:P,statusPacienteCod:R.queue_avaliation};y(!1),F("vagas/agendar",C,{naFila:!o.vaga.naFila})},Z=f=>{const P=Ve(f);r(P),m(!0)},S=t.exports.useCallback(async()=>{const f=await V(R.queue_avaliation);k(f)},[]);return t.exports.useEffect(()=>{a("FILA_AVALIACAO_FILTRO_SELECT_AGENDADOS")?u():L({naFila:!0}),S()},[u]),h("div",{className:"grid",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:Pa,screen:"FILA_AVALIACAO",onSubmit:L,onReset:u,loading:E,dropdown:_,onInclude:()=>{r(null),m(!0)}}),e(ae,{children:e(Ie,{loading:E,type:"complete",items:s,screen:"FILA_AVALIACAO",onClick:z,onClickLink:f=>{r(f),y(!0)},onClickTrash:f=>{r(f),l(!0)},onClickEdit:Z,onClickReturn:({item:f})=>{r(f),l(!0)}})}),e(ie,{title:"Cadastro de Paciente",open:x,onClose:()=>m(!1),children:e(ze,{onClose:async()=>{const f=await T(R.queue_avaliation);k({..._,pacientes:f}),u(),m(!1)},dropdown:_,value:o,statusPacienteCod:R.queue_avaliation,fieldsCostant:ka})}),g&&e(ie,{title:"Agendamento",open:g,onClose:()=>p(!1),width:"80vw",children:e(Te,{value:d,isEdit:!1,statusPacienteCod:R.queue_avaliation,onClose:async f=>{F("vagas/agendar/especialidade",{vagaId:o.vaga.id,especialidadeId:f.especialidade.id,statusPacienteCod:R.queue_avaliation,pacienteId:f.paciente.id},{naFila:!o.vaga.naFila}),u(),p(!1)}})}),e(ie,{title:"Selecione a(s) especialidade(s) agendada(s)",open:I,onClose:()=>y(!1),children:e(Me,{onSubmit:U,especialidades:(q=o==null?void 0:o.vaga)==null?void 0:q.especialidades})}),e(be,{title:"",onAccept:N,onReject:()=>l(!1),onClose:()=>l(!1),message:`Deseja realmente ${o!=null&&o.disabled?"ativar":"inativar"} o paciente ${o==null?void 0:o.nome}?`,icon:"pi pi-exclamation-triangle",open:w})]})}const qa=ss,Ps={};qa.forEach(a=>Ps[a.id]="");function qs(){var q;const{hasPermition:a}=ee(),[s,n]=t.exports.useState([]),[o,r]=t.exports.useState(),[d,c]=t.exports.useState(),[x,m]=t.exports.useState(!1),[g,p]=t.exports.useState(!1),[I,y]=t.exports.useState(!1),[w,l]=t.exports.useState(!1),[E,i]=t.exports.useState(!1),[_,k]=t.exports.useState([]),{renderDropdownQueue:V,renderPacientes:T}=he(),{renderToast:v}=le(),u=t.exports.useCallback(async()=>{try{i(!0),n([]);const f=await se(`pacientes?statusPacienteCod=${R.queue_devolutiva}`);n(f),i(!1)}catch{i(!1),v({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),N=async()=>{l(!1);try{const f=await re("paciente/desabilitar",{id:o.id,disabled:!o.disabled});L({disabled:o.disabled}),v({type:"success",title:f.data.message,message:f.data.data,open:!0})}catch{v({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},L=async f=>{i(!0);const P={naFila:f.naFila===void 0?!0:!f.naFila,isDevolutiva:f.isDevolutiva===void 0?!1:f.isDevolutiva,disabled:f.disabled===void 0?!1:f.disabled,statusPacienteCod:R.queue_devolutiva};delete f.naFila,delete f.disabled,delete f.isDevolutiva,await Object.keys(f).map($=>{var Y;P[$]=((Y=f[$])==null?void 0:Y.id)||void 0});const C=await Se("pacientes",P),b=C.status===200?C.data:[];n(b),i(!1)},F=async(f,P,C)=>{try{await re(f,P),y(!1),L({})}catch({response:b}){v({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},z=async({item:f,typeButtonFooter:P})=>{switch(P){case"devolutiva":r(f),H(f),p(!0);break;case"voltou_aba":r(f),Z(f);break;default:if(f.vaga.especialidades.length===1){const C=f.vaga.especialidades[0],b={statusPacienteCod:R.queue_devolutiva,pacienteId:f.id,vagaId:f.vaga.id,id:f.vaga.id,agendar:C.agendado?[]:[C.especialidadeId],desagendar:C.agendado?[C.especialidadeId]:[]};F("vagas/agendar",b,{naFila:!f.vaga.naFila})}else r(f),H(f),y(!0),p(!0);break}},H=f=>{const P={paciente:{nome:f.nome,id:f.id}};r(f),c(P)},U=(f,P)=>{const C={pacienteId:o.id,vagaId:o.vaga.id,id:o.vaga.id,agendar:f,desagendar:P,statusPacienteCod:R.queue_devolutiva};y(!1),F("vagas/agendar",C,{naFila:!o.vaga.naFila})},Z=f=>{const P=Ve(f);r(P),m(!0)},S=t.exports.useCallback(async()=>{const f=await V(R.queue_devolutiva);k(f)},[]);return t.exports.useEffect(()=>{a("FILA_AVALIACAO_FILTRO_SELECT_AGENDADOS")?u():L({naFila:!0}),S()},[u]),h("div",{className:"grid",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:qa,screen:"FILA_DEVOLUTIVA",onSubmit:L,onReset:u,loading:E,dropdown:_}),e(ae,{children:e(Ie,{loading:E,type:"complete",items:s,screen:"FILA_DEVOLUTIVA",onClick:z,onClickLink:f=>{r(f),y(!0)},onClickTrash:f=>{r(f),l(!0)},onClickEdit:Z,onClickReturn:f=>{r(f),l(!0)}})}),e(ie,{title:"Cadastro de Paciente",open:x,onClose:()=>m(!1),children:e(ze,{onClose:async()=>{const f=await T(R.queue_devolutiva);k({..._,pacientes:f}),u(),m(!1)},dropdown:_,value:o,statusPacienteCod:R.queue_devolutiva,fieldsCostant:ka})}),g&&e(ie,{title:"Agendamento",open:g,onClose:()=>p(!1),width:"80vw",children:e(Te,{value:d,isEdit:!1,statusPacienteCod:R.queue_devolutiva,onClose:async f=>{const C=Object.keys(f).map(b=>{if(b.includes("especialidade"))return f[b].id}).filter(b=>b!==void 0);F("vagas/agendar/especialidade",{vagaId:o.vaga.id,especialidades:C,statusPacienteCod:R.queue_devolutiva,pacienteId:f.paciente.id},{naFila:!o.vaga.naFila}),u(),p(!1)}})}),e(ie,{title:"Selecione a(s) especialidade(s) agendada(s)",open:I,onClose:()=>y(!1),children:e(Me,{onSubmit:U,especialidades:(q=o==null?void 0:o.vaga)==null?void 0:q.especialidades})}),e(be,{title:"",onAccept:N,onReject:()=>l(!1),onClose:()=>l(!1),message:`Deseja realmente ${o!=null&&o.disabled?"ativar":"inativar"} o paciente ${o==null?void 0:o.nome}?`,icon:"pi pi-exclamation-triangle",open:w})]})}const $a=os,$s={};$a.forEach(a=>$s[a.id]="");function Vs(){var P;const{hasPermition:a}=ee(),[s,n]=t.exports.useState($a),[o,r]=t.exports.useState([]),[d,c]=t.exports.useState(),[x,m]=t.exports.useState(),[g,p]=t.exports.useState(!1),[I,y]=t.exports.useState(!1),[w,l]=t.exports.useState(!1),[E,i]=t.exports.useState(!1),[_,k]=t.exports.useState(!1),[V,T]=t.exports.useState([]),{renderDropdownQueue:v,renderPacientes:u}=he(),{renderToast:N}=le(),L=t.exports.useCallback(async()=>{try{k(!0),r([]);const C=await se(`pacientes?statusPacienteCod=${R.queue_therapy}`);r(C),k(!1)}catch{k(!1),N({type:"failure",title:"Erro!",message:"Falha na conex\xE3o",open:!0})}},[]),F=async()=>{i(!1);try{const C=await re("paciente/desabilitar",{id:d.id,disabled:!d.disabled});z({disabled:d.disabled}),N({type:"success",title:C.data.message,message:C.data.data,open:!0})}catch{N({type:"failure",title:"Erro!",message:"N\xE3o foi poss\xEDvel exclu\xED-lo",open:!0})}},z=async C=>{try{k(!0);const b={naFila:C.naFila===void 0?!0:!C.naFila,disabled:C.disabled===void 0?!1:C.disabled};b.statusPacienteCod=b.naFila?R.queue_therapy:R.therapy,delete C.naFila,delete C.disabled,await Object.keys(C).map(oe=>{var G;b[oe]=((G=C[oe])==null?void 0:G.id)||void 0});const $=await Se("pacientes",b),Y=$.status===200?$.data:[];r(Y),k(!1)}catch{k(!1),N({type:"failure",title:"401",message:"Erro na conex\xE3o!",open:!0})}},H=async(C,b,$)=>{try{await re(C,b),l(!1),z($)}catch({response:Y}){N({type:"failure",title:"401",message:"N\xE3o foi poss\xEDvel agend\xE1-lo!",open:!0})}},U=async({item:C,typeButtonFooter:b})=>{switch(b){case"agendar":c(C),Z(C),y(!0);break;default:if(C.vaga.especialidades.length===1){const $=C.vaga.especialidades[0],Y={statusPacienteCod:R.queue_therapy,pacienteId:C.id,vagaId:C.vaga.id,id:C.vaga.id,agendar:$.agendado?[]:[$.especialidadeId],desagendar:$.agendado?[$.especialidadeId]:[]};H("vagas/agendar",Y,{naFila:!C.vaga.naFila})}else c(C),Z(C),l(!0),y(!0);break}},Z=C=>{const b={paciente:{nome:C.nome,id:C.id}};c(C),m(b)},S=(C,b)=>{const $={statusPacienteCod:R.queue_therapy,pacienteId:d.id,vagaId:d.vaga.id,id:d.vaga.id,agendar:C,desagendar:b};l(!1),H("vagas/agendar",$,{naFila:!d.vaga.naFila})},q=C=>{const b=Ve(C);c(b),p(!0)},f=t.exports.useCallback(async()=>{const C=await v(R.queue_therapy);T(C)},[]);return t.exports.useEffect(()=>{a("FILA_TERAPIA_FILTRO_SELECT_AGENDADOS")?L():z({naFila:!0}),f()},[L]),h("div",{className:"grid",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:s,screen:"FILA_TERAPIA",onSubmit:z,onReset:L,loading:_,dropdown:V,onInclude:()=>{c(null),p(!0)}}),e(ae,{children:e(Ie,{loading:_,type:"complete",items:o,screen:"FILA_TERAPIA",onClick:U,onClickLink:C=>{c(C),l(!0)},onClickTrash:C=>{c(C),i(!0)},onClickEdit:q,onClickReturn:C=>{c(C),i(!0)}})}),e(ie,{title:"Cadastro de Paciente",open:g,onClose:()=>p(!1),children:e(ze,{onClose:async()=>{const C=await u(R.queue_therapy);T({...V,pacientes:C}),L(),p(!1)},dropdown:V,value:d,statusPacienteCod:R.queue_therapy,fieldsCostant:Kt})}),I&&e(ie,{title:"Agendamento",open:I,onClose:()=>y(!1),width:"80vw",children:e(Te,{value:x,isEdit:!1,statusPacienteCod:R.queue_therapy,onClose:async C=>{H("vagas/agendar/especialidade",{vagaId:d.vaga.id,especialidadeId:C.especialidade.id,statusPacienteCod:R.queue_therapy,pacienteId:C.paciente.id},{naFila:!d.vaga.naFila}),L(),y(!1)}})}),e(ie,{title:"Selecione a(s) especialidade(s) agendada(s)",open:w,onClose:()=>l(!1),children:e(Me,{onSubmit:S,especialidades:(P=d==null?void 0:d.vaga)==null?void 0:P.especialidades})}),e(be,{title:"",onAccept:F,onReject:()=>i(!1),onClose:()=>i(!1),message:`Deseja realmente ${d!=null&&d.disabled?"ativar":"inativar"} o paciente ${d==null?void 0:d.nome}?`,icon:"pi pi-exclamation-triangle",open:E})]})}function js(){const{hasPermition:a}=ee();return e("div",{className:"card",children:(()=>h(pt,{className:"tabview-custom",children:[a("FILA_AVALIACAO")?e(Be,{header:"Avaliac\xE3o",leftIcon:"pi pi-user",children:e(Rs,{})}):e(M,{}),a("FILA_DEVOLUTIVA")?e(Be,{header:"Devolutiva",leftIcon:"pi pi-user",children:e(qs,{})}):e(M,{}),a("FILA_TERAPIA")?e(Be,{header:"Terapia",leftIcon:"pi pi-user",children:e(Vs,{})}):e(M,{})]}))()})}const Ms=({events:a,openModalEdit:s,eventMouseEnter:n,onNext:o,onPrev:r,dateClick:d})=>{const c=t.exports.useRef(null),x=(m,g)=>{const p=g==="prev";let I=m.getCurrentData().currentViewType,y,w,l,E,i,_,k=m.getCurrentData().dateProfile.activeRange.end;switch(I){case"dayGridMonth":return y=p?k.getMonth()-1:k.getMonth()+1,w=k.getFullYear(),l=xa(w,y),E=ga(w,y),{type:"dayGridMonth",start:l,end:E};case"timeGridWeek":case"listWeek":i=m.getCurrentData().dateProfile.activeRange.start,_=m.getCurrentData().dateProfile.activeRange.end;const V=B(m.getCurrentData().dateProfile.activeRange.start),T=B(m.getCurrentData().dateProfile.activeRange.end);return l=p?V.subtract(7,"days"):V.add(7,"days"),E=p?T.subtract(7,"days"):T.add(7,"days"),{type:"timeGridWeek",start:l.format("YYYY-MM-DD"),end:E.format("YYYY-MM-DD")};case"timeGridDay":return i=p?B(k).subtract(1,"days"):B(k).add(1,"days"),_=p?B(k):B(k).add(2,"days"),{type:"timeGridDay",start:i.format("YYYY-MM-DD"),end:_.format("YYYY-MM-DD")}}};return t.exports.useEffect(()=>{if(c.current){const m=document.querySelector("#root > div > div.min-h-full.overflow-hidden > main > div > div > div > fieldset > div > div > div > div > div");m.style.height="calc(100vh - 200px)",m.style.overflow="hidden"}},[]),e("div",{children:e("div",{className:"card text-sm font-inter",children:e(Qa,{plugins:[Wa,Ja,Ka,Za,Xa],hiddenDays:[0],slotLabelInterval:"5vw",slotLabelFormat:{hour:"numeric",minute:"2-digit"},slotDuration:"00:20:00",slotMinTime:"08:00:00",slotMaxTime:"20:00:00",allDaySlot:!1,locale:"pt",navLinks:!0,timeZone:"America/Sao_Paulo",initialView:"timeGridWeek",events:a,headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},ref:c,eventClick:s,dayMaxEventRows:!0,views:{timeGrid:{dayMaxEventRows:8}},businessHours:{daysOfWeek:[1,2,3,4,5,6],startTime:"08:00",endTime:"20:00"},buttonText:{month:"M\xEAs",week:"Semana",day:"Dia",list:"Lista"},dateClick:({date:m})=>d(qt(m)),eventMouseEnter:n,eventContent:m=>{},customButtons:{prev:{text:"prev",click:m=>{const g=c.current&&c.current.getApi();let p=x(g,"prev");r(p),g&&g.prev()}},next:{text:"next",click:m=>{const g=c.current&&c.current.getApi();let p=x(g,"next");o(p),g&&g.next()}}}})})})},zs=({evento:a,open:s,onClose:n,onEdit:o,onDelete:r})=>{const[d,c]=t.exports.useState(!0),{hasPermition:x}=ee(),m=p=>{let I=p.modalidade.nome;if(I!=="Avalia\xE7\xE3o"||!(p!=null&&p.dataInicio)||!(p!=null&&p.dataFim))return e("span",{children:I});const y=aa(p.dataInicio,p.dataAtual),w=aa(p.dataInicio,p.dataFim);return e(M,{children:h("span",{children:[I,e("span",{className:"font-inter ml-2",children:`${y}/${w}`})," "]})})},g=h("div",{className:"flex justify-between items-center gap-8",children:[e(va,{type:a.especialidade.nome,disabled:!1}),e("span",{children:a.paciente.nome}),h("div",{className:"flex mt-[-0.5rem]",children:[x("AGENDA_LISTA_EDITAR")?e("div",{children:d&&e(W,{text:"Edit",icon:"pi pi-pencil",type:"transparent",color:"violet",size:"icon",onClick:o})}):null,x("AGENDA_LISTA_EXCLUIR")&&(a==null?void 0:a.canDelete)?e("div",{children:d&&e(W,{text:"Edit",icon:"pi pi-trash",type:"transparent",color:"red",size:"icon",onClick:r})}):null]})]});return t.exports.useEffect(()=>{const p=B().format("YYYY-MM-DD");c(p<=a.dataAtual)}),e(ra,{header:g,visible:s,onHide:n,breakpoints:{"960px":"80vw"},children:h("div",{children:[h("p",{className:"flex gap-4 items-center justify-between",children:[m(a)," ",e("span",{children:a.statusEventos.nome})]}),e("br",{}),h("p",{className:"font-inter font-bold",children:[a.date," \u2022 ",`${a.start} at\xE9 ${a.end}`]}),a.frequencia.id!==1&&h("p",{children:[a.intervalo.nome," \u2022"," ",a==null?void 0:a.diasFrequencia.map(p=>ha[p-1]).join("-")]}),e("br",{}),h("p",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-map-marker"}),a.localidade.nome,a.isExterno&&h("span",{className:"font-bold font-inter",children:[" ",`- ${a.km}km`," "]})]}),e("br",{}),a.observacao?h(M,{children:[h("p",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-bars"}),a.observacao]}),e("br",{})]}):null,h("p",{className:"flex gap-4 items-center",children:[a.terapeuta.nome," ",e("i",{className:"pi pi-tag",children:" "})," ",a.funcao.nome]})]})})},Va=ps,Bs={};Va.forEach(a=>Bs[a.id]="");function Gs(){const a=new Date,[s,n]=t.exports.useState([]),{hasPermition:o}=ee(),[r,d]=t.exports.useState(!1),{renderToast:c}=le(),[x,m]=t.exports.useState([]),{renderDropdownCalendar:g,renderPacientes:p}=he(),[I,y]=t.exports.useState(),[w,l]=t.exports.useState(!1),[E,i]=t.exports.useState(!1),[_,k]=t.exports.useState(!1),[V,T]=t.exports.useState(!1),[v,u]=t.exports.useState([]),[N,L]=t.exports.useState({start:xa(a.getFullYear(),a.getMonth()+1),end:ga(a.getFullYear(),a.getMonth()+1)});async function F(S=N){if(o("AGENDA_EVENTO_TODOS_EVENTOS")){L({start:S.start,end:S.end});const q=await se(`/evento/filter/${S.start}/${S.end}?${s.join("&")}`);u(q)}else{const q=await sessionStorage.getItem("auth"),f=JSON.parse(q);H({terapeutaId:{id:f.id}})}}async function z(){try{await Et(`/evento?id=${I.id}`),F(),k(!1),c({type:"success",title:"",message:"Evento exclu\xEDdo com sucesso!",open:!0})}catch(S){console.error(S),c({type:"failure",title:"401",message:"Evento n\xE3o exclu\xEDdo!",open:!0})}}async function H(S){try{const q=[];Object.keys(S).map(P=>{var C;(C=S[P])!=null&&C.id&&q.push(`${P}=${S[P].id}`)}),n(q);const f=await se(`/evento/filter/${N.start}/${N.end}?${q.join("&")}`);u(f)}catch{d(!1)}}t.exports.useMemo(async()=>{const S=await g(R.therapy);m(S)},[]);const U=({event:S})=>{const q={id:Number(S.id),...S._def.extendedProps,...S._def.extendedProps.data,dataAtual:Pt(S._instance.range.start),date:$t(S._instance.range.start),groupId:S._def.groupId};y(q),k(!0)},Z=()=>{k(!1),l(!0),i(!0)};return t.exports.useEffect(()=>{},[]),t.exports.useEffect(()=>{d(!0),F(),setTimeout(()=>{d(!1)},500)},[]),h("div",{className:"h-max-screen",children:[e(ge,{id:"form-filter-patient",legend:"Filtro",nameButton:"Agendar",fields:Va,onSubmit:H,onReset:F,screen:"AGENDA",loading:r,dropdown:x,onInclude:()=>{y(null),l(!0),i(!1)}}),e(ae,{children:e("div",{className:"flex-1",children:e(Ms,{openModalEdit:U,events:v,onNext:S=>F(S),onPrev:S=>F(S),dateClick:S=>{y({dataInicio:S}),l(!0),i(!1)}})})}),_&&e(zs,{evento:I,open:_,onEdit:Z,onDelete:()=>T(!0),onClose:()=>k(!1)}),w&&o("AGENDA_FILTRO_BOTAO_CADASTRAR")?e(ie,{title:"Agendamento",open:w,onClose:()=>l(!1),width:"80vw",children:e(Te,{value:I,isEdit:E,screen:"calendar",statusPacienteCod:R.therapy,onClose:()=>{y(null),F(),l(!1)}})}):null,e(be,{onAccept:z,onReject:()=>T(!1),onClose:()=>T(!1),title:"Evento(s)",message:"O evento exclu\xEDdo perder\xE1 todo hist\xF3rico. Deseja realmente exclui-lo?",icon:"pi pi-exclamation-triangle",open:V,acceptLabel:"Excluir",rejectLabel:"Cancelar"})]})}const Ys=[{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Terapeuta",id:"terapeutaId",name:"terapeutas",customCol:"col-span-6 sm:col-span-2",type:"select"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1}],Hs=[{permission:"FINANCEIRO_FILTRO_SELECT_PACIENTE",labelText:"Paciente",id:"pacienteId",name:"pacientes",customCol:"col-span-6 sm:col-span-2",type:"select"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_INICIAL",labelText:"Data Inicial",id:"dataInicio",name:"dataInicio",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_DATA_FINAL",labelText:"Data Final",id:"datatFim",name:"datatFim",customCol:"col-span-6 sm:col-span-1",type:"date"},{permission:"FINANCEIRO_FILTRO_SELECT_TERAPEUTA",labelText:"Status Eventos",labelFor:"statusEventos",id:"statusEventosId",name:"statusEventos",autoComplete:"statusEventos",isRequired:!1,placeholder:"statusEventos",customCol:"col-span-6 sm:col-span-2",type:"select",singleSelect:!1}],ja=Ys,Us={};ja.forEach(a=>Us[a.id]="");const Ma=Hs,Qs={};Ma.forEach(a=>Qs[a.id]="");function Ws(){const[a,s]=t.exports.useState(!1),[n,o]=t.exports.useState([]);ee();const{renderDropdownFinancial:r}=he(),[d,c]=t.exports.useState([]),[x,m]=t.exports.useState({}),[g,p]=t.exports.useState({}),I=T=>(c([]),m({}),T),y=async(T,v)=>{s(!0);try{const u={};await Object.keys(T).map(F=>{var z;F.indexOf("Id")!==-1?u[F]=((z=T[F])==null?void 0:z.id)||void 0:u[F]=T[F]}),p({modulo:v,...T});const N=await Se(`financeiro/${v}`,u),L=N.status===200&&(N==null?void 0:N.data)?N.data:[];m(L.geral),c(L.data),s(!1)}catch{s(!1)}},w=t.exports.useCallback(async()=>{const T=await r(R.therapy);o(T)},[]),l=T=>{const v=T.map(u=>u.valorTotal).reduce((u,N)=>u+=N);return ce.format(v)},E=T=>{const v=T.map(u=>u.horas).reduce((u,N)=>{const L=B.duration(u);return L.add(B.duration(N)),L});return Vt(v)},i=(T,v)=>h("span",{className:"",children:[h("span",{className:"image-text mr-24",children:[v," "]}),h("span",{className:"image-text mr-24",children:["Valor total:"," ",e("span",{className:"font-inter",children:l(T)})]}),h("span",{className:"image-text",children:["Total de Horas:"," ",e("span",{className:"font-inter",children:E(T)})]})]}),_=()=>{const T=me.book_new(),v=me.json_to_sheet([x]),u=[];Object.values(d).map(F=>u.push(...F));const N=me.json_to_sheet(u);me.book_append_sheet(T,v,"Geral"),me.book_append_sheet(T,N,"Detalhado");const L=`${x.nome} ${B(g.dataInicio).format("DD-MM-YYYY")} at\xE9 ${B(g.dataFim).format("DD-MM-YYYY")}.xlsx`;da(T,L)},k=()=>h(M,{children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:ja,screen:"FINANCEIRO",onSubmit:T=>y(T,"terapeuta"),onReset:()=>{},loading:a,dropdown:n}),!a&&Object.values(d).length?h("div",{className:"grid sm:grid-cols-3 sm:gap-2",children:[e(ae,{children:h("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-users"}),h("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:x.especialidade}),e("span",{className:"font-inter",children:x.nome})]})]})}),e(ae,{children:h("div",{className:"flex gap-2 justify-around",children:[h("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-stopwatch"}),h("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Horas"}),e("span",{className:"font-inter",children:x.horas})]})]}),h("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-car"}),h("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"km"}),e("span",{className:"font-inter",children:x.valorKm})]})]})]})}),e(ae,{children:h("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-money-bill"}),h("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Total total"}),e("span",{className:"font-inter",children:ce.format(x.valorTotal)})]})]})})]}):null,e(ae,{children:e("div",{className:"flex justify-center",children:a?e(Ue,{}):Object.keys(d).length?h("div",{className:"w-full text-md ",children:[e("div",{className:"sm:text-end mb-4",children:e(W,{text:"Download Excel",icon:"pi pi-download",type:"primary",size:"sm",onClick:_})}),e(Le,{children:Object.keys(d).map((T,v)=>e(Oe,{header:i(d[T],T),tabIndex:v,children:h(Re,{value:d[T],responsiveLayout:"scroll",children:[e(te,{sortable:!0,field:"data",header:"Data",body:({data:u})=>e("span",{className:"font-inter",children:u})}),e(te,{sortable:!0,field:"horas",header:"Tempo",body:({horas:u})=>e("span",{className:"font-inter",children:u})}),e(te,{sortable:!0,field:"status",header:"Status"}),e(te,{sortable:!0,field:"km",header:"km",body:u=>u.km==0?"-":u.km}),e(te,{sortable:!0,field:"valorKm",header:"ValorKm km",body:u=>u.valorKm==0?"-":ce.format(u.valorKm)}),e(te,{sortable:!0,field:"sessao",header:"Valor da Sess\xE3o",body:({sessao:u})=>e("span",{className:"font-inter",children:ce.format(u)})}),e(te,{sortable:!0,field:"valorSessao",header:"Comiss\xE3o",body:({valorSessao:u})=>e("span",{className:"font-inter",children:ce.format(u)})}),e(te,{sortable:!0,field:"valorTotal",header:"Valor Total",body:({valorTotal:u})=>e("span",{className:"font-inter",children:ce.format(u)})})]})},v))})]}):e("div",{className:"w-full flex items-center  justify-center",children:e(qe,{})})})})]}),V=()=>h(M,{children:[e(ge,{id:"form-filter-patient",legend:"Filtro",fields:Ma,screen:"FINANCEIRO",onSubmit:T=>y(T,"paciente"),onReset:()=>{},loading:a,dropdown:n}),!a&&Object.keys(d).length?e(M,{children:h("div",{className:"grid sm:grid-cols-2 sm:gap-2",children:[e(ae,{children:h("div",{className:"flex gap-2 justify-around",children:[h("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-stopwatch"}),h("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Horas"}),e("span",{className:"font-inter",children:x.horas})]})]}),h("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-car"}),h("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"km"}),e("span",{className:"font-inter",children:x.valorKm})]})]}),h("div",{className:"flex gap-4 items-center",children:[e("i",{className:"pi pi-money-bill"}),h("div",{className:"grid",children:[e("span",{className:"text-gray-600 text-sm",children:"Total total"}),e("span",{className:"font-inter",children:ce.format(x.valorTotal)})]})]})]})}),e(ae,{children:e("div",{className:"flex flex-wrap gap-2 items-left",children:x.especialidadeSessoes&&Object.keys(x.especialidadeSessoes).map(T=>e(M,{children:h("div",{className:"flex gap-2 items-center",children:[e("div",{className:`h-2 w-2 rounded-full ${Xe[T.toUpperCase()]}`}),h("div",{className:"grid",children:[h("span",{children:[" ",T," "]}),h("span",{className:"font-inter",children:[" ",x.especialidadeSessoes[T]," "]})]})]})}))})})]})}):null,e(ae,{children:a?e(Ue,{}):Object.keys(d).length?h("div",{className:"w-full ",children:[e("div",{className:"sm:text-end mb-4",children:e(W,{text:"Download Excel",icon:"pi pi-download",type:"primary",size:"sm",onClick:_})}),e(Le,{activeIndex:0,children:Object.keys(d).map((T,v)=>e(Oe,{header:i(d[T],T),tabIndex:v,children:h(Re,{value:d[T],responsiveLayout:"scroll",children:[e(te,{sortable:!0,field:"data",header:"Data",body:({data:u})=>e("span",{className:"font-inter",children:u})}),e(te,{sortable:!0,field:"status",header:"Status"}),e(te,{sortable:!0,field:"km",header:"km"}),e(te,{sortable:!0,field:"especialidade",header:"especialidade",body:({especialidade:u})=>h("div",{className:"flex gap-2 items-center",children:[e("div",{className:`h-2 w-2 rounded-full ${Xe[u.toUpperCase()]}`}),h("span",{children:[" ",u," "]})]})}),e(te,{sortable:!0,field:"sessao",header:"Valor da Sess\xE3o",body:({sessao:u})=>e("span",{className:"font-inter",children:ce.format(u)})})]})}))})]}):e("div",{className:"w-full flex items-center  justify-center",children:e(qe,{})})})]});return t.exports.useEffect(()=>{w()},[]),e("div",{className:"grid gap-8",children:h(la,{className:"tabview-custom",onBeforeTabChange:T=>I(T),children:[e(xe,{header:"Terapeuta",leftIcon:"pi pi-user",children:k()}),e(xe,{header:"Paciente",leftIcon:"pi pi-user",children:V()})]})})}var za=(a=>(a.HOME="home",a.DASHBOARD="dashboard",a.QUEUE="fila",a.CRUD="cadastro",a.CALENDAR="agenda",a.FINANCEIRO="financeiro",a))(za||{});const Js=()=>{const{hasPermition:a}=ee();return h("div",{className:"min-h-full overflow-hidden",children:[e(Ts,{}),e(ca,{children:[{path:"*",componentRoute:oa},{path:"home",componentRoute:oa},{path:"dashboard",componentRoute:Ls},{path:"cadastro",componentRoute:Fs},{path:"fila",componentRoute:js},{path:"agenda",componentRoute:Gs},{path:"financeiro",componentRoute:Ws}].map((n,o)=>e(He,{path:n.path,element:a(n.path)?e(Ss,{children:e(n.componentRoute,{})}):null},o))})]})};function Ks(){const{signed:a}=$e();return a?e(na,{children:e(Nt,{children:e(ws,{children:e(Js,{})})})}):e(As,{})}function Zs(){return e("div",{className:"App",children:e(_t,{children:e(Ft,{children:e(Ks,{})})})})}Ha.createRoot(document.getElementById("root")).render(e(Ya.StrictMode,{children:e(Zs,{})}));
